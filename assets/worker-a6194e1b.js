var Qn=Object.defineProperty;var Vn=(Pe,Ie,Fe)=>Ie in Pe?Qn(Pe,Ie,{enumerable:!0,configurable:!0,writable:!0,value:Fe}):Pe[Ie]=Fe;var He=(Pe,Ie,Fe)=>(Vn(Pe,typeof Ie!="symbol"?Ie+"":Ie,Fe),Fe);(function(){"use strict";var Pe=(()=>{var de=self.location.href;return function(ie){var ye=ie||{},n=typeof ye<"u"?ye:{},Le,we;n.ready=new Promise(function(r,t){Le=r,we=t});const De=self.sqlite3InitModuleState||Object.assign(Object.create(null),{debugModule:()=>{}});delete self.sqlite3InitModuleState,De.debugModule("self.location =",self.location);const Ge="emscripten-bug-17951";n[Ge]=function r(t,i){t.env.foo=function(){};const s=n.locateFile(r.uri,typeof ve>"u"?"":ve);De.debugModule("instantiateWasm() uri =",s);const o=()=>fetch(s,{credentials:"same-origin"});return(WebAssembly.instantiateStreaming?async()=>WebAssembly.instantiateStreaming(o(),t).then(g=>i(g.instance,g.module)):async()=>o().then(g=>g.arrayBuffer()).then(g=>WebAssembly.instantiate(g,t)).then(g=>i(g.instance,g.module)))(),{}},n[Ge].uri="sqlite3.wasm";var ct=Object.assign({},n),ut="./this.program",_t=typeof window=="object",ze=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var ve="";function Ct(r){return n.locateFile?n.locateFile(r,ve):ve+r}var et,ft,tt;(_t||ze)&&(ze?ve=self.location.href:typeof document<"u"&&document.currentScript&&(ve=document.currentScript.src),de&&(ve=de),ve.indexOf("blob:")!==0?ve=ve.substr(0,ve.replace(/[?#].*/,"").lastIndexOf("/")+1):ve="",et=r=>{var t=new XMLHttpRequest;return t.open("GET",r,!1),t.send(null),t.responseText},ze&&(tt=r=>{var t=new XMLHttpRequest;return t.open("GET",r,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),ft=(r,t,i)=>{var s=new XMLHttpRequest;s.open("GET",r,!0),s.responseType="arraybuffer",s.onload=()=>{if(s.status==200||s.status==0&&s.response){t(s.response);return}i()},s.onerror=i,s.send(null)});var Ke=n.print||console.log.bind(console),Te=n.printErr||console.warn.bind(console);Object.assign(n,ct),ct=null,n.arguments&&n.arguments,n.thisProgram&&(ut=n.thisProgram),n.quit&&n.quit;var Be;n.wasmBinary&&(Be=n.wasmBinary),n.noExitRuntime,typeof WebAssembly!="object"&&Re("no native wasm support detected");var Oe,pt=!1;function Rt(r,t){r||Re(t)}var dt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Ne(r,t,i){for(var s=t+i,o=t;r[o]&&!(o>=s);)++o;if(o-t>16&&r.buffer&&dt)return dt.decode(r.subarray(t,o));for(var c="";t<o;){var g=r[t++];if(!(g&128)){c+=String.fromCharCode(g);continue}var E=r[t++]&63;if((g&224)==192){c+=String.fromCharCode((g&31)<<6|E);continue}var F=r[t++]&63;if((g&240)==224?g=(g&15)<<12|E<<6|F:g=(g&7)<<18|E<<12|F<<6|r[t++]&63,g<65536)c+=String.fromCharCode(g);else{var C=g-65536;c+=String.fromCharCode(55296|C>>10,56320|C&1023)}}return c}function Mt(r,t){return r?Ne(We,r,t):""}function Je(r,t,i,s){if(!(s>0))return 0;for(var o=i,c=i+s-1,g=0;g<r.length;++g){var E=r.charCodeAt(g);if(E>=55296&&E<=57343){var F=r.charCodeAt(++g);E=65536+((E&1023)<<10)|F&1023}if(E<=127){if(i>=c)break;t[i++]=E}else if(E<=2047){if(i+1>=c)break;t[i++]=192|E>>6,t[i++]=128|E&63}else if(E<=65535){if(i+2>=c)break;t[i++]=224|E>>12,t[i++]=128|E>>6&63,t[i++]=128|E&63}else{if(i+3>=c)break;t[i++]=240|E>>18,t[i++]=128|E>>12&63,t[i++]=128|E>>6&63,t[i++]=128|E&63}}return t[i]=0,i-o}function mt(r,t,i){return Je(r,We,t,i)}function Ue(r){for(var t=0,i=0;i<r.length;++i){var s=r.charCodeAt(i);s<=127?t++:s<=2047?t+=2:s>=55296&&s<=57343?(t+=4,++i):t+=3}return t}var qe,We,gt,ee,fe;function ht(){var r=Oe.buffer;n.HEAP8=qe=new Int8Array(r),n.HEAP16=gt=new Int16Array(r),n.HEAP32=ee=new Int32Array(r),n.HEAPU8=We=new Uint8Array(r),n.HEAPU16=new Uint16Array(r),n.HEAPU32=fe=new Uint32Array(r),n.HEAPF32=new Float32Array(r),n.HEAPF64=new Float64Array(r),n.HEAP64=new BigInt64Array(r),n.HEAPU64=new BigUint64Array(r)}var yt=n.INITIAL_MEMORY||16777216;n.wasmMemory?Oe=n.wasmMemory:Oe=new WebAssembly.Memory({initial:yt/65536,maximum:32768}),ht(),yt=Oe.buffer.byteLength;var qt=[],bt=[],wt=[];function Nt(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)Bt(n.preRun.shift());rt(qt)}function jt(){!n.noFSInit&&!l.init.initialized&&l.init(),l.ignorePermissions=!1,rt(bt)}function zt(){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)Wt(n.postRun.shift());rt(wt)}function Bt(r){qt.unshift(r)}function Ut(r){bt.unshift(r)}function Wt(r){wt.unshift(r)}var Ce=0,Qe=null;function Hn(r){return r}function nt(r){Ce++,n.monitorRunDependencies&&n.monitorRunDependencies(Ce)}function $e(r){if(Ce--,n.monitorRunDependencies&&n.monitorRunDependencies(Ce),Ce==0&&Qe){var t=Qe;Qe=null,t()}}function Re(r){n.onAbort&&n.onAbort(r),r="Aborted("+r+")",Te(r),pt=!0,r+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(r);throw we(t),t}var Qt="data:application/octet-stream;base64,";function vt(r){return r.startsWith(Qt)}var Ee;n.locateFile?(Ee="sqlite3.wasm",vt(Ee)||(Ee=Ct(Ee))):Ee=new URL(""+new URL("sqlite3-2d34bf92.wasm",self.location.href).href,self.location).href;function Et(r){try{if(r==Ee&&Be)return new Uint8Array(Be);if(tt)return tt(r);throw"both async and sync fetching of the wasm failed"}catch(t){Re(t)}}function Vt(){return!Be&&(_t||ze)&&typeof fetch=="function"?fetch(Ee,{credentials:"same-origin"}).then(function(r){if(!r.ok)throw"failed to load wasm binary file at '"+Ee+"'";return r.arrayBuffer()}).catch(function(){return Et(Ee)}):Promise.resolve().then(function(){return Et(Ee)})}function Ht(){var r={env:Ft,wasi_snapshot_preview1:Ft};function t(g,E){var F=g.exports;n.asm=F,n.asm.__indirect_function_table,Ut(n.asm.__wasm_call_ctors),$e()}nt();function i(g){t(g.instance)}function s(g){return Vt().then(function(E){return WebAssembly.instantiate(E,r)}).then(function(E){return E}).then(g,function(E){Te("failed to asynchronously prepare wasm: "+E),Re(E)})}function o(){return!Be&&typeof WebAssembly.instantiateStreaming=="function"&&!vt(Ee)&&typeof fetch=="function"?fetch(Ee,{credentials:"same-origin"}).then(function(g){var E=WebAssembly.instantiateStreaming(g,r);return E.then(i,function(F){return Te("wasm streaming compile failed: "+F),Te("falling back to ArrayBuffer instantiation"),s(i)})}):s(i)}if(n.instantiateWasm)try{var c=n.instantiateWasm(r,t);return c}catch(g){Te("Module.instantiateWasm callback failed with error: "+g),we(g)}return o().catch(we),{}}var te,me;function rt(r){for(;r.length>0;)r.shift()(n)}var re={isAbs:r=>r.charAt(0)==="/",splitPath:r=>{var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return t.exec(r).slice(1)},normalizeArray:(r,t)=>{for(var i=0,s=r.length-1;s>=0;s--){var o=r[s];o==="."?r.splice(s,1):o===".."?(r.splice(s,1),i++):i&&(r.splice(s,1),i--)}if(t)for(;i;i--)r.unshift("..");return r},normalize:r=>{var t=re.isAbs(r),i=r.substr(-1)==="/";return r=re.normalizeArray(r.split("/").filter(s=>!!s),!t).join("/"),!r&&!t&&(r="."),r&&i&&(r+="/"),(t?"/":"")+r},dirname:r=>{var t=re.splitPath(r),i=t[0],s=t[1];return!i&&!s?".":(s&&(s=s.substr(0,s.length-1)),i+s)},basename:r=>{if(r==="/")return"/";r=re.normalize(r),r=r.replace(/\/$/,"");var t=r.lastIndexOf("/");return t===-1?r:r.substr(t+1)},join:function(){var r=Array.prototype.slice.call(arguments);return re.normalize(r.join("/"))},join2:(r,t)=>re.normalize(r+"/"+t)};function Gt(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var r=new Uint8Array(1);return()=>(crypto.getRandomValues(r),r[0])}else return()=>Re("randomDevice")}var ke={resolve:function(){for(var r="",t=!1,i=arguments.length-1;i>=-1&&!t;i--){var s=i>=0?arguments[i]:l.cwd();if(typeof s!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!s)return"";r=s+"/"+r,t=re.isAbs(s)}return r=re.normalizeArray(r.split("/").filter(o=>!!o),!t).join("/"),(t?"/":"")+r||"."},relative:(r,t)=>{r=ke.resolve(r).substr(1),t=ke.resolve(t).substr(1);function i(C){for(var z=0;z<C.length&&C[z]==="";z++);for(var V=C.length-1;V>=0&&C[V]==="";V--);return z>V?[]:C.slice(z,V-z+1)}for(var s=i(r.split("/")),o=i(t.split("/")),c=Math.min(s.length,o.length),g=c,E=0;E<c;E++)if(s[E]!==o[E]){g=E;break}for(var F=[],E=g;E<s.length;E++)F.push("..");return F=F.concat(o.slice(g)),F.join("/")}};function st(r,t,i){var s=i>0?i:Ue(r)+1,o=new Array(s),c=Je(r,o,0,o.length);return t&&(o.length=c),o}var Me={ttys:[],init:function(){},shutdown:function(){},register:function(r,t){Me.ttys[r]={input:[],output:[],ops:t},l.registerDevice(r,Me.stream_ops)},stream_ops:{open:function(r){var t=Me.ttys[r.node.rdev];if(!t)throw new l.ErrnoError(43);r.tty=t,r.seekable=!1},close:function(r){r.tty.ops.fsync(r.tty)},fsync:function(r){r.tty.ops.fsync(r.tty)},read:function(r,t,i,s,o){if(!r.tty||!r.tty.ops.get_char)throw new l.ErrnoError(60);for(var c=0,g=0;g<s;g++){var E;try{E=r.tty.ops.get_char(r.tty)}catch{throw new l.ErrnoError(29)}if(E===void 0&&c===0)throw new l.ErrnoError(6);if(E==null)break;c++,t[i+g]=E}return c&&(r.node.timestamp=Date.now()),c},write:function(r,t,i,s,o){if(!r.tty||!r.tty.ops.put_char)throw new l.ErrnoError(60);try{for(var c=0;c<s;c++)r.tty.ops.put_char(r.tty,t[i+c])}catch{throw new l.ErrnoError(29)}return s&&(r.node.timestamp=Date.now()),c}},default_tty_ops:{get_char:function(r){if(!r.input.length){var t=null;if(typeof window<"u"&&typeof window.prompt=="function"?(t=window.prompt("Input: "),t!==null&&(t+=`
`)):typeof readline=="function"&&(t=readline(),t!==null&&(t+=`
`)),!t)return null;r.input=st(t,!0)}return r.input.shift()},put_char:function(r,t){t===null||t===10?(Ke(Ne(r.output,0)),r.output=[]):t!=0&&r.output.push(t)},fsync:function(r){r.output&&r.output.length>0&&(Ke(Ne(r.output,0)),r.output=[])}},default_tty1_ops:{put_char:function(r,t){t===null||t===10?(Te(Ne(r.output,0)),r.output=[]):t!=0&&r.output.push(t)},fsync:function(r){r.output&&r.output.length>0&&(Te(Ne(r.output,0)),r.output=[])}}};function xt(r){Re()}var Z={ops_table:null,mount:function(r){return Z.createNode(null,"/",16895,0)},createNode:function(r,t,i,s){if(l.isBlkdev(i)||l.isFIFO(i))throw new l.ErrnoError(63);Z.ops_table||(Z.ops_table={dir:{node:{getattr:Z.node_ops.getattr,setattr:Z.node_ops.setattr,lookup:Z.node_ops.lookup,mknod:Z.node_ops.mknod,rename:Z.node_ops.rename,unlink:Z.node_ops.unlink,rmdir:Z.node_ops.rmdir,readdir:Z.node_ops.readdir,symlink:Z.node_ops.symlink},stream:{llseek:Z.stream_ops.llseek}},file:{node:{getattr:Z.node_ops.getattr,setattr:Z.node_ops.setattr},stream:{llseek:Z.stream_ops.llseek,read:Z.stream_ops.read,write:Z.stream_ops.write,allocate:Z.stream_ops.allocate,mmap:Z.stream_ops.mmap,msync:Z.stream_ops.msync}},link:{node:{getattr:Z.node_ops.getattr,setattr:Z.node_ops.setattr,readlink:Z.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Z.node_ops.getattr,setattr:Z.node_ops.setattr},stream:l.chrdev_stream_ops}});var o=l.createNode(r,t,i,s);return l.isDir(o.mode)?(o.node_ops=Z.ops_table.dir.node,o.stream_ops=Z.ops_table.dir.stream,o.contents={}):l.isFile(o.mode)?(o.node_ops=Z.ops_table.file.node,o.stream_ops=Z.ops_table.file.stream,o.usedBytes=0,o.contents=null):l.isLink(o.mode)?(o.node_ops=Z.ops_table.link.node,o.stream_ops=Z.ops_table.link.stream):l.isChrdev(o.mode)&&(o.node_ops=Z.ops_table.chrdev.node,o.stream_ops=Z.ops_table.chrdev.stream),o.timestamp=Date.now(),r&&(r.contents[t]=o,r.timestamp=o.timestamp),o},getFileDataAsTypedArray:function(r){return r.contents?r.contents.subarray?r.contents.subarray(0,r.usedBytes):new Uint8Array(r.contents):new Uint8Array(0)},expandFileStorage:function(r,t){var i=r.contents?r.contents.length:0;if(!(i>=t)){var s=1024*1024;t=Math.max(t,i*(i<s?2:1.125)>>>0),i!=0&&(t=Math.max(t,256));var o=r.contents;r.contents=new Uint8Array(t),r.usedBytes>0&&r.contents.set(o.subarray(0,r.usedBytes),0)}},resizeFileStorage:function(r,t){if(r.usedBytes!=t)if(t==0)r.contents=null,r.usedBytes=0;else{var i=r.contents;r.contents=new Uint8Array(t),i&&r.contents.set(i.subarray(0,Math.min(t,r.usedBytes))),r.usedBytes=t}},node_ops:{getattr:function(r){var t={};return t.dev=l.isChrdev(r.mode)?r.id:1,t.ino=r.id,t.mode=r.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=r.rdev,l.isDir(r.mode)?t.size=4096:l.isFile(r.mode)?t.size=r.usedBytes:l.isLink(r.mode)?t.size=r.link.length:t.size=0,t.atime=new Date(r.timestamp),t.mtime=new Date(r.timestamp),t.ctime=new Date(r.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(r,t){t.mode!==void 0&&(r.mode=t.mode),t.timestamp!==void 0&&(r.timestamp=t.timestamp),t.size!==void 0&&Z.resizeFileStorage(r,t.size)},lookup:function(r,t){throw l.genericErrors[44]},mknod:function(r,t,i,s){return Z.createNode(r,t,i,s)},rename:function(r,t,i){if(l.isDir(r.mode)){var s;try{s=l.lookupNode(t,i)}catch{}if(s)for(var o in s.contents)throw new l.ErrnoError(55)}delete r.parent.contents[r.name],r.parent.timestamp=Date.now(),r.name=i,t.contents[i]=r,t.timestamp=r.parent.timestamp,r.parent=t},unlink:function(r,t){delete r.contents[t],r.timestamp=Date.now()},rmdir:function(r,t){var i=l.lookupNode(r,t);for(var s in i.contents)throw new l.ErrnoError(55);delete r.contents[t],r.timestamp=Date.now()},readdir:function(r){var t=[".",".."];for(var i in r.contents)r.contents.hasOwnProperty(i)&&t.push(i);return t},symlink:function(r,t,i){var s=Z.createNode(r,t,41471,0);return s.link=i,s},readlink:function(r){if(!l.isLink(r.mode))throw new l.ErrnoError(28);return r.link}},stream_ops:{read:function(r,t,i,s,o){var c=r.node.contents;if(o>=r.node.usedBytes)return 0;var g=Math.min(r.node.usedBytes-o,s);if(g>8&&c.subarray)t.set(c.subarray(o,o+g),i);else for(var E=0;E<g;E++)t[i+E]=c[o+E];return g},write:function(r,t,i,s,o,c){if(t.buffer===qe.buffer&&(c=!1),!s)return 0;var g=r.node;if(g.timestamp=Date.now(),t.subarray&&(!g.contents||g.contents.subarray)){if(c)return g.contents=t.subarray(i,i+s),g.usedBytes=s,s;if(g.usedBytes===0&&o===0)return g.contents=t.slice(i,i+s),g.usedBytes=s,s;if(o+s<=g.usedBytes)return g.contents.set(t.subarray(i,i+s),o),s}if(Z.expandFileStorage(g,o+s),g.contents.subarray&&t.subarray)g.contents.set(t.subarray(i,i+s),o);else for(var E=0;E<s;E++)g.contents[o+E]=t[i+E];return g.usedBytes=Math.max(g.usedBytes,o+s),s},llseek:function(r,t,i){var s=t;if(i===1?s+=r.position:i===2&&l.isFile(r.node.mode)&&(s+=r.node.usedBytes),s<0)throw new l.ErrnoError(28);return s},allocate:function(r,t,i){Z.expandFileStorage(r.node,t+i),r.node.usedBytes=Math.max(r.node.usedBytes,t+i)},mmap:function(r,t,i,s,o){if(!l.isFile(r.node.mode))throw new l.ErrnoError(43);var c,g,E=r.node.contents;if(!(o&2)&&E.buffer===qe.buffer)g=!1,c=E.byteOffset;else{if((i>0||i+t<E.length)&&(E.subarray?E=E.subarray(i,i+t):E=Array.prototype.slice.call(E,i,i+t)),g=!0,c=xt(),!c)throw new l.ErrnoError(48);qe.set(E,c)}return{ptr:c,allocated:g}},msync:function(r,t,i,s,o){return Z.stream_ops.write(r,t,0,s,i,!1),0}}};function Kt(r,t,i,s){var o=s?"":"al "+r;ft(r,c=>{Rt(c,'Loading data file "'+r+'" failed (no arrayBuffer).'),t(new Uint8Array(c)),o&&$e()},c=>{if(i)i();else throw'Loading data file "'+r+'" failed.'}),o&&nt()}var l={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(r,t={})=>{if(r=ke.resolve(r),!r)return{path:"",node:null};var i={follow_mount:!0,recurse_count:0};if(t=Object.assign(i,t),t.recurse_count>8)throw new l.ErrnoError(32);for(var s=r.split("/").filter(V=>!!V),o=l.root,c="/",g=0;g<s.length;g++){var E=g===s.length-1;if(E&&t.parent)break;if(o=l.lookupNode(o,s[g]),c=re.join2(c,s[g]),l.isMountpoint(o)&&(!E||E&&t.follow_mount)&&(o=o.mounted.root),!E||t.follow)for(var F=0;l.isLink(o.mode);){var C=l.readlink(c);c=ke.resolve(re.dirname(c),C);var z=l.lookupPath(c,{recurse_count:t.recurse_count+1});if(o=z.node,F++>40)throw new l.ErrnoError(32)}}return{path:c,node:o}},getPath:r=>{for(var t;;){if(l.isRoot(r)){var i=r.mount.mountpoint;return t?i[i.length-1]!=="/"?i+"/"+t:i+t:i}t=t?r.name+"/"+t:r.name,r=r.parent}},hashName:(r,t)=>{for(var i=0,s=0;s<t.length;s++)i=(i<<5)-i+t.charCodeAt(s)|0;return(r+i>>>0)%l.nameTable.length},hashAddNode:r=>{var t=l.hashName(r.parent.id,r.name);r.name_next=l.nameTable[t],l.nameTable[t]=r},hashRemoveNode:r=>{var t=l.hashName(r.parent.id,r.name);if(l.nameTable[t]===r)l.nameTable[t]=r.name_next;else for(var i=l.nameTable[t];i;){if(i.name_next===r){i.name_next=r.name_next;break}i=i.name_next}},lookupNode:(r,t)=>{var i=l.mayLookup(r);if(i)throw new l.ErrnoError(i,r);for(var s=l.hashName(r.id,t),o=l.nameTable[s];o;o=o.name_next){var c=o.name;if(o.parent.id===r.id&&c===t)return o}return l.lookup(r,t)},createNode:(r,t,i,s)=>{var o=new l.FSNode(r,t,i,s);return l.hashAddNode(o),o},destroyNode:r=>{l.hashRemoveNode(r)},isRoot:r=>r===r.parent,isMountpoint:r=>!!r.mounted,isFile:r=>(r&61440)===32768,isDir:r=>(r&61440)===16384,isLink:r=>(r&61440)===40960,isChrdev:r=>(r&61440)===8192,isBlkdev:r=>(r&61440)===24576,isFIFO:r=>(r&61440)===4096,isSocket:r=>(r&49152)===49152,flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:r=>{var t=l.flagModes[r];if(typeof t>"u")throw new Error("Unknown file open mode: "+r);return t},flagsToPermissionString:r=>{var t=["r","w","rw"][r&3];return r&512&&(t+="w"),t},nodePermissions:(r,t)=>l.ignorePermissions?0:t.includes("r")&&!(r.mode&292)||t.includes("w")&&!(r.mode&146)||t.includes("x")&&!(r.mode&73)?2:0,mayLookup:r=>{var t=l.nodePermissions(r,"x");return t||(r.node_ops.lookup?0:2)},mayCreate:(r,t)=>{try{var i=l.lookupNode(r,t);return 20}catch{}return l.nodePermissions(r,"wx")},mayDelete:(r,t,i)=>{var s;try{s=l.lookupNode(r,t)}catch(c){return c.errno}var o=l.nodePermissions(r,"wx");if(o)return o;if(i){if(!l.isDir(s.mode))return 54;if(l.isRoot(s)||l.getPath(s)===l.cwd())return 10}else if(l.isDir(s.mode))return 31;return 0},mayOpen:(r,t)=>r?l.isLink(r.mode)?32:l.isDir(r.mode)&&(l.flagsToPermissionString(t)!=="r"||t&512)?31:l.nodePermissions(r,l.flagsToPermissionString(t)):44,MAX_OPEN_FDS:4096,nextfd:(r=0,t=l.MAX_OPEN_FDS)=>{for(var i=r;i<=t;i++)if(!l.streams[i])return i;throw new l.ErrnoError(33)},getStream:r=>l.streams[r],createStream:(r,t,i)=>{l.FSStream||(l.FSStream=function(){this.shared={}},l.FSStream.prototype={},Object.defineProperties(l.FSStream.prototype,{object:{get:function(){return this.node},set:function(o){this.node=o}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}},flags:{get:function(){return this.shared.flags},set:function(o){this.shared.flags=o}},position:{get:function(){return this.shared.position},set:function(o){this.shared.position=o}}})),r=Object.assign(new l.FSStream,r);var s=l.nextfd(t,i);return r.fd=s,l.streams[s]=r,r},closeStream:r=>{l.streams[r]=null},chrdev_stream_ops:{open:r=>{var t=l.getDevice(r.node.rdev);r.stream_ops=t.stream_ops,r.stream_ops.open&&r.stream_ops.open(r)},llseek:()=>{throw new l.ErrnoError(70)}},major:r=>r>>8,minor:r=>r&255,makedev:(r,t)=>r<<8|t,registerDevice:(r,t)=>{l.devices[r]={stream_ops:t}},getDevice:r=>l.devices[r],getMounts:r=>{for(var t=[],i=[r];i.length;){var s=i.pop();t.push(s),i.push.apply(i,s.mounts)}return t},syncfs:(r,t)=>{typeof r=="function"&&(t=r,r=!1),l.syncFSRequests++,l.syncFSRequests>1&&Te("warning: "+l.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var i=l.getMounts(l.root.mount),s=0;function o(g){return l.syncFSRequests--,t(g)}function c(g){if(g)return c.errored?void 0:(c.errored=!0,o(g));++s>=i.length&&o(null)}i.forEach(g=>{if(!g.type.syncfs)return c(null);g.type.syncfs(g,r,c)})},mount:(r,t,i)=>{var s=i==="/",o=!i,c;if(s&&l.root)throw new l.ErrnoError(10);if(!s&&!o){var g=l.lookupPath(i,{follow_mount:!1});if(i=g.path,c=g.node,l.isMountpoint(c))throw new l.ErrnoError(10);if(!l.isDir(c.mode))throw new l.ErrnoError(54)}var E={type:r,opts:t,mountpoint:i,mounts:[]},F=r.mount(E);return F.mount=E,E.root=F,s?l.root=F:c&&(c.mounted=E,c.mount&&c.mount.mounts.push(E)),F},unmount:r=>{var t=l.lookupPath(r,{follow_mount:!1});if(!l.isMountpoint(t.node))throw new l.ErrnoError(28);var i=t.node,s=i.mounted,o=l.getMounts(s);Object.keys(l.nameTable).forEach(g=>{for(var E=l.nameTable[g];E;){var F=E.name_next;o.includes(E.mount)&&l.destroyNode(E),E=F}}),i.mounted=null;var c=i.mount.mounts.indexOf(s);i.mount.mounts.splice(c,1)},lookup:(r,t)=>r.node_ops.lookup(r,t),mknod:(r,t,i)=>{var s=l.lookupPath(r,{parent:!0}),o=s.node,c=re.basename(r);if(!c||c==="."||c==="..")throw new l.ErrnoError(28);var g=l.mayCreate(o,c);if(g)throw new l.ErrnoError(g);if(!o.node_ops.mknod)throw new l.ErrnoError(63);return o.node_ops.mknod(o,c,t,i)},create:(r,t)=>(t=t!==void 0?t:438,t&=4095,t|=32768,l.mknod(r,t,0)),mkdir:(r,t)=>(t=t!==void 0?t:511,t&=1023,t|=16384,l.mknod(r,t,0)),mkdirTree:(r,t)=>{for(var i=r.split("/"),s="",o=0;o<i.length;++o)if(i[o]){s+="/"+i[o];try{l.mkdir(s,t)}catch(c){if(c.errno!=20)throw c}}},mkdev:(r,t,i)=>(typeof i>"u"&&(i=t,t=438),t|=8192,l.mknod(r,t,i)),symlink:(r,t)=>{if(!ke.resolve(r))throw new l.ErrnoError(44);var i=l.lookupPath(t,{parent:!0}),s=i.node;if(!s)throw new l.ErrnoError(44);var o=re.basename(t),c=l.mayCreate(s,o);if(c)throw new l.ErrnoError(c);if(!s.node_ops.symlink)throw new l.ErrnoError(63);return s.node_ops.symlink(s,o,r)},rename:(r,t)=>{var i=re.dirname(r),s=re.dirname(t),o=re.basename(r),c=re.basename(t),g,E,F;if(g=l.lookupPath(r,{parent:!0}),E=g.node,g=l.lookupPath(t,{parent:!0}),F=g.node,!E||!F)throw new l.ErrnoError(44);if(E.mount!==F.mount)throw new l.ErrnoError(75);var C=l.lookupNode(E,o),z=ke.relative(r,s);if(z.charAt(0)!==".")throw new l.ErrnoError(28);if(z=ke.relative(t,i),z.charAt(0)!==".")throw new l.ErrnoError(55);var V;try{V=l.lookupNode(F,c)}catch{}if(C!==V){var b=l.isDir(C.mode),h=l.mayDelete(E,o,b);if(h)throw new l.ErrnoError(h);if(h=V?l.mayDelete(F,c,b):l.mayCreate(F,c),h)throw new l.ErrnoError(h);if(!E.node_ops.rename)throw new l.ErrnoError(63);if(l.isMountpoint(C)||V&&l.isMountpoint(V))throw new l.ErrnoError(10);if(F!==E&&(h=l.nodePermissions(E,"w"),h))throw new l.ErrnoError(h);l.hashRemoveNode(C);try{E.node_ops.rename(C,F,c)}catch(f){throw f}finally{l.hashAddNode(C)}}},rmdir:r=>{var t=l.lookupPath(r,{parent:!0}),i=t.node,s=re.basename(r),o=l.lookupNode(i,s),c=l.mayDelete(i,s,!0);if(c)throw new l.ErrnoError(c);if(!i.node_ops.rmdir)throw new l.ErrnoError(63);if(l.isMountpoint(o))throw new l.ErrnoError(10);i.node_ops.rmdir(i,s),l.destroyNode(o)},readdir:r=>{var t=l.lookupPath(r,{follow:!0}),i=t.node;if(!i.node_ops.readdir)throw new l.ErrnoError(54);return i.node_ops.readdir(i)},unlink:r=>{var t=l.lookupPath(r,{parent:!0}),i=t.node;if(!i)throw new l.ErrnoError(44);var s=re.basename(r),o=l.lookupNode(i,s),c=l.mayDelete(i,s,!1);if(c)throw new l.ErrnoError(c);if(!i.node_ops.unlink)throw new l.ErrnoError(63);if(l.isMountpoint(o))throw new l.ErrnoError(10);i.node_ops.unlink(i,s),l.destroyNode(o)},readlink:r=>{var t=l.lookupPath(r),i=t.node;if(!i)throw new l.ErrnoError(44);if(!i.node_ops.readlink)throw new l.ErrnoError(28);return ke.resolve(l.getPath(i.parent),i.node_ops.readlink(i))},stat:(r,t)=>{var i=l.lookupPath(r,{follow:!t}),s=i.node;if(!s)throw new l.ErrnoError(44);if(!s.node_ops.getattr)throw new l.ErrnoError(63);return s.node_ops.getattr(s)},lstat:r=>l.stat(r,!0),chmod:(r,t,i)=>{var s;if(typeof r=="string"){var o=l.lookupPath(r,{follow:!i});s=o.node}else s=r;if(!s.node_ops.setattr)throw new l.ErrnoError(63);s.node_ops.setattr(s,{mode:t&4095|s.mode&-4096,timestamp:Date.now()})},lchmod:(r,t)=>{l.chmod(r,t,!0)},fchmod:(r,t)=>{var i=l.getStream(r);if(!i)throw new l.ErrnoError(8);l.chmod(i.node,t)},chown:(r,t,i,s)=>{var o;if(typeof r=="string"){var c=l.lookupPath(r,{follow:!s});o=c.node}else o=r;if(!o.node_ops.setattr)throw new l.ErrnoError(63);o.node_ops.setattr(o,{timestamp:Date.now()})},lchown:(r,t,i)=>{l.chown(r,t,i,!0)},fchown:(r,t,i)=>{var s=l.getStream(r);if(!s)throw new l.ErrnoError(8);l.chown(s.node,t,i)},truncate:(r,t)=>{if(t<0)throw new l.ErrnoError(28);var i;if(typeof r=="string"){var s=l.lookupPath(r,{follow:!0});i=s.node}else i=r;if(!i.node_ops.setattr)throw new l.ErrnoError(63);if(l.isDir(i.mode))throw new l.ErrnoError(31);if(!l.isFile(i.mode))throw new l.ErrnoError(28);var o=l.nodePermissions(i,"w");if(o)throw new l.ErrnoError(o);i.node_ops.setattr(i,{size:t,timestamp:Date.now()})},ftruncate:(r,t)=>{var i=l.getStream(r);if(!i)throw new l.ErrnoError(8);if(!(i.flags&2097155))throw new l.ErrnoError(28);l.truncate(i.node,t)},utime:(r,t,i)=>{var s=l.lookupPath(r,{follow:!0}),o=s.node;o.node_ops.setattr(o,{timestamp:Math.max(t,i)})},open:(r,t,i)=>{if(r==="")throw new l.ErrnoError(44);t=typeof t=="string"?l.modeStringToFlags(t):t,i=typeof i>"u"?438:i,t&64?i=i&4095|32768:i=0;var s;if(typeof r=="object")s=r;else{r=re.normalize(r);try{var o=l.lookupPath(r,{follow:!(t&131072)});s=o.node}catch{}}var c=!1;if(t&64)if(s){if(t&128)throw new l.ErrnoError(20)}else s=l.mknod(r,i,0),c=!0;if(!s)throw new l.ErrnoError(44);if(l.isChrdev(s.mode)&&(t&=-513),t&65536&&!l.isDir(s.mode))throw new l.ErrnoError(54);if(!c){var g=l.mayOpen(s,t);if(g)throw new l.ErrnoError(g)}t&512&&!c&&l.truncate(s,0),t&=-131713;var E=l.createStream({node:s,path:l.getPath(s),flags:t,seekable:!0,position:0,stream_ops:s.stream_ops,ungotten:[],error:!1});return E.stream_ops.open&&E.stream_ops.open(E),n.logReadFiles&&!(t&1)&&(l.readFiles||(l.readFiles={}),r in l.readFiles||(l.readFiles[r]=1)),E},close:r=>{if(l.isClosed(r))throw new l.ErrnoError(8);r.getdents&&(r.getdents=null);try{r.stream_ops.close&&r.stream_ops.close(r)}catch(t){throw t}finally{l.closeStream(r.fd)}r.fd=null},isClosed:r=>r.fd===null,llseek:(r,t,i)=>{if(l.isClosed(r))throw new l.ErrnoError(8);if(!r.seekable||!r.stream_ops.llseek)throw new l.ErrnoError(70);if(i!=0&&i!=1&&i!=2)throw new l.ErrnoError(28);return r.position=r.stream_ops.llseek(r,t,i),r.ungotten=[],r.position},read:(r,t,i,s,o)=>{if(s<0||o<0)throw new l.ErrnoError(28);if(l.isClosed(r))throw new l.ErrnoError(8);if((r.flags&2097155)===1)throw new l.ErrnoError(8);if(l.isDir(r.node.mode))throw new l.ErrnoError(31);if(!r.stream_ops.read)throw new l.ErrnoError(28);var c=typeof o<"u";if(!c)o=r.position;else if(!r.seekable)throw new l.ErrnoError(70);var g=r.stream_ops.read(r,t,i,s,o);return c||(r.position+=g),g},write:(r,t,i,s,o,c)=>{if(s<0||o<0)throw new l.ErrnoError(28);if(l.isClosed(r))throw new l.ErrnoError(8);if(!(r.flags&2097155))throw new l.ErrnoError(8);if(l.isDir(r.node.mode))throw new l.ErrnoError(31);if(!r.stream_ops.write)throw new l.ErrnoError(28);r.seekable&&r.flags&1024&&l.llseek(r,0,2);var g=typeof o<"u";if(!g)o=r.position;else if(!r.seekable)throw new l.ErrnoError(70);var E=r.stream_ops.write(r,t,i,s,o,c);return g||(r.position+=E),E},allocate:(r,t,i)=>{if(l.isClosed(r))throw new l.ErrnoError(8);if(t<0||i<=0)throw new l.ErrnoError(28);if(!(r.flags&2097155))throw new l.ErrnoError(8);if(!l.isFile(r.node.mode)&&!l.isDir(r.node.mode))throw new l.ErrnoError(43);if(!r.stream_ops.allocate)throw new l.ErrnoError(138);r.stream_ops.allocate(r,t,i)},mmap:(r,t,i,s,o)=>{if(s&2&&!(o&2)&&(r.flags&2097155)!==2)throw new l.ErrnoError(2);if((r.flags&2097155)===1)throw new l.ErrnoError(2);if(!r.stream_ops.mmap)throw new l.ErrnoError(43);return r.stream_ops.mmap(r,t,i,s,o)},msync:(r,t,i,s,o)=>r.stream_ops.msync?r.stream_ops.msync(r,t,i,s,o):0,munmap:r=>0,ioctl:(r,t,i)=>{if(!r.stream_ops.ioctl)throw new l.ErrnoError(59);return r.stream_ops.ioctl(r,t,i)},readFile:(r,t={})=>{if(t.flags=t.flags||0,t.encoding=t.encoding||"binary",t.encoding!=="utf8"&&t.encoding!=="binary")throw new Error('Invalid encoding type "'+t.encoding+'"');var i,s=l.open(r,t.flags),o=l.stat(r),c=o.size,g=new Uint8Array(c);return l.read(s,g,0,c,0),t.encoding==="utf8"?i=Ne(g,0):t.encoding==="binary"&&(i=g),l.close(s),i},writeFile:(r,t,i={})=>{i.flags=i.flags||577;var s=l.open(r,i.flags,i.mode);if(typeof t=="string"){var o=new Uint8Array(Ue(t)+1),c=Je(t,o,0,o.length);l.write(s,o,0,c,void 0,i.canOwn)}else if(ArrayBuffer.isView(t))l.write(s,t,0,t.byteLength,void 0,i.canOwn);else throw new Error("Unsupported data type");l.close(s)},cwd:()=>l.currentPath,chdir:r=>{var t=l.lookupPath(r,{follow:!0});if(t.node===null)throw new l.ErrnoError(44);if(!l.isDir(t.node.mode))throw new l.ErrnoError(54);var i=l.nodePermissions(t.node,"x");if(i)throw new l.ErrnoError(i);l.currentPath=t.path},createDefaultDirectories:()=>{l.mkdir("/tmp"),l.mkdir("/home"),l.mkdir("/home/web_user")},createDefaultDevices:()=>{l.mkdir("/dev"),l.registerDevice(l.makedev(1,3),{read:()=>0,write:(t,i,s,o,c)=>o}),l.mkdev("/dev/null",l.makedev(1,3)),Me.register(l.makedev(5,0),Me.default_tty_ops),Me.register(l.makedev(6,0),Me.default_tty1_ops),l.mkdev("/dev/tty",l.makedev(5,0)),l.mkdev("/dev/tty1",l.makedev(6,0));var r=Gt();l.createDevice("/dev","random",r),l.createDevice("/dev","urandom",r),l.mkdir("/dev/shm"),l.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{l.mkdir("/proc");var r=l.mkdir("/proc/self");l.mkdir("/proc/self/fd"),l.mount({mount:()=>{var t=l.createNode(r,"fd",16895,73);return t.node_ops={lookup:(i,s)=>{var o=+s,c=l.getStream(o);if(!c)throw new l.ErrnoError(8);var g={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>c.path}};return g.parent=g,g}},t}},{},"/proc/self/fd")},createStandardStreams:()=>{n.stdin?l.createDevice("/dev","stdin",n.stdin):l.symlink("/dev/tty","/dev/stdin"),n.stdout?l.createDevice("/dev","stdout",null,n.stdout):l.symlink("/dev/tty","/dev/stdout"),n.stderr?l.createDevice("/dev","stderr",null,n.stderr):l.symlink("/dev/tty1","/dev/stderr"),l.open("/dev/stdin",0),l.open("/dev/stdout",1),l.open("/dev/stderr",1)},ensureErrnoError:()=>{l.ErrnoError||(l.ErrnoError=function(t,i){this.node=i,this.setErrno=function(s){this.errno=s},this.setErrno(t),this.message="FS error"},l.ErrnoError.prototype=new Error,l.ErrnoError.prototype.constructor=l.ErrnoError,[44].forEach(r=>{l.genericErrors[r]=new l.ErrnoError(r),l.genericErrors[r].stack="<generic error, no stack>"}))},staticInit:()=>{l.ensureErrnoError(),l.nameTable=new Array(4096),l.mount(Z,{},"/"),l.createDefaultDirectories(),l.createDefaultDevices(),l.createSpecialDirectories(),l.filesystems={MEMFS:Z}},init:(r,t,i)=>{l.init.initialized=!0,l.ensureErrnoError(),n.stdin=r||n.stdin,n.stdout=t||n.stdout,n.stderr=i||n.stderr,l.createStandardStreams()},quit:()=>{l.init.initialized=!1;for(var r=0;r<l.streams.length;r++){var t=l.streams[r];t&&l.close(t)}},getMode:(r,t)=>{var i=0;return r&&(i|=365),t&&(i|=146),i},findObject:(r,t)=>{var i=l.analyzePath(r,t);return i.exists?i.object:null},analyzePath:(r,t)=>{try{var i=l.lookupPath(r,{follow:!t});r=i.path}catch{}var s={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var i=l.lookupPath(r,{parent:!0});s.parentExists=!0,s.parentPath=i.path,s.parentObject=i.node,s.name=re.basename(r),i=l.lookupPath(r,{follow:!t}),s.exists=!0,s.path=i.path,s.object=i.node,s.name=i.node.name,s.isRoot=i.path==="/"}catch(o){s.error=o.errno}return s},createPath:(r,t,i,s)=>{r=typeof r=="string"?r:l.getPath(r);for(var o=t.split("/").reverse();o.length;){var c=o.pop();if(c){var g=re.join2(r,c);try{l.mkdir(g)}catch{}r=g}}return g},createFile:(r,t,i,s,o)=>{var c=re.join2(typeof r=="string"?r:l.getPath(r),t),g=l.getMode(s,o);return l.create(c,g)},createDataFile:(r,t,i,s,o,c)=>{var g=t;r&&(r=typeof r=="string"?r:l.getPath(r),g=t?re.join2(r,t):r);var E=l.getMode(s,o),F=l.create(g,E);if(i){if(typeof i=="string"){for(var C=new Array(i.length),z=0,V=i.length;z<V;++z)C[z]=i.charCodeAt(z);i=C}l.chmod(F,E|146);var b=l.open(F,577);l.write(b,i,0,i.length,0,c),l.close(b),l.chmod(F,E)}return F},createDevice:(r,t,i,s)=>{var o=re.join2(typeof r=="string"?r:l.getPath(r),t),c=l.getMode(!!i,!!s);l.createDevice.major||(l.createDevice.major=64);var g=l.makedev(l.createDevice.major++,0);return l.registerDevice(g,{open:E=>{E.seekable=!1},close:E=>{s&&s.buffer&&s.buffer.length&&s(10)},read:(E,F,C,z,V)=>{for(var b=0,h=0;h<z;h++){var f;try{f=i()}catch{throw new l.ErrnoError(29)}if(f===void 0&&b===0)throw new l.ErrnoError(6);if(f==null)break;b++,F[C+h]=f}return b&&(E.node.timestamp=Date.now()),b},write:(E,F,C,z,V)=>{for(var b=0;b<z;b++)try{s(F[C+b])}catch{throw new l.ErrnoError(29)}return z&&(E.node.timestamp=Date.now()),b}}),l.mkdev(o,c,g)},forceLoadFile:r=>{if(r.isDevice||r.isFolder||r.link||r.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(et)try{r.contents=st(et(r.url),!0),r.usedBytes=r.contents.length}catch{throw new l.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:(r,t,i,s,o)=>{function c(){this.lengthKnown=!1,this.chunks=[]}if(c.prototype.get=function(h){if(!(h>this.length-1||h<0)){var f=h%this.chunkSize,m=h/this.chunkSize|0;return this.getter(m)[f]}},c.prototype.setDataGetter=function(h){this.getter=h},c.prototype.cacheLength=function(){var h=new XMLHttpRequest;if(h.open("HEAD",i,!1),h.send(null),!(h.status>=200&&h.status<300||h.status===304))throw new Error("Couldn't load "+i+". Status: "+h.status);var f=Number(h.getResponseHeader("Content-length")),m,q=(m=h.getResponseHeader("Accept-Ranges"))&&m==="bytes",v=(m=h.getResponseHeader("Content-Encoding"))&&m==="gzip",O=1024*1024;q||(O=f);var P=(R,N)=>{if(R>N)throw new Error("invalid range ("+R+", "+N+") or no bytes requested!");if(N>f-1)throw new Error("only "+f+" bytes available! programmer error!");var Q=new XMLHttpRequest;if(Q.open("GET",i,!1),f!==O&&Q.setRequestHeader("Range","bytes="+R+"-"+N),Q.responseType="arraybuffer",Q.overrideMimeType&&Q.overrideMimeType("text/plain; charset=x-user-defined"),Q.send(null),!(Q.status>=200&&Q.status<300||Q.status===304))throw new Error("Couldn't load "+i+". Status: "+Q.status);return Q.response!==void 0?new Uint8Array(Q.response||[]):st(Q.responseText||"",!0)},T=this;T.setDataGetter(R=>{var N=R*O,Q=(R+1)*O-1;if(Q=Math.min(Q,f-1),typeof T.chunks[R]>"u"&&(T.chunks[R]=P(N,Q)),typeof T.chunks[R]>"u")throw new Error("doXHR failed!");return T.chunks[R]}),(v||!f)&&(O=f=1,f=this.getter(0).length,O=f,Ke("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=f,this._chunkSize=O,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!ze)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var g=new c;Object.defineProperties(g,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var E={isDevice:!1,contents:g}}else var E={isDevice:!1,url:i};var F=l.createFile(r,t,E,s,o);E.contents?F.contents=E.contents:E.url&&(F.contents=null,F.url=E.url),Object.defineProperties(F,{usedBytes:{get:function(){return this.contents.length}}});var C={},z=Object.keys(F.stream_ops);z.forEach(b=>{var h=F.stream_ops[b];C[b]=function(){return l.forceLoadFile(F),h.apply(null,arguments)}});function V(b,h,f,m,q){var v=b.node.contents;if(q>=v.length)return 0;var O=Math.min(v.length-q,m);if(v.slice)for(var P=0;P<O;P++)h[f+P]=v[q+P];else for(var P=0;P<O;P++)h[f+P]=v.get(q+P);return O}return C.read=(b,h,f,m,q)=>(l.forceLoadFile(F),V(b,h,f,m,q)),C.mmap=(b,h,f,m,q)=>{l.forceLoadFile(F);var v=xt();if(!v)throw new l.ErrnoError(48);return V(b,qe,v,h,f),{ptr:v,allocated:!0}},F.stream_ops=C,F},createPreloadedFile:(r,t,i,s,o,c,g,E,F,C)=>{var z=t?ke.resolve(re.join2(r,t)):r;function V(b){function h(f){C&&C(),E||l.createDataFile(r,t,f,s,o,F),c&&c(),$e()}Browser.handledByPreloadPlugin(b,z,h,()=>{g&&g(),$e()})||h(b)}nt(),typeof i=="string"?Kt(i,b=>V(b),g):V(i)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(r,t,i)=>{t=t||(()=>{}),i=i||(()=>{});var s=l.indexedDB();try{var o=s.open(l.DB_NAME(),l.DB_VERSION)}catch(c){return i(c)}o.onupgradeneeded=()=>{Ke("creating db");var c=o.result;c.createObjectStore(l.DB_STORE_NAME)},o.onsuccess=()=>{var c=o.result,g=c.transaction([l.DB_STORE_NAME],"readwrite"),E=g.objectStore(l.DB_STORE_NAME),F=0,C=0,z=r.length;function V(){C==0?t():i()}r.forEach(b=>{var h=E.put(l.analyzePath(b).object.contents,b);h.onsuccess=()=>{F++,F+C==z&&V()},h.onerror=()=>{C++,F+C==z&&V()}}),g.onerror=i},o.onerror=i},loadFilesFromDB:(r,t,i)=>{t=t||(()=>{}),i=i||(()=>{});var s=l.indexedDB();try{var o=s.open(l.DB_NAME(),l.DB_VERSION)}catch(c){return i(c)}o.onupgradeneeded=i,o.onsuccess=()=>{var c=o.result;try{var g=c.transaction([l.DB_STORE_NAME],"readonly")}catch(b){i(b);return}var E=g.objectStore(l.DB_STORE_NAME),F=0,C=0,z=r.length;function V(){C==0?t():i()}r.forEach(b=>{var h=E.get(b);h.onsuccess=()=>{l.analyzePath(b).exists&&l.unlink(b),l.createDataFile(re.dirname(b),re.basename(b),h.result,!0,!0,!0),F++,F+C==z&&V()},h.onerror=()=>{C++,F+C==z&&V()}}),g.onerror=i},o.onerror=i}},X={DEFAULT_POLLMASK:5,calculateAt:function(r,t,i){if(re.isAbs(t))return t;var s;if(r===-100)s=l.cwd();else{var o=X.getStreamFromFD(r);s=o.path}if(t.length==0){if(!i)throw new l.ErrnoError(44);return s}return re.join2(s,t)},doStat:function(r,t,i){try{var s=r(t)}catch(E){if(E&&E.node&&re.normalize(t)!==re.normalize(l.getPath(E.node)))return-54;throw E}ee[i>>2]=s.dev,ee[i+8>>2]=s.ino,ee[i+12>>2]=s.mode,fe[i+16>>2]=s.nlink,ee[i+20>>2]=s.uid,ee[i+24>>2]=s.gid,ee[i+28>>2]=s.rdev,me=[s.size>>>0,(te=s.size,+Math.abs(te)>=1?te>0?(Math.min(+Math.floor(te/4294967296),4294967295)|0)>>>0:~~+Math.ceil((te-+(~~te>>>0))/4294967296)>>>0:0)],ee[i+40>>2]=me[0],ee[i+44>>2]=me[1],ee[i+48>>2]=4096,ee[i+52>>2]=s.blocks;var o=s.atime.getTime(),c=s.mtime.getTime(),g=s.ctime.getTime();return me=[Math.floor(o/1e3)>>>0,(te=Math.floor(o/1e3),+Math.abs(te)>=1?te>0?(Math.min(+Math.floor(te/4294967296),4294967295)|0)>>>0:~~+Math.ceil((te-+(~~te>>>0))/4294967296)>>>0:0)],ee[i+56>>2]=me[0],ee[i+60>>2]=me[1],fe[i+64>>2]=o%1e3*1e3,me=[Math.floor(c/1e3)>>>0,(te=Math.floor(c/1e3),+Math.abs(te)>=1?te>0?(Math.min(+Math.floor(te/4294967296),4294967295)|0)>>>0:~~+Math.ceil((te-+(~~te>>>0))/4294967296)>>>0:0)],ee[i+72>>2]=me[0],ee[i+76>>2]=me[1],fe[i+80>>2]=c%1e3*1e3,me=[Math.floor(g/1e3)>>>0,(te=Math.floor(g/1e3),+Math.abs(te)>=1?te>0?(Math.min(+Math.floor(te/4294967296),4294967295)|0)>>>0:~~+Math.ceil((te-+(~~te>>>0))/4294967296)>>>0:0)],ee[i+88>>2]=me[0],ee[i+92>>2]=me[1],fe[i+96>>2]=g%1e3*1e3,me=[s.ino>>>0,(te=s.ino,+Math.abs(te)>=1?te>0?(Math.min(+Math.floor(te/4294967296),4294967295)|0)>>>0:~~+Math.ceil((te-+(~~te>>>0))/4294967296)>>>0:0)],ee[i+104>>2]=me[0],ee[i+108>>2]=me[1],0},doMsync:function(r,t,i,s,o){if(!l.isFile(t.node.mode))throw new l.ErrnoError(43);if(s&2)return 0;var c=We.slice(r,r+i);l.msync(t,c,o,i,s)},varargs:void 0,get:function(){X.varargs+=4;var r=ee[X.varargs-4>>2];return r},getStr:function(r){var t=Mt(r);return t},getStreamFromFD:function(r){var t=l.getStream(r);if(!t)throw new l.ErrnoError(8);return t}};function Jt(r,t){try{return r=X.getStr(r),l.chmod(r,t),0}catch(i){if(typeof l>"u"||!(i instanceof l.ErrnoError))throw i;return-i.errno}}function $t(r,t,i,s){try{if(t=X.getStr(t),t=X.calculateAt(r,t),i&-8)return-28;var o=l.lookupPath(t,{follow:!0}),c=o.node;if(!c)return-44;var g="";return i&4&&(g+="r"),i&2&&(g+="w"),i&1&&(g+="x"),g&&l.nodePermissions(c,g)?-2:0}catch(E){if(typeof l>"u"||!(E instanceof l.ErrnoError))throw E;return-E.errno}}function Xt(r,t){try{return l.fchmod(r,t),0}catch(i){if(typeof l>"u"||!(i instanceof l.ErrnoError))throw i;return-i.errno}}function Yt(r,t,i){try{return l.fchown(r,t,i),0}catch(s){if(typeof l>"u"||!(s instanceof l.ErrnoError))throw s;return-s.errno}}function Zt(r){return ee[Tt()>>2]=r,r}function en(r,t,i){X.varargs=i;try{var s=X.getStreamFromFD(r);switch(t){case 0:{var o=X.get();if(o<0)return-28;var c;return c=l.createStream(s,o),c.fd}case 1:case 2:return 0;case 3:return s.flags;case 4:{var o=X.get();return s.flags|=o,0}case 5:{var o=X.get(),g=0;return gt[o+g>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return Zt(28),-1;default:return-28}}catch(E){if(typeof l>"u"||!(E instanceof l.ErrnoError))throw E;return-E.errno}}function tn(r,t){try{var i=X.getStreamFromFD(r);return X.doStat(l.stat,i.path,t)}catch(s){if(typeof l>"u"||!(s instanceof l.ErrnoError))throw s;return-s.errno}}var nn=9007199254740992,rn=-9007199254740992;function St(r){return r<rn||r>nn?NaN:Number(r)}function sn(r,t){try{return t=St(t),isNaN(t)?-61:(l.ftruncate(r,t),0)}catch(i){if(typeof l>"u"||!(i instanceof l.ErrnoError))throw i;return-i.errno}}function on(r,t){try{if(t===0)return-28;var i=l.cwd(),s=Ue(i)+1;return t<s?-68:(mt(i,r,t),s)}catch(o){if(typeof l>"u"||!(o instanceof l.ErrnoError))throw o;return-o.errno}}function ln(r,t,i){X.varargs=i;try{var s=X.getStreamFromFD(r);switch(t){case 21509:case 21505:return s.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return s.tty?0:-59;case 21519:{if(!s.tty)return-59;var o=X.get();return ee[o>>2]=0,0}case 21520:return s.tty?-28:-59;case 21531:{var o=X.get();return l.ioctl(s,t,o)}case 21523:return s.tty?0:-59;case 21524:return s.tty?0:-59;default:return-28}}catch(c){if(typeof l>"u"||!(c instanceof l.ErrnoError))throw c;return-c.errno}}function an(r,t){try{return r=X.getStr(r),X.doStat(l.lstat,r,t)}catch(i){if(typeof l>"u"||!(i instanceof l.ErrnoError))throw i;return-i.errno}}function cn(r,t,i){try{return t=X.getStr(t),t=X.calculateAt(r,t),t=re.normalize(t),t[t.length-1]==="/"&&(t=t.substr(0,t.length-1)),l.mkdir(t,i,0),0}catch(s){if(typeof l>"u"||!(s instanceof l.ErrnoError))throw s;return-s.errno}}function un(r,t,i,s){try{t=X.getStr(t);var o=s&256,c=s&4096;return s=s&-6401,t=X.calculateAt(r,t,c),X.doStat(o?l.lstat:l.stat,t,i)}catch(g){if(typeof l>"u"||!(g instanceof l.ErrnoError))throw g;return-g.errno}}function _n(r,t,i,s){X.varargs=s;try{t=X.getStr(t),t=X.calculateAt(r,t);var o=s?X.get():0;return l.open(t,i,o).fd}catch(c){if(typeof l>"u"||!(c instanceof l.ErrnoError))throw c;return-c.errno}}function fn(r,t,i,s){try{if(t=X.getStr(t),t=X.calculateAt(r,t),s<=0)return-28;var o=l.readlink(t),c=Math.min(s,Ue(o)),g=qe[i+c];return mt(o,i,s+1),qe[i+c]=g,c}catch(E){if(typeof l>"u"||!(E instanceof l.ErrnoError))throw E;return-E.errno}}function pn(r){try{return r=X.getStr(r),l.rmdir(r),0}catch(t){if(typeof l>"u"||!(t instanceof l.ErrnoError))throw t;return-t.errno}}function dn(r,t){try{return r=X.getStr(r),X.doStat(l.stat,r,t)}catch(i){if(typeof l>"u"||!(i instanceof l.ErrnoError))throw i;return-i.errno}}function mn(r,t,i){try{return t=X.getStr(t),t=X.calculateAt(r,t),i===0?l.unlink(t):i===512?l.rmdir(t):Re("Invalid flags passed to unlinkat"),0}catch(s){if(typeof l>"u"||!(s instanceof l.ErrnoError))throw s;return-s.errno}}function it(r){return fe[r>>2]+ee[r+4>>2]*4294967296}function gn(r,t,i,s){try{if(t=X.getStr(t),t=X.calculateAt(r,t,!0),i){var g=it(i),E=ee[i+8>>2];o=g*1e3+E/1e6,i+=16,g=it(i),E=ee[i+8>>2],c=g*1e3+E/1e6}else var o=Date.now(),c=o;return l.utime(t,o,c),0}catch(F){if(typeof l>"u"||!(F instanceof l.ErrnoError))throw F;return-F.errno}}var hn=!0;function yn(){return hn}function qn(r){return r%4===0&&(r%100!==0||r%400===0)}var bn=[0,31,60,91,121,152,182,213,244,274,305,335],wn=[0,31,59,90,120,151,181,212,243,273,304,334];function vn(r){var t=qn(r.getFullYear()),i=t?bn:wn,s=i[r.getMonth()]+r.getDate()-1;return s}function En(r,t){var i=new Date(it(r)*1e3);ee[t>>2]=i.getSeconds(),ee[t+4>>2]=i.getMinutes(),ee[t+8>>2]=i.getHours(),ee[t+12>>2]=i.getDate(),ee[t+16>>2]=i.getMonth(),ee[t+20>>2]=i.getFullYear()-1900,ee[t+24>>2]=i.getDay();var s=vn(i)|0;ee[t+28>>2]=s,ee[t+36>>2]=-(i.getTimezoneOffset()*60);var o=new Date(i.getFullYear(),0,1),c=new Date(i.getFullYear(),6,1).getTimezoneOffset(),g=o.getTimezoneOffset(),E=(c!=g&&i.getTimezoneOffset()==Math.min(g,c))|0;ee[t+32>>2]=E}function At(r){var t=Ue(r)+1,i=Ot(t);return i&&Je(r,qe,i,t),i}function xn(r,t,i){var s=new Date().getFullYear(),o=new Date(s,0,1),c=new Date(s,6,1),g=o.getTimezoneOffset(),E=c.getTimezoneOffset(),F=Math.max(g,E);fe[r>>2]=F*60,ee[t>>2]=+(g!=E);function C(f){var m=f.toTimeString().match(/\(([A-Za-z ]+)\)$/);return m?m[1]:"GMT"}var z=C(o),V=C(c),b=At(z),h=At(V);E<g?(fe[i>>2]=b,fe[i+4>>2]=h):(fe[i>>2]=h,fe[i+4>>2]=b)}function Sn(){return Date.now()}var It;It=()=>performance.now();function An(){return 2147483648}function In(r){var t=Oe.buffer;try{return Oe.grow(r-t.byteLength+65535>>>16),ht(),1}catch{}}function kn(r){var t=We.length;r=r>>>0;var i=An();if(r>i)return!1;let s=(F,C)=>F+(C-F%C)%C;for(var o=1;o<=4;o*=2){var c=t*(1+.2/o);c=Math.min(c,r+100663296);var g=Math.min(i,s(Math.max(r,c),65536)),E=In(g);if(E)return!0}return!1}var ot={};function Fn(){return ut||"./this.program"}function Ve(){if(!Ve.strings){var r=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:r,_:Fn()};for(var i in ot)ot[i]===void 0?delete t[i]:t[i]=ot[i];var s=[];for(var i in t)s.push(i+"="+t[i]);Ve.strings=s}return Ve.strings}function Tn(r,t,i){for(var s=0;s<r.length;++s)qe[t++>>0]=r.charCodeAt(s);i||(qe[t>>0]=0)}function On(r,t){var i=0;return Ve().forEach(function(s,o){var c=t+i;fe[r+o*4>>2]=c,Tn(s,c),i+=s.length+1}),0}function Pn(r,t){var i=Ve();fe[r>>2]=i.length;var s=0;return i.forEach(function(o){s+=o.length+1}),fe[t>>2]=s,0}function Ln(r){try{var t=X.getStreamFromFD(r);return l.close(t),0}catch(i){if(typeof l>"u"||!(i instanceof l.ErrnoError))throw i;return i.errno}}function Dn(r,t){try{var i=X.getStreamFromFD(r),s=i.tty?2:l.isDir(i.mode)?3:l.isLink(i.mode)?7:4;return qe[t>>0]=s,0}catch(o){if(typeof l>"u"||!(o instanceof l.ErrnoError))throw o;return o.errno}}function Cn(r,t,i,s){for(var o=0,c=0;c<i;c++){var g=fe[t>>2],E=fe[t+4>>2];t+=8;var F=l.read(r,qe,g,E,s);if(F<0)return-1;if(o+=F,F<E)break;typeof s<"u"&&(s+=F)}return o}function Rn(r,t,i,s){try{var o=X.getStreamFromFD(r),c=Cn(o,t,i);return fe[s>>2]=c,0}catch(g){if(typeof l>"u"||!(g instanceof l.ErrnoError))throw g;return g.errno}}function Mn(r,t,i,s){try{if(t=St(t),isNaN(t))return 61;var o=X.getStreamFromFD(r);return l.llseek(o,t,i),me=[o.position>>>0,(te=o.position,+Math.abs(te)>=1?te>0?(Math.min(+Math.floor(te/4294967296),4294967295)|0)>>>0:~~+Math.ceil((te-+(~~te>>>0))/4294967296)>>>0:0)],ee[s>>2]=me[0],ee[s+4>>2]=me[1],o.getdents&&t===0&&i===0&&(o.getdents=null),0}catch(c){if(typeof l>"u"||!(c instanceof l.ErrnoError))throw c;return c.errno}}function Nn(r){try{var t=X.getStreamFromFD(r);return t.stream_ops&&t.stream_ops.fsync?t.stream_ops.fsync(t):0}catch(i){if(typeof l>"u"||!(i instanceof l.ErrnoError))throw i;return i.errno}}function jn(r,t,i,s){for(var o=0,c=0;c<i;c++){var g=fe[t>>2],E=fe[t+4>>2];t+=8;var F=l.write(r,qe,g,E,s);if(F<0)return-1;o+=F,typeof s<"u"&&(s+=F)}return o}function zn(r,t,i,s){try{var o=X.getStreamFromFD(r),c=jn(o,t,i);return fe[s>>2]=c,0}catch(g){if(typeof l>"u"||!(g instanceof l.ErrnoError))throw g;return g.errno}}var kt=function(r,t,i,s){r||(r=this),this.parent=r,this.mount=r.mount,this.mounted=null,this.id=l.nextInode++,this.name=t,this.mode=i,this.node_ops={},this.stream_ops={},this.rdev=s},Xe=365,Ye=146;Object.defineProperties(kt.prototype,{read:{get:function(){return(this.mode&Xe)===Xe},set:function(r){r?this.mode|=Xe:this.mode&=~Xe}},write:{get:function(){return(this.mode&Ye)===Ye},set:function(r){r?this.mode|=Ye:this.mode&=~Ye}},isFolder:{get:function(){return l.isDir(this.mode)}},isDevice:{get:function(){return l.isChrdev(this.mode)}}}),l.FSNode=kt,l.staticInit();var Ft={__syscall_chmod:Jt,__syscall_faccessat:$t,__syscall_fchmod:Xt,__syscall_fchown32:Yt,__syscall_fcntl64:en,__syscall_fstat64:tn,__syscall_ftruncate64:sn,__syscall_getcwd:on,__syscall_ioctl:ln,__syscall_lstat64:an,__syscall_mkdirat:cn,__syscall_newfstatat:un,__syscall_openat:_n,__syscall_readlinkat:fn,__syscall_rmdir:pn,__syscall_stat64:dn,__syscall_unlinkat:mn,__syscall_utimensat:gn,_emscripten_get_now_is_monotonic:yn,_localtime_js:En,_tzset_js:xn,emscripten_date_now:Sn,emscripten_get_now:It,emscripten_resize_heap:kn,environ_get:On,environ_sizes_get:Pn,fd_close:Ln,fd_fdstat_get:Dn,fd_read:Rn,fd_seek:Mn,fd_sync:Nn,fd_write:zn,memory:Oe};Ht(),n.___wasm_call_ctors=function(){return(n.___wasm_call_ctors=n.asm.__wasm_call_ctors).apply(null,arguments)},n._sqlite3_status64=function(){return(n._sqlite3_status64=n.asm.sqlite3_status64).apply(null,arguments)},n._sqlite3_status=function(){return(n._sqlite3_status=n.asm.sqlite3_status).apply(null,arguments)},n._sqlite3_db_status=function(){return(n._sqlite3_db_status=n.asm.sqlite3_db_status).apply(null,arguments)},n._sqlite3_msize=function(){return(n._sqlite3_msize=n.asm.sqlite3_msize).apply(null,arguments)},n._sqlite3_vfs_find=function(){return(n._sqlite3_vfs_find=n.asm.sqlite3_vfs_find).apply(null,arguments)},n._sqlite3_initialize=function(){return(n._sqlite3_initialize=n.asm.sqlite3_initialize).apply(null,arguments)},n._sqlite3_malloc=function(){return(n._sqlite3_malloc=n.asm.sqlite3_malloc).apply(null,arguments)},n._sqlite3_free=function(){return(n._sqlite3_free=n.asm.sqlite3_free).apply(null,arguments)},n._sqlite3_vfs_register=function(){return(n._sqlite3_vfs_register=n.asm.sqlite3_vfs_register).apply(null,arguments)},n._sqlite3_vfs_unregister=function(){return(n._sqlite3_vfs_unregister=n.asm.sqlite3_vfs_unregister).apply(null,arguments)},n._sqlite3_malloc64=function(){return(n._sqlite3_malloc64=n.asm.sqlite3_malloc64).apply(null,arguments)},n._sqlite3_realloc=function(){return(n._sqlite3_realloc=n.asm.sqlite3_realloc).apply(null,arguments)},n._sqlite3_realloc64=function(){return(n._sqlite3_realloc64=n.asm.sqlite3_realloc64).apply(null,arguments)},n._sqlite3_value_text=function(){return(n._sqlite3_value_text=n.asm.sqlite3_value_text).apply(null,arguments)},n._sqlite3_randomness=function(){return(n._sqlite3_randomness=n.asm.sqlite3_randomness).apply(null,arguments)},n._sqlite3_stricmp=function(){return(n._sqlite3_stricmp=n.asm.sqlite3_stricmp).apply(null,arguments)},n._sqlite3_strnicmp=function(){return(n._sqlite3_strnicmp=n.asm.sqlite3_strnicmp).apply(null,arguments)},n._sqlite3_uri_parameter=function(){return(n._sqlite3_uri_parameter=n.asm.sqlite3_uri_parameter).apply(null,arguments)};var Tt=n.___errno_location=function(){return(Tt=n.___errno_location=n.asm.__errno_location).apply(null,arguments)};n._sqlite3_uri_boolean=function(){return(n._sqlite3_uri_boolean=n.asm.sqlite3_uri_boolean).apply(null,arguments)},n._sqlite3_serialize=function(){return(n._sqlite3_serialize=n.asm.sqlite3_serialize).apply(null,arguments)},n._sqlite3_prepare_v2=function(){return(n._sqlite3_prepare_v2=n.asm.sqlite3_prepare_v2).apply(null,arguments)},n._sqlite3_step=function(){return(n._sqlite3_step=n.asm.sqlite3_step).apply(null,arguments)},n._sqlite3_column_int64=function(){return(n._sqlite3_column_int64=n.asm.sqlite3_column_int64).apply(null,arguments)},n._sqlite3_column_int=function(){return(n._sqlite3_column_int=n.asm.sqlite3_column_int).apply(null,arguments)},n._sqlite3_finalize=function(){return(n._sqlite3_finalize=n.asm.sqlite3_finalize).apply(null,arguments)},n._sqlite3_file_control=function(){return(n._sqlite3_file_control=n.asm.sqlite3_file_control).apply(null,arguments)},n._sqlite3_reset=function(){return(n._sqlite3_reset=n.asm.sqlite3_reset).apply(null,arguments)},n._sqlite3_deserialize=function(){return(n._sqlite3_deserialize=n.asm.sqlite3_deserialize).apply(null,arguments)},n._sqlite3_clear_bindings=function(){return(n._sqlite3_clear_bindings=n.asm.sqlite3_clear_bindings).apply(null,arguments)},n._sqlite3_value_blob=function(){return(n._sqlite3_value_blob=n.asm.sqlite3_value_blob).apply(null,arguments)},n._sqlite3_value_bytes=function(){return(n._sqlite3_value_bytes=n.asm.sqlite3_value_bytes).apply(null,arguments)},n._sqlite3_value_double=function(){return(n._sqlite3_value_double=n.asm.sqlite3_value_double).apply(null,arguments)},n._sqlite3_value_int=function(){return(n._sqlite3_value_int=n.asm.sqlite3_value_int).apply(null,arguments)},n._sqlite3_value_int64=function(){return(n._sqlite3_value_int64=n.asm.sqlite3_value_int64).apply(null,arguments)},n._sqlite3_value_subtype=function(){return(n._sqlite3_value_subtype=n.asm.sqlite3_value_subtype).apply(null,arguments)},n._sqlite3_value_pointer=function(){return(n._sqlite3_value_pointer=n.asm.sqlite3_value_pointer).apply(null,arguments)},n._sqlite3_value_type=function(){return(n._sqlite3_value_type=n.asm.sqlite3_value_type).apply(null,arguments)},n._sqlite3_value_nochange=function(){return(n._sqlite3_value_nochange=n.asm.sqlite3_value_nochange).apply(null,arguments)},n._sqlite3_value_frombind=function(){return(n._sqlite3_value_frombind=n.asm.sqlite3_value_frombind).apply(null,arguments)},n._sqlite3_value_dup=function(){return(n._sqlite3_value_dup=n.asm.sqlite3_value_dup).apply(null,arguments)},n._sqlite3_value_free=function(){return(n._sqlite3_value_free=n.asm.sqlite3_value_free).apply(null,arguments)},n._sqlite3_result_blob=function(){return(n._sqlite3_result_blob=n.asm.sqlite3_result_blob).apply(null,arguments)},n._sqlite3_result_error_nomem=function(){return(n._sqlite3_result_error_nomem=n.asm.sqlite3_result_error_nomem).apply(null,arguments)},n._sqlite3_result_error_toobig=function(){return(n._sqlite3_result_error_toobig=n.asm.sqlite3_result_error_toobig).apply(null,arguments)},n._sqlite3_result_double=function(){return(n._sqlite3_result_double=n.asm.sqlite3_result_double).apply(null,arguments)},n._sqlite3_result_error=function(){return(n._sqlite3_result_error=n.asm.sqlite3_result_error).apply(null,arguments)},n._sqlite3_result_int=function(){return(n._sqlite3_result_int=n.asm.sqlite3_result_int).apply(null,arguments)},n._sqlite3_result_int64=function(){return(n._sqlite3_result_int64=n.asm.sqlite3_result_int64).apply(null,arguments)},n._sqlite3_result_null=function(){return(n._sqlite3_result_null=n.asm.sqlite3_result_null).apply(null,arguments)},n._sqlite3_result_pointer=function(){return(n._sqlite3_result_pointer=n.asm.sqlite3_result_pointer).apply(null,arguments)},n._sqlite3_result_subtype=function(){return(n._sqlite3_result_subtype=n.asm.sqlite3_result_subtype).apply(null,arguments)},n._sqlite3_result_text=function(){return(n._sqlite3_result_text=n.asm.sqlite3_result_text).apply(null,arguments)},n._sqlite3_result_zeroblob=function(){return(n._sqlite3_result_zeroblob=n.asm.sqlite3_result_zeroblob).apply(null,arguments)},n._sqlite3_result_zeroblob64=function(){return(n._sqlite3_result_zeroblob64=n.asm.sqlite3_result_zeroblob64).apply(null,arguments)},n._sqlite3_result_error_code=function(){return(n._sqlite3_result_error_code=n.asm.sqlite3_result_error_code).apply(null,arguments)},n._sqlite3_user_data=function(){return(n._sqlite3_user_data=n.asm.sqlite3_user_data).apply(null,arguments)},n._sqlite3_context_db_handle=function(){return(n._sqlite3_context_db_handle=n.asm.sqlite3_context_db_handle).apply(null,arguments)},n._sqlite3_vtab_nochange=function(){return(n._sqlite3_vtab_nochange=n.asm.sqlite3_vtab_nochange).apply(null,arguments)},n._sqlite3_vtab_in_first=function(){return(n._sqlite3_vtab_in_first=n.asm.sqlite3_vtab_in_first).apply(null,arguments)},n._sqlite3_vtab_in_next=function(){return(n._sqlite3_vtab_in_next=n.asm.sqlite3_vtab_in_next).apply(null,arguments)},n._sqlite3_aggregate_context=function(){return(n._sqlite3_aggregate_context=n.asm.sqlite3_aggregate_context).apply(null,arguments)},n._sqlite3_get_auxdata=function(){return(n._sqlite3_get_auxdata=n.asm.sqlite3_get_auxdata).apply(null,arguments)},n._sqlite3_set_auxdata=function(){return(n._sqlite3_set_auxdata=n.asm.sqlite3_set_auxdata).apply(null,arguments)},n._sqlite3_column_count=function(){return(n._sqlite3_column_count=n.asm.sqlite3_column_count).apply(null,arguments)},n._sqlite3_data_count=function(){return(n._sqlite3_data_count=n.asm.sqlite3_data_count).apply(null,arguments)},n._sqlite3_column_blob=function(){return(n._sqlite3_column_blob=n.asm.sqlite3_column_blob).apply(null,arguments)},n._sqlite3_column_bytes=function(){return(n._sqlite3_column_bytes=n.asm.sqlite3_column_bytes).apply(null,arguments)},n._sqlite3_column_double=function(){return(n._sqlite3_column_double=n.asm.sqlite3_column_double).apply(null,arguments)},n._sqlite3_column_text=function(){return(n._sqlite3_column_text=n.asm.sqlite3_column_text).apply(null,arguments)},n._sqlite3_column_value=function(){return(n._sqlite3_column_value=n.asm.sqlite3_column_value).apply(null,arguments)},n._sqlite3_column_type=function(){return(n._sqlite3_column_type=n.asm.sqlite3_column_type).apply(null,arguments)},n._sqlite3_column_name=function(){return(n._sqlite3_column_name=n.asm.sqlite3_column_name).apply(null,arguments)},n._sqlite3_bind_blob=function(){return(n._sqlite3_bind_blob=n.asm.sqlite3_bind_blob).apply(null,arguments)},n._sqlite3_bind_double=function(){return(n._sqlite3_bind_double=n.asm.sqlite3_bind_double).apply(null,arguments)},n._sqlite3_bind_int=function(){return(n._sqlite3_bind_int=n.asm.sqlite3_bind_int).apply(null,arguments)},n._sqlite3_bind_int64=function(){return(n._sqlite3_bind_int64=n.asm.sqlite3_bind_int64).apply(null,arguments)},n._sqlite3_bind_null=function(){return(n._sqlite3_bind_null=n.asm.sqlite3_bind_null).apply(null,arguments)},n._sqlite3_bind_pointer=function(){return(n._sqlite3_bind_pointer=n.asm.sqlite3_bind_pointer).apply(null,arguments)},n._sqlite3_bind_text=function(){return(n._sqlite3_bind_text=n.asm.sqlite3_bind_text).apply(null,arguments)},n._sqlite3_bind_parameter_count=function(){return(n._sqlite3_bind_parameter_count=n.asm.sqlite3_bind_parameter_count).apply(null,arguments)},n._sqlite3_bind_parameter_index=function(){return(n._sqlite3_bind_parameter_index=n.asm.sqlite3_bind_parameter_index).apply(null,arguments)},n._sqlite3_db_handle=function(){return(n._sqlite3_db_handle=n.asm.sqlite3_db_handle).apply(null,arguments)},n._sqlite3_stmt_readonly=function(){return(n._sqlite3_stmt_readonly=n.asm.sqlite3_stmt_readonly).apply(null,arguments)},n._sqlite3_stmt_isexplain=function(){return(n._sqlite3_stmt_isexplain=n.asm.sqlite3_stmt_isexplain).apply(null,arguments)},n._sqlite3_stmt_status=function(){return(n._sqlite3_stmt_status=n.asm.sqlite3_stmt_status).apply(null,arguments)},n._sqlite3_sql=function(){return(n._sqlite3_sql=n.asm.sqlite3_sql).apply(null,arguments)},n._sqlite3_expanded_sql=function(){return(n._sqlite3_expanded_sql=n.asm.sqlite3_expanded_sql).apply(null,arguments)},n._sqlite3_preupdate_old=function(){return(n._sqlite3_preupdate_old=n.asm.sqlite3_preupdate_old).apply(null,arguments)},n._sqlite3_preupdate_count=function(){return(n._sqlite3_preupdate_count=n.asm.sqlite3_preupdate_count).apply(null,arguments)},n._sqlite3_preupdate_depth=function(){return(n._sqlite3_preupdate_depth=n.asm.sqlite3_preupdate_depth).apply(null,arguments)},n._sqlite3_preupdate_blobwrite=function(){return(n._sqlite3_preupdate_blobwrite=n.asm.sqlite3_preupdate_blobwrite).apply(null,arguments)},n._sqlite3_preupdate_new=function(){return(n._sqlite3_preupdate_new=n.asm.sqlite3_preupdate_new).apply(null,arguments)},n._sqlite3_value_numeric_type=function(){return(n._sqlite3_value_numeric_type=n.asm.sqlite3_value_numeric_type).apply(null,arguments)},n._sqlite3_errmsg=function(){return(n._sqlite3_errmsg=n.asm.sqlite3_errmsg).apply(null,arguments)},n._sqlite3_set_authorizer=function(){return(n._sqlite3_set_authorizer=n.asm.sqlite3_set_authorizer).apply(null,arguments)},n._sqlite3_strglob=function(){return(n._sqlite3_strglob=n.asm.sqlite3_strglob).apply(null,arguments)},n._sqlite3_strlike=function(){return(n._sqlite3_strlike=n.asm.sqlite3_strlike).apply(null,arguments)},n._sqlite3_exec=function(){return(n._sqlite3_exec=n.asm.sqlite3_exec).apply(null,arguments)},n._sqlite3_auto_extension=function(){return(n._sqlite3_auto_extension=n.asm.sqlite3_auto_extension).apply(null,arguments)},n._sqlite3_cancel_auto_extension=function(){return(n._sqlite3_cancel_auto_extension=n.asm.sqlite3_cancel_auto_extension).apply(null,arguments)},n._sqlite3_reset_auto_extension=function(){return(n._sqlite3_reset_auto_extension=n.asm.sqlite3_reset_auto_extension).apply(null,arguments)},n._sqlite3_prepare_v3=function(){return(n._sqlite3_prepare_v3=n.asm.sqlite3_prepare_v3).apply(null,arguments)},n._sqlite3_create_module=function(){return(n._sqlite3_create_module=n.asm.sqlite3_create_module).apply(null,arguments)},n._sqlite3_create_module_v2=function(){return(n._sqlite3_create_module_v2=n.asm.sqlite3_create_module_v2).apply(null,arguments)},n._sqlite3_drop_modules=function(){return(n._sqlite3_drop_modules=n.asm.sqlite3_drop_modules).apply(null,arguments)},n._sqlite3_declare_vtab=function(){return(n._sqlite3_declare_vtab=n.asm.sqlite3_declare_vtab).apply(null,arguments)},n._sqlite3_vtab_on_conflict=function(){return(n._sqlite3_vtab_on_conflict=n.asm.sqlite3_vtab_on_conflict).apply(null,arguments)},n._sqlite3_vtab_collation=function(){return(n._sqlite3_vtab_collation=n.asm.sqlite3_vtab_collation).apply(null,arguments)},n._sqlite3_vtab_in=function(){return(n._sqlite3_vtab_in=n.asm.sqlite3_vtab_in).apply(null,arguments)},n._sqlite3_vtab_rhs_value=function(){return(n._sqlite3_vtab_rhs_value=n.asm.sqlite3_vtab_rhs_value).apply(null,arguments)},n._sqlite3_vtab_distinct=function(){return(n._sqlite3_vtab_distinct=n.asm.sqlite3_vtab_distinct).apply(null,arguments)},n._sqlite3_keyword_name=function(){return(n._sqlite3_keyword_name=n.asm.sqlite3_keyword_name).apply(null,arguments)},n._sqlite3_keyword_count=function(){return(n._sqlite3_keyword_count=n.asm.sqlite3_keyword_count).apply(null,arguments)},n._sqlite3_keyword_check=function(){return(n._sqlite3_keyword_check=n.asm.sqlite3_keyword_check).apply(null,arguments)},n._sqlite3_complete=function(){return(n._sqlite3_complete=n.asm.sqlite3_complete).apply(null,arguments)},n._sqlite3_libversion=function(){return(n._sqlite3_libversion=n.asm.sqlite3_libversion).apply(null,arguments)},n._sqlite3_libversion_number=function(){return(n._sqlite3_libversion_number=n.asm.sqlite3_libversion_number).apply(null,arguments)},n._sqlite3_shutdown=function(){return(n._sqlite3_shutdown=n.asm.sqlite3_shutdown).apply(null,arguments)},n._sqlite3_last_insert_rowid=function(){return(n._sqlite3_last_insert_rowid=n.asm.sqlite3_last_insert_rowid).apply(null,arguments)},n._sqlite3_set_last_insert_rowid=function(){return(n._sqlite3_set_last_insert_rowid=n.asm.sqlite3_set_last_insert_rowid).apply(null,arguments)},n._sqlite3_changes64=function(){return(n._sqlite3_changes64=n.asm.sqlite3_changes64).apply(null,arguments)},n._sqlite3_changes=function(){return(n._sqlite3_changes=n.asm.sqlite3_changes).apply(null,arguments)},n._sqlite3_total_changes64=function(){return(n._sqlite3_total_changes64=n.asm.sqlite3_total_changes64).apply(null,arguments)},n._sqlite3_total_changes=function(){return(n._sqlite3_total_changes=n.asm.sqlite3_total_changes).apply(null,arguments)},n._sqlite3_txn_state=function(){return(n._sqlite3_txn_state=n.asm.sqlite3_txn_state).apply(null,arguments)},n._sqlite3_close_v2=function(){return(n._sqlite3_close_v2=n.asm.sqlite3_close_v2).apply(null,arguments)},n._sqlite3_busy_handler=function(){return(n._sqlite3_busy_handler=n.asm.sqlite3_busy_handler).apply(null,arguments)},n._sqlite3_progress_handler=function(){return(n._sqlite3_progress_handler=n.asm.sqlite3_progress_handler).apply(null,arguments)},n._sqlite3_busy_timeout=function(){return(n._sqlite3_busy_timeout=n.asm.sqlite3_busy_timeout).apply(null,arguments)},n._sqlite3_create_function=function(){return(n._sqlite3_create_function=n.asm.sqlite3_create_function).apply(null,arguments)},n._sqlite3_create_function_v2=function(){return(n._sqlite3_create_function_v2=n.asm.sqlite3_create_function_v2).apply(null,arguments)},n._sqlite3_create_window_function=function(){return(n._sqlite3_create_window_function=n.asm.sqlite3_create_window_function).apply(null,arguments)},n._sqlite3_overload_function=function(){return(n._sqlite3_overload_function=n.asm.sqlite3_overload_function).apply(null,arguments)},n._sqlite3_trace_v2=function(){return(n._sqlite3_trace_v2=n.asm.sqlite3_trace_v2).apply(null,arguments)},n._sqlite3_commit_hook=function(){return(n._sqlite3_commit_hook=n.asm.sqlite3_commit_hook).apply(null,arguments)},n._sqlite3_update_hook=function(){return(n._sqlite3_update_hook=n.asm.sqlite3_update_hook).apply(null,arguments)},n._sqlite3_rollback_hook=function(){return(n._sqlite3_rollback_hook=n.asm.sqlite3_rollback_hook).apply(null,arguments)},n._sqlite3_preupdate_hook=function(){return(n._sqlite3_preupdate_hook=n.asm.sqlite3_preupdate_hook).apply(null,arguments)},n._sqlite3_error_offset=function(){return(n._sqlite3_error_offset=n.asm.sqlite3_error_offset).apply(null,arguments)},n._sqlite3_errcode=function(){return(n._sqlite3_errcode=n.asm.sqlite3_errcode).apply(null,arguments)},n._sqlite3_extended_errcode=function(){return(n._sqlite3_extended_errcode=n.asm.sqlite3_extended_errcode).apply(null,arguments)},n._sqlite3_errstr=function(){return(n._sqlite3_errstr=n.asm.sqlite3_errstr).apply(null,arguments)},n._sqlite3_limit=function(){return(n._sqlite3_limit=n.asm.sqlite3_limit).apply(null,arguments)},n._sqlite3_open=function(){return(n._sqlite3_open=n.asm.sqlite3_open).apply(null,arguments)},n._sqlite3_open_v2=function(){return(n._sqlite3_open_v2=n.asm.sqlite3_open_v2).apply(null,arguments)},n._sqlite3_create_collation=function(){return(n._sqlite3_create_collation=n.asm.sqlite3_create_collation).apply(null,arguments)},n._sqlite3_create_collation_v2=function(){return(n._sqlite3_create_collation_v2=n.asm.sqlite3_create_collation_v2).apply(null,arguments)},n._sqlite3_collation_needed=function(){return(n._sqlite3_collation_needed=n.asm.sqlite3_collation_needed).apply(null,arguments)},n._sqlite3_table_column_metadata=function(){return(n._sqlite3_table_column_metadata=n.asm.sqlite3_table_column_metadata).apply(null,arguments)},n._sqlite3_extended_result_codes=function(){return(n._sqlite3_extended_result_codes=n.asm.sqlite3_extended_result_codes).apply(null,arguments)},n._sqlite3_uri_key=function(){return(n._sqlite3_uri_key=n.asm.sqlite3_uri_key).apply(null,arguments)},n._sqlite3_uri_int64=function(){return(n._sqlite3_uri_int64=n.asm.sqlite3_uri_int64).apply(null,arguments)},n._sqlite3_db_name=function(){return(n._sqlite3_db_name=n.asm.sqlite3_db_name).apply(null,arguments)},n._sqlite3_db_filename=function(){return(n._sqlite3_db_filename=n.asm.sqlite3_db_filename).apply(null,arguments)},n._sqlite3_compileoption_used=function(){return(n._sqlite3_compileoption_used=n.asm.sqlite3_compileoption_used).apply(null,arguments)},n._sqlite3_compileoption_get=function(){return(n._sqlite3_compileoption_get=n.asm.sqlite3_compileoption_get).apply(null,arguments)},n._sqlite3session_diff=function(){return(n._sqlite3session_diff=n.asm.sqlite3session_diff).apply(null,arguments)},n._sqlite3session_attach=function(){return(n._sqlite3session_attach=n.asm.sqlite3session_attach).apply(null,arguments)},n._sqlite3session_create=function(){return(n._sqlite3session_create=n.asm.sqlite3session_create).apply(null,arguments)},n._sqlite3session_delete=function(){return(n._sqlite3session_delete=n.asm.sqlite3session_delete).apply(null,arguments)},n._sqlite3session_table_filter=function(){return(n._sqlite3session_table_filter=n.asm.sqlite3session_table_filter).apply(null,arguments)},n._sqlite3session_changeset=function(){return(n._sqlite3session_changeset=n.asm.sqlite3session_changeset).apply(null,arguments)},n._sqlite3session_changeset_strm=function(){return(n._sqlite3session_changeset_strm=n.asm.sqlite3session_changeset_strm).apply(null,arguments)},n._sqlite3session_patchset_strm=function(){return(n._sqlite3session_patchset_strm=n.asm.sqlite3session_patchset_strm).apply(null,arguments)},n._sqlite3session_patchset=function(){return(n._sqlite3session_patchset=n.asm.sqlite3session_patchset).apply(null,arguments)},n._sqlite3session_enable=function(){return(n._sqlite3session_enable=n.asm.sqlite3session_enable).apply(null,arguments)},n._sqlite3session_indirect=function(){return(n._sqlite3session_indirect=n.asm.sqlite3session_indirect).apply(null,arguments)},n._sqlite3session_isempty=function(){return(n._sqlite3session_isempty=n.asm.sqlite3session_isempty).apply(null,arguments)},n._sqlite3session_memory_used=function(){return(n._sqlite3session_memory_used=n.asm.sqlite3session_memory_used).apply(null,arguments)},n._sqlite3session_object_config=function(){return(n._sqlite3session_object_config=n.asm.sqlite3session_object_config).apply(null,arguments)},n._sqlite3session_changeset_size=function(){return(n._sqlite3session_changeset_size=n.asm.sqlite3session_changeset_size).apply(null,arguments)},n._sqlite3changeset_start=function(){return(n._sqlite3changeset_start=n.asm.sqlite3changeset_start).apply(null,arguments)},n._sqlite3changeset_start_v2=function(){return(n._sqlite3changeset_start_v2=n.asm.sqlite3changeset_start_v2).apply(null,arguments)},n._sqlite3changeset_start_strm=function(){return(n._sqlite3changeset_start_strm=n.asm.sqlite3changeset_start_strm).apply(null,arguments)},n._sqlite3changeset_start_v2_strm=function(){return(n._sqlite3changeset_start_v2_strm=n.asm.sqlite3changeset_start_v2_strm).apply(null,arguments)},n._sqlite3changeset_next=function(){return(n._sqlite3changeset_next=n.asm.sqlite3changeset_next).apply(null,arguments)},n._sqlite3changeset_op=function(){return(n._sqlite3changeset_op=n.asm.sqlite3changeset_op).apply(null,arguments)},n._sqlite3changeset_pk=function(){return(n._sqlite3changeset_pk=n.asm.sqlite3changeset_pk).apply(null,arguments)},n._sqlite3changeset_old=function(){return(n._sqlite3changeset_old=n.asm.sqlite3changeset_old).apply(null,arguments)},n._sqlite3changeset_new=function(){return(n._sqlite3changeset_new=n.asm.sqlite3changeset_new).apply(null,arguments)},n._sqlite3changeset_conflict=function(){return(n._sqlite3changeset_conflict=n.asm.sqlite3changeset_conflict).apply(null,arguments)},n._sqlite3changeset_fk_conflicts=function(){return(n._sqlite3changeset_fk_conflicts=n.asm.sqlite3changeset_fk_conflicts).apply(null,arguments)},n._sqlite3changeset_finalize=function(){return(n._sqlite3changeset_finalize=n.asm.sqlite3changeset_finalize).apply(null,arguments)},n._sqlite3changeset_invert=function(){return(n._sqlite3changeset_invert=n.asm.sqlite3changeset_invert).apply(null,arguments)},n._sqlite3changeset_invert_strm=function(){return(n._sqlite3changeset_invert_strm=n.asm.sqlite3changeset_invert_strm).apply(null,arguments)},n._sqlite3changeset_apply_v2=function(){return(n._sqlite3changeset_apply_v2=n.asm.sqlite3changeset_apply_v2).apply(null,arguments)},n._sqlite3changeset_apply=function(){return(n._sqlite3changeset_apply=n.asm.sqlite3changeset_apply).apply(null,arguments)},n._sqlite3changeset_apply_v2_strm=function(){return(n._sqlite3changeset_apply_v2_strm=n.asm.sqlite3changeset_apply_v2_strm).apply(null,arguments)},n._sqlite3changeset_apply_strm=function(){return(n._sqlite3changeset_apply_strm=n.asm.sqlite3changeset_apply_strm).apply(null,arguments)},n._sqlite3changegroup_new=function(){return(n._sqlite3changegroup_new=n.asm.sqlite3changegroup_new).apply(null,arguments)},n._sqlite3changegroup_add=function(){return(n._sqlite3changegroup_add=n.asm.sqlite3changegroup_add).apply(null,arguments)},n._sqlite3changegroup_output=function(){return(n._sqlite3changegroup_output=n.asm.sqlite3changegroup_output).apply(null,arguments)},n._sqlite3changegroup_add_strm=function(){return(n._sqlite3changegroup_add_strm=n.asm.sqlite3changegroup_add_strm).apply(null,arguments)},n._sqlite3changegroup_output_strm=function(){return(n._sqlite3changegroup_output_strm=n.asm.sqlite3changegroup_output_strm).apply(null,arguments)},n._sqlite3changegroup_delete=function(){return(n._sqlite3changegroup_delete=n.asm.sqlite3changegroup_delete).apply(null,arguments)},n._sqlite3changeset_concat=function(){return(n._sqlite3changeset_concat=n.asm.sqlite3changeset_concat).apply(null,arguments)},n._sqlite3changeset_concat_strm=function(){return(n._sqlite3changeset_concat_strm=n.asm.sqlite3changeset_concat_strm).apply(null,arguments)},n._sqlite3session_config=function(){return(n._sqlite3session_config=n.asm.sqlite3session_config).apply(null,arguments)},n._sqlite3_sourceid=function(){return(n._sqlite3_sourceid=n.asm.sqlite3_sourceid).apply(null,arguments)},n._sqlite3_wasm_pstack_ptr=function(){return(n._sqlite3_wasm_pstack_ptr=n.asm.sqlite3_wasm_pstack_ptr).apply(null,arguments)},n._sqlite3_wasm_pstack_restore=function(){return(n._sqlite3_wasm_pstack_restore=n.asm.sqlite3_wasm_pstack_restore).apply(null,arguments)},n._sqlite3_wasm_pstack_alloc=function(){return(n._sqlite3_wasm_pstack_alloc=n.asm.sqlite3_wasm_pstack_alloc).apply(null,arguments)},n._sqlite3_wasm_pstack_remaining=function(){return(n._sqlite3_wasm_pstack_remaining=n.asm.sqlite3_wasm_pstack_remaining).apply(null,arguments)},n._sqlite3_wasm_pstack_quota=function(){return(n._sqlite3_wasm_pstack_quota=n.asm.sqlite3_wasm_pstack_quota).apply(null,arguments)},n._sqlite3_wasm_db_error=function(){return(n._sqlite3_wasm_db_error=n.asm.sqlite3_wasm_db_error).apply(null,arguments)},n._sqlite3_wasm_test_struct=function(){return(n._sqlite3_wasm_test_struct=n.asm.sqlite3_wasm_test_struct).apply(null,arguments)},n._sqlite3_wasm_enum_json=function(){return(n._sqlite3_wasm_enum_json=n.asm.sqlite3_wasm_enum_json).apply(null,arguments)},n._sqlite3_wasm_vfs_unlink=function(){return(n._sqlite3_wasm_vfs_unlink=n.asm.sqlite3_wasm_vfs_unlink).apply(null,arguments)},n._sqlite3_wasm_db_vfs=function(){return(n._sqlite3_wasm_db_vfs=n.asm.sqlite3_wasm_db_vfs).apply(null,arguments)},n._sqlite3_wasm_db_reset=function(){return(n._sqlite3_wasm_db_reset=n.asm.sqlite3_wasm_db_reset).apply(null,arguments)},n._sqlite3_wasm_db_export_chunked=function(){return(n._sqlite3_wasm_db_export_chunked=n.asm.sqlite3_wasm_db_export_chunked).apply(null,arguments)},n._sqlite3_wasm_db_serialize=function(){return(n._sqlite3_wasm_db_serialize=n.asm.sqlite3_wasm_db_serialize).apply(null,arguments)},n._sqlite3_wasm_vfs_create_file=function(){return(n._sqlite3_wasm_vfs_create_file=n.asm.sqlite3_wasm_vfs_create_file).apply(null,arguments)},n._sqlite3_wasm_kvvfsMakeKeyOnPstack=function(){return(n._sqlite3_wasm_kvvfsMakeKeyOnPstack=n.asm.sqlite3_wasm_kvvfsMakeKeyOnPstack).apply(null,arguments)},n._sqlite3_wasm_kvvfs_methods=function(){return(n._sqlite3_wasm_kvvfs_methods=n.asm.sqlite3_wasm_kvvfs_methods).apply(null,arguments)},n._sqlite3_wasm_vtab_config=function(){return(n._sqlite3_wasm_vtab_config=n.asm.sqlite3_wasm_vtab_config).apply(null,arguments)},n._sqlite3_wasm_db_config_ip=function(){return(n._sqlite3_wasm_db_config_ip=n.asm.sqlite3_wasm_db_config_ip).apply(null,arguments)},n._sqlite3_wasm_db_config_pii=function(){return(n._sqlite3_wasm_db_config_pii=n.asm.sqlite3_wasm_db_config_pii).apply(null,arguments)},n._sqlite3_wasm_db_config_s=function(){return(n._sqlite3_wasm_db_config_s=n.asm.sqlite3_wasm_db_config_s).apply(null,arguments)},n._sqlite3_wasm_config_i=function(){return(n._sqlite3_wasm_config_i=n.asm.sqlite3_wasm_config_i).apply(null,arguments)},n._sqlite3_wasm_config_ii=function(){return(n._sqlite3_wasm_config_ii=n.asm.sqlite3_wasm_config_ii).apply(null,arguments)},n._sqlite3_wasm_config_j=function(){return(n._sqlite3_wasm_config_j=n.asm.sqlite3_wasm_config_j).apply(null,arguments)},n._sqlite3_wasm_init_wasmfs=function(){return(n._sqlite3_wasm_init_wasmfs=n.asm.sqlite3_wasm_init_wasmfs).apply(null,arguments)},n._sqlite3_wasm_test_intptr=function(){return(n._sqlite3_wasm_test_intptr=n.asm.sqlite3_wasm_test_intptr).apply(null,arguments)},n._sqlite3_wasm_test_voidptr=function(){return(n._sqlite3_wasm_test_voidptr=n.asm.sqlite3_wasm_test_voidptr).apply(null,arguments)},n._sqlite3_wasm_test_int64_max=function(){return(n._sqlite3_wasm_test_int64_max=n.asm.sqlite3_wasm_test_int64_max).apply(null,arguments)},n._sqlite3_wasm_test_int64_min=function(){return(n._sqlite3_wasm_test_int64_min=n.asm.sqlite3_wasm_test_int64_min).apply(null,arguments)},n._sqlite3_wasm_test_int64_times2=function(){return(n._sqlite3_wasm_test_int64_times2=n.asm.sqlite3_wasm_test_int64_times2).apply(null,arguments)},n._sqlite3_wasm_test_int64_minmax=function(){return(n._sqlite3_wasm_test_int64_minmax=n.asm.sqlite3_wasm_test_int64_minmax).apply(null,arguments)},n._sqlite3_wasm_test_int64ptr=function(){return(n._sqlite3_wasm_test_int64ptr=n.asm.sqlite3_wasm_test_int64ptr).apply(null,arguments)},n._sqlite3_wasm_test_stack_overflow=function(){return(n._sqlite3_wasm_test_stack_overflow=n.asm.sqlite3_wasm_test_stack_overflow).apply(null,arguments)},n._sqlite3_wasm_test_str_hello=function(){return(n._sqlite3_wasm_test_str_hello=n.asm.sqlite3_wasm_test_str_hello).apply(null,arguments)};var Ot=n._malloc=function(){return(Ot=n._malloc=n.asm.malloc).apply(null,arguments)};n._free=function(){return(n._free=n.asm.free).apply(null,arguments)},n._realloc=function(){return(n._realloc=n.asm.realloc).apply(null,arguments)},n.stackSave=function(){return(n.stackSave=n.asm.stackSave).apply(null,arguments)},n.stackRestore=function(){return(n.stackRestore=n.asm.stackRestore).apply(null,arguments)},n.stackAlloc=function(){return(n.stackAlloc=n.asm.stackAlloc).apply(null,arguments)},n.wasmMemory=Oe;var Ze;Qe=function r(){Ze||Pt(),Ze||(Qe=r)};function Pt(r){if(Ce>0||(Nt(),Ce>0))return;function t(){Ze||(Ze=!0,n.calledRun=!0,!pt&&(jt(),Le(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),zt()))}n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),t()},1)):t()}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return Pt(),n.postRun||(n.postRun=[]),n.postRun.push(function(r){if(self.sqlite3ApiBootstrap=function t(i=self.sqlite3ApiConfig||t.defaultConfig){if(t.sqlite3)return console.warn("sqlite3ApiBootstrap() called multiple times.","Config and external initializers are ignored on calls after the first."),t.sqlite3;const s=Object.assign(Object.create(null),{exports:void 0,memory:void 0,bigIntEnabled:(()=>typeof r<"u"?!!r.HEAPU64:!!self.BigInt64Array)(),debug:console.debug.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),log:console.log.bind(console),wasmfsOpfsDir:"/opfs",useStdAlloc:!1},i||{});Object.assign(s,{allocExportName:s.useStdAlloc?"malloc":"sqlite3_malloc",deallocExportName:s.useStdAlloc?"free":"sqlite3_free",reallocExportName:s.useStdAlloc?"realloc":"sqlite3_realloc"},s),["exports","memory","wasmfsOpfsDir"].forEach(a=>{typeof s[a]=="function"&&(s[a]=s[a]())}),s.wasmOpfsDir=!1;const o=Object.create(null),c=Object.create(null),g=a=>o.sqlite3_js_rc_str&&o.sqlite3_js_rc_str(a)||"Unknown result code #"+a,E=a=>typeof a=="number"&&a===(a|0);class F extends Error{constructor(..._){let w;if(_.length)if(E(_[0]))if(w=_[0],_.length===1)super(g(_[0]));else{const k=g(w);typeof _[1]=="object"?super(k,_[1]):(_[0]=k+":",super(_.join(" ")))}else _.length===2&&typeof _[1]=="object"?super(..._):super(_.join(" "));this.resultCode=w||o.SQLITE_ERROR,this.name="SQLite3Error"}}F.toss=(...a)=>{throw new F(...a)};const C=F.toss;s.wasmfsOpfsDir&&!/^\/[^/]+$/.test(s.wasmfsOpfsDir)&&C("config.wasmfsOpfsDir must be falsy or in the form '/dir-name'.");const z=a=>typeof a!="bigint"&&a===(a|0)&&a<=2147483647&&a>=-2147483648,V=function a(_){return a._max||(a._max=BigInt("0x7fffffffffffffff"),a._min=~a._max),_>=a._min&&_<=a._max},b=a=>a>=-0x7fffffffn-1n&&a<=0x7fffffffn,h=function a(_){return a._min||(a._min=Number.MIN_SAFE_INTEGER,a._max=Number.MAX_SAFE_INTEGER),_>=a._min&&_<=a._max},f=a=>a&&a.constructor&&z(a.constructor.BYTES_PER_ELEMENT)?a:!1,m=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,q=a=>a.buffer instanceof m,v=(a,_,w)=>q(a)?a.slice(_,w):a.subarray(_,w),O=a=>a&&(a instanceof Uint8Array||a instanceof Int8Array||a instanceof ArrayBuffer),P=a=>a&&(a instanceof Uint8Array||a instanceof Int8Array||a instanceof ArrayBuffer),T=a=>O(a)||C("Value is not of a supported TypedArray type."),R=new TextDecoder("utf-8"),N=function(a,_,w){return R.decode(v(a,_,w))},Q=function(a){return P(a)?N(a instanceof ArrayBuffer?new Uint8Array(a):a):Array.isArray(a)?a.join(""):(c.isPtr(a)&&(a=c.cstrToJs(a)),a)};class p extends Error{constructor(..._){_.length===2&&typeof _[1]=="object"?super(..._):_.length?super(_.join(" ")):super("Allocation failed."),this.resultCode=o.SQLITE_NOMEM,this.name="WasmAllocError"}}p.toss=(...a)=>{throw new p(...a)},Object.assign(o,{sqlite3_bind_blob:void 0,sqlite3_bind_text:void 0,sqlite3_create_function_v2:(a,_,w,k,I,K,H,J,Y)=>{},sqlite3_create_function:(a,_,w,k,I,K,H,J)=>{},sqlite3_create_window_function:(a,_,w,k,I,K,H,J,Y,$)=>{},sqlite3_prepare_v3:(a,_,w,k,I,K)=>{},sqlite3_prepare_v2:(a,_,w,k,I)=>{},sqlite3_exec:(a,_,w,k,I)=>{},sqlite3_randomness:(a,_)=>{}});const y={affirmBindableTypedArray:T,flexibleString:Q,bigIntFits32:b,bigIntFits64:V,bigIntFitsDouble:h,isBindableTypedArray:O,isInt32:z,isSQLableTypedArray:P,isTypedArray:f,typedArrayToString:N,isUIThread:()=>self.window===self&&!!self.document,isSharedTypedArray:q,toss:function(...a){throw new Error(a.join(" "))},toss3:C,typedArrayPart:v};Object.assign(c,{ptrSizeof:s.wasmPtrSizeof||4,ptrIR:s.wasmPtrIR||"i32",bigIntEnabled:!!s.bigIntEnabled,exports:s.exports||C("Missing API config.exports (WASM module exports)."),memory:s.memory||s.exports.memory||C("API config object requires a WebAssembly.Memory object","in either config.exports.memory (exported)","or config.memory (imported)."),alloc:void 0,realloc:void 0,dealloc:void 0}),c.allocFromTypedArray=function(a){a instanceof ArrayBuffer&&(a=new Uint8Array(a)),T(a);const _=c.alloc(a.byteLength||1);return c.heapForSize(a.constructor).set(a.byteLength?a:[0],_),_};{const a=s.allocExportName,_=s.deallocExportName,w=s.reallocExportName;for(const k of[a,_,w])c.exports[k]instanceof Function||C("Missing required exports[",k,"] function.");c.alloc=function k(I){return k.impl(I)||p.toss("Failed to allocate",I," bytes.")},c.alloc.impl=c.exports[a],c.realloc=function k(I,K){const H=k.impl(I,K);return K?H||p.toss("Failed to reallocate",K," bytes."):0},c.realloc.impl=c.exports[w],c.dealloc=c.exports[_]}c.compileOptionUsed=function a(_){if(arguments.length){if(Array.isArray(_)){const w={};return _.forEach(k=>{w[k]=o.sqlite3_compileoption_used(k)}),w}else if(typeof _=="object")return Object.keys(_).forEach(w=>{_[w]=o.sqlite3_compileoption_used(w)}),_}else{if(a._result)return a._result;a._opt||(a._rx=/^([^=]+)=(.+)/,a._rxInt=/^-?\d+$/,a._opt=function(H,J){const Y=a._rx.exec(H);J[0]=Y?Y[1]:H,J[1]=Y?a._rxInt.test(Y[2])?+Y[2]:Y[2]:!0});const w={},k=[0,0];let I=0,K;for(;K=o.sqlite3_compileoption_get(I++);)a._opt(K,k),w[k[0]]=k[1];return a._result=w}return typeof _=="string"?!!o.sqlite3_compileoption_used(_):!1},c.pstack=Object.assign(Object.create(null),{restore:c.exports.sqlite3_wasm_pstack_restore,alloc:function(a){return typeof a=="string"&&!(a=c.sizeofIR(a))&&p.toss("Invalid value for pstack.alloc(",arguments[0],")"),c.exports.sqlite3_wasm_pstack_alloc(a)||p.toss("Could not allocate",a,"bytes from the pstack.")},allocChunks:function(a,_){typeof _=="string"&&!(_=c.sizeofIR(_))&&p.toss("Invalid size value for allocChunks(",arguments[1],")");const w=c.pstack.alloc(a*_),k=[];let I=0,K=0;for(;I<a;++I,K+=_)k.push(w+K);return k},allocPtr:(a=1,_=!0)=>a===1?c.pstack.alloc(_?8:c.ptrSizeof):c.pstack.allocChunks(a,_?8:c.ptrSizeof)}),Object.defineProperties(c.pstack,{pointer:{configurable:!1,iterable:!0,writeable:!1,get:c.exports.sqlite3_wasm_pstack_ptr},quota:{configurable:!1,iterable:!0,writeable:!1,get:c.exports.sqlite3_wasm_pstack_quota},remaining:{configurable:!1,iterable:!0,writeable:!1,get:c.exports.sqlite3_wasm_pstack_remaining}}),o.sqlite3_randomness=(...a)=>{if(a.length===1&&y.isTypedArray(a[0])&&a[0].BYTES_PER_ELEMENT===1){const _=a[0];if(_.byteLength===0)return c.exports.sqlite3_randomness(0,0),_;const w=c.pstack.pointer;try{let k=_.byteLength,I=0;const K=c.exports.sqlite3_randomness,H=c.heap8u(),J=k<512?k:512,Y=c.pstack.alloc(J);do{const $=k>J?J:k;K($,Y),_.set(v(H,Y,Y+$),I),k-=$,I+=$}while(k>0)}catch(k){console.error("Highly unexpected (and ignored!) exception in sqlite3_randomness():",k)}finally{c.pstack.restore(w)}return _}c.exports.sqlite3_randomness(...a)};let x;if(o.sqlite3_wasmfs_opfs_dir=function(){if(x!==void 0)return x;const a=s.wasmfsOpfsDir;if(console.error("sqlite3_wasmfs_opfs_dir() can no longer work due to incompatible WASMFS changes. It will be removed."),!a||!self.FileSystemHandle||!self.FileSystemDirectoryHandle||!self.FileSystemFileHandle)return x="";try{return a&&c.xCallWrapped("sqlite3_wasm_init_wasmfs","i32",["string"],a)===0?x=a:x=""}catch{return x=""}},o.sqlite3_wasmfs_filename_is_persistent=function(a){const _=o.sqlite3_wasmfs_opfs_dir();return _&&a?a.startsWith(_+"/"):!1},o.sqlite3_js_db_uses_vfs=function(a,_,w=0){try{const k=o.sqlite3_vfs_find(_);return k?a?k===o.sqlite3_js_db_vfs(a,w)?k:!1:k===o.sqlite3_vfs_find(0)?k:!1:!1}catch{return!1}},o.sqlite3_js_vfs_list=function(){const a=[];let _=o.sqlite3_vfs_find(0);for(;_;){const w=new o.sqlite3_vfs(_);a.push(c.cstrToJs(w.$zName)),_=w.$pNext,w.dispose()}return a},o.sqlite3_js_db_export=function(a,_=0){a=c.xWrap.testConvertArg("sqlite3*",a),a||C("Invalid sqlite3* argument."),c.bigIntEnabled||C("BigInt64 support is not enabled.");const w=c.scopedAllocPush();let k;try{const I=c.scopedAlloc(8+c.ptrSizeof),K=I+8,H=_?c.isPtr(_)?_:c.scopedAllocCString(""+_):0;let J=c.exports.sqlite3_wasm_db_serialize(a,H,K,I,0);J&&C("Database serialization failed with code",u.capi.sqlite3_js_rc_str(J)),k=c.peekPtr(K);const Y=c.peek(I,"i64");return J=Y?c.heap8u().slice(k,k+Number(Y)):new Uint8Array,J}finally{k&&c.exports.sqlite3_free(k),c.scopedAllocPop(w)}},o.sqlite3_js_db_vfs=(a,_=0)=>c.sqlite3_wasm_db_vfs(a,_),o.sqlite3_js_aggregate_context=(a,_)=>o.sqlite3_aggregate_context(a,_)||(_?p.toss("Cannot allocate",_,"bytes for sqlite3_aggregate_context()"):0),o.sqlite3_js_vfs_create_file=function(a,_,w,k){let I;w?(c.isPtr(w)?I=w:w instanceof ArrayBuffer&&(w=new Uint8Array(w)),w instanceof Uint8Array?(I=c.allocFromTypedArray(w),(arguments.length<4||!y.isInt32(k)||k<0)&&(k=w.byteLength)):F.toss("Invalid 3rd argument type for sqlite3_js_vfs_create_file().")):I=0,(!y.isInt32(k)||k<0)&&(c.dealloc(I),F.toss("Invalid 4th argument for sqlite3_js_vfs_create_file()."));try{const K=c.sqlite3_wasm_vfs_create_file(a,_,I,k);K&&F.toss("Creation of file failed with sqlite3 result code",o.sqlite3_js_rc_str(K))}finally{c.dealloc(I)}},y.isUIThread()){const a=function(_){const w=Object.create(null);return w.prefix="kvvfs-"+_,w.stores=[],(_==="session"||_==="")&&w.stores.push(self.sessionStorage),(_==="local"||_==="")&&w.stores.push(self.localStorage),w};o.sqlite3_js_kvvfs_clear=function(_=""){let w=0;const k=a(_);return k.stores.forEach(I=>{const K=[];let H;for(H=0;H<I.length;++H){const J=I.key(H);J.startsWith(k.prefix)&&K.push(J)}K.forEach(J=>I.removeItem(J)),w+=K.length}),w},o.sqlite3_js_kvvfs_size=function(_=""){let w=0;const k=a(_);return k.stores.forEach(I=>{let K;for(K=0;K<I.length;++K){const H=I.key(K);H.startsWith(k.prefix)&&(w+=H.length,w+=I.getItem(H).length)}}),w*2}}o.sqlite3_db_config=function(_,w,...k){this.s||(this.s=c.xWrap("sqlite3_wasm_db_config_s","int",["sqlite3*","int","string:static"]),this.pii=c.xWrap("sqlite3_wasm_db_config_pii","int",["sqlite3*","int","*","int","int"]),this.ip=c.xWrap("sqlite3_wasm_db_config_ip","int",["sqlite3*","int","int","*"]));const I=o;switch(w){case I.SQLITE_DBCONFIG_ENABLE_FKEY:case I.SQLITE_DBCONFIG_ENABLE_TRIGGER:case I.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER:case I.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION:case I.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE:case I.SQLITE_DBCONFIG_ENABLE_QPSG:case I.SQLITE_DBCONFIG_TRIGGER_EQP:case I.SQLITE_DBCONFIG_RESET_DATABASE:case I.SQLITE_DBCONFIG_DEFENSIVE:case I.SQLITE_DBCONFIG_WRITABLE_SCHEMA:case I.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE:case I.SQLITE_DBCONFIG_DQS_DML:case I.SQLITE_DBCONFIG_DQS_DDL:case I.SQLITE_DBCONFIG_ENABLE_VIEW:case I.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT:case I.SQLITE_DBCONFIG_TRUSTED_SCHEMA:return this.ip(_,w,k[0],k[1]||0);case I.SQLITE_DBCONFIG_LOOKASIDE:return this.pii(_,w,k[0],k[1],k[2]);case I.SQLITE_DBCONFIG_MAINDBNAME:return this.s(_,w,k[0]);default:return I.SQLITE_MISUSE}}.bind(Object.create(null)),o.sqlite3_value_to_js=function(a,_=!0){let w;const k=o.sqlite3_value_type(a);switch(k){case o.SQLITE_INTEGER:c.bigIntEnabled?(w=o.sqlite3_value_int64(a),y.bigIntFitsDouble(w)&&(w=Number(w))):w=o.sqlite3_value_double(a);break;case o.SQLITE_FLOAT:w=o.sqlite3_value_double(a);break;case o.SQLITE_TEXT:w=o.sqlite3_value_text(a);break;case o.SQLITE_BLOB:{const I=o.sqlite3_value_bytes(a),K=o.sqlite3_value_blob(a);I&&!K&&u.WasmAllocError.toss("Cannot allocate memory for blob argument of",I,"byte(s)"),w=I?c.heap8u().slice(K,K+Number(I)):null;break}case o.SQLITE_NULL:w=null;break;default:_&&C(o.SQLITE_MISMATCH,"Unhandled sqlite3_value_type():",k),w=void 0}return w},o.sqlite3_values_to_js=function(a,_,w=!0){let k;const I=[];for(k=0;k<a;++k)I.push(o.sqlite3_value_to_js(c.peekPtr(_+c.ptrSizeof*k)));return I},o.sqlite3_result_error_js=function(a,_){_ instanceof p?o.sqlite3_result_error_nomem(a):o.sqlite3_result_error(a,""+_,-1)},o.sqlite3_result_js=function(a,_){if(_ instanceof Error){o.sqlite3_result_error_js(a,_);return}try{switch(typeof _){case"undefined":break;case"boolean":o.sqlite3_result_int(a,_?1:0);break;case"bigint":y.bigIntFits32(_)?o.sqlite3_result_int(a,Number(_)):y.bigIntFitsDouble(_)?o.sqlite3_result_double(a,Number(_)):c.bigIntEnabled?y.bigIntFits64(_)?o.sqlite3_result_int64(a,_):C("BigInt value",_.toString(),"is too BigInt for int64."):C("BigInt value",_.toString(),"is too BigInt.");break;case"number":{let w;y.isInt32(_)?w=o.sqlite3_result_int:c.bigIntEnabled&&Number.isInteger(_)&&y.bigIntFits64(BigInt(_))?w=o.sqlite3_result_int64:w=o.sqlite3_result_double,w(a,_);break}case"string":{const[w,k]=c.allocCString(_,!0);o.sqlite3_result_text(a,w,k,o.SQLITE_WASM_DEALLOC);break}case"object":if(_===null){o.sqlite3_result_null(a);break}else if(y.isBindableTypedArray(_)){const w=c.allocFromTypedArray(_);o.sqlite3_result_blob(a,w,_.byteLength,o.SQLITE_WASM_DEALLOC);break}default:C("Don't not how to handle this UDF result value:",typeof _,_)}}catch(w){o.sqlite3_result_error_js(a,w)}},o.sqlite3_column_js=function(a,_,w=!0){const k=o.sqlite3_column_value(a,_);return k===0?void 0:o.sqlite3_value_to_js(k,w)};const d=function(a,_,w){w=o[w],this.ptr?c.pokePtr(this.ptr,0):this.ptr=c.allocPtr();const k=w(a,_,this.ptr);if(k)return F.toss(k,arguments[2]+"() failed with code "+k);const I=c.peekPtr(this.ptr);return I?o.sqlite3_value_to_js(I,!0):void 0}.bind(Object.create(null));o.sqlite3_preupdate_new_js=(a,_)=>d(a,_,"sqlite3_preupdate_new"),o.sqlite3_preupdate_old_js=(a,_)=>d(a,_,"sqlite3_preupdate_old"),o.sqlite3changeset_new_js=(a,_)=>d(a,_,"sqlite3changeset_new"),o.sqlite3changeset_old_js=(a,_)=>d(a,_,"sqlite3changeset_old");const u={WasmAllocError:p,SQLite3Error:F,capi:o,util:y,wasm:c,config:s,version:Object.create(null),client:void 0,asyncPostInit:async function(){let a=t.initializersAsync;if(delete t.initializersAsync,!a||!a.length)return Promise.resolve(u);a=a.map(w=>(w instanceof Promise?w:w(u)).catch(I=>{throw console.error("an async sqlite3 initializer failed:",I),I}));const _=()=>(u.__isUnderTest||(delete u.util,delete u.StructBinder),u);{let w=a.shift();for(;a.length;)w=w.then(a.shift());return w.then(_)}},scriptInfo:void 0};try{t.initializers.forEach(a=>{a(u)})}catch(a){throw console.error("sqlite3 bootstrap initializer threw:",a),a}return delete t.initializers,t.sqlite3=u,u},self.sqlite3ApiBootstrap.initializers=[],self.sqlite3ApiBootstrap.initializersAsync=[],self.sqlite3ApiBootstrap.defaultConfig=Object.create(null),self.sqlite3ApiBootstrap.sqlite3=void 0,self.WhWasmUtilInstaller=function(t){var Q;t.bigIntEnabled===void 0&&(t.bigIntEnabled=!!self.BigInt64Array);const i=(...p)=>{throw new Error(p.join(" "))};t.exports||Object.defineProperty(t,"exports",{enumerable:!0,configurable:!0,get:()=>t.instance&&t.instance.exports});const s=t.pointerIR||"i32",o=t.ptrSizeof=s==="i32"?4:s==="i64"?8:i("Unhandled ptrSizeof:",s),c=Object.create(null);c.heapSize=0,c.memory=null,c.freeFuncIndexes=[],c.scopedAlloc=[],c.utf8Decoder=new TextDecoder,c.utf8Encoder=new TextEncoder("utf-8"),t.sizeofIR=p=>{switch(p){case"i8":return 1;case"i16":return 2;case"i32":case"f32":case"float":return 4;case"i64":case"f64":case"double":return 8;case"*":return o;default:return(""+p).endsWith("*")?o:void 0}};const g=function(){if(!c.memory)c.memory=t.memory instanceof WebAssembly.Memory?t.memory:t.exports.memory;else if(c.heapSize===c.memory.buffer.byteLength)return c;const p=c.memory.buffer;return c.HEAP8=new Int8Array(p),c.HEAP8U=new Uint8Array(p),c.HEAP16=new Int16Array(p),c.HEAP16U=new Uint16Array(p),c.HEAP32=new Int32Array(p),c.HEAP32U=new Uint32Array(p),t.bigIntEnabled&&(c.HEAP64=new BigInt64Array(p),c.HEAP64U=new BigUint64Array(p)),c.HEAP32F=new Float32Array(p),c.HEAP64F=new Float64Array(p),c.heapSize=p.byteLength,c};t.heap8=()=>g().HEAP8,t.heap8u=()=>g().HEAP8U,t.heap16=()=>g().HEAP16,t.heap16u=()=>g().HEAP16U,t.heap32=()=>g().HEAP32,t.heap32u=()=>g().HEAP32U,t.heapForSize=function(p,y=!0){const x=c.memory&&c.heapSize===c.memory.buffer.byteLength?c:g();switch(p){case Int8Array:return x.HEAP8;case Uint8Array:return x.HEAP8U;case Int16Array:return x.HEAP16;case Uint16Array:return x.HEAP16U;case Int32Array:return x.HEAP32;case Uint32Array:return x.HEAP32U;case 8:return y?x.HEAP8U:x.HEAP8;case 16:return y?x.HEAP16U:x.HEAP16;case 32:return y?x.HEAP32U:x.HEAP32;case 64:if(x.HEAP64)return y?x.HEAP64U:x.HEAP64;break;default:if(t.bigIntEnabled){if(p===self.BigUint64Array)return x.HEAP64U;if(p===self.BigInt64Array)return x.HEAP64;break}}i("Invalid heapForSize() size: expecting 8, 16, 32,","or (if BigInt is enabled) 64.")},t.functionTable=function(){return t.exports.__indirect_function_table},t.functionEntry=function(p){const y=t.functionTable();return p<y.length?y.get(p):void 0},t.jsFuncToWasm=function p(y,x){if(p._||(p._={sigTypes:Object.assign(Object.create(null),{i:"i32",p:"i32",P:"i32",s:"i32",j:"i64",f:"f32",d:"f64"}),typeCodes:Object.assign(Object.create(null),{f64:124,f32:125,i64:126,i32:127}),uleb128Encode:function(a,_,w){w<128?a[_](w):a[_](w%128|128,w>>7)},rxJSig:/^(\w)\((\w*)\)$/,sigParams:function(a){const _=p._.rxJSig.exec(a);return _?_[2]:a.substr(1)},letterType:a=>p._.sigTypes[a]||i("Invalid signature letter:",a),pushSigType:(a,_)=>a.push(p._.typeCodes[p._.letterType(_)])}),typeof y=="string"){const a=x;x=y,y=a}const d=p._.sigParams(x),u=[1,96];p._.uleb128Encode(u,"push",d.length);for(const a of d)p._.pushSigType(u,a);return x[0]==="v"?u.push(0):(u.push(1),p._.pushSigType(u,x[0])),p._.uleb128Encode(u,"unshift",u.length),u.unshift(0,97,115,109,1,0,0,0,1),u.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array(u)),{e:{f:y}}).exports.f};const E=function(y,x,d){if(d&&!c.scopedAlloc.length&&i("No scopedAllocPush() scope is active."),typeof y=="string"){const w=x;x=y,y=w}(typeof x!="string"||!(y instanceof Function))&&i("Invalid arguments: expecting (function,signature) or (signature,function).");const u=t.functionTable(),a=u.length;let _;for(;c.freeFuncIndexes.length&&(_=c.freeFuncIndexes.pop(),u.get(_));){_=null;continue}_||(_=a,u.grow(1));try{return u.set(_,y),d&&c.scopedAlloc[c.scopedAlloc.length-1].push(_),_}catch(w){if(!(w instanceof TypeError))throw _===a&&c.freeFuncIndexes.push(a),w}try{const w=t.jsFuncToWasm(y,x);u.set(_,w),d&&c.scopedAlloc[c.scopedAlloc.length-1].push(_)}catch(w){throw _===a&&c.freeFuncIndexes.push(a),w}return _};t.installFunction=(p,y)=>E(p,y,!1),t.scopedInstallFunction=(p,y)=>E(p,y,!0),t.uninstallFunction=function(p){if(!p&&p!==0)return;const y=c.freeFuncIndexes,x=t.functionTable();y.push(p);const d=x.get(p);return x.set(p,null),d},t.peek=function(y,x="i8"){x.endsWith("*")&&(x=s);const d=c.memory&&c.heapSize===c.memory.buffer.byteLength?c:g(),u=Array.isArray(y)?[]:void 0;let a;do{switch(u&&(y=arguments[0].shift()),x){case"i1":case"i8":a=d.HEAP8[y>>0];break;case"i16":a=d.HEAP16[y>>1];break;case"i32":a=d.HEAP32[y>>2];break;case"float":case"f32":a=d.HEAP32F[y>>2];break;case"double":case"f64":a=Number(d.HEAP64F[y>>3]);break;case"i64":if(t.bigIntEnabled){a=BigInt(d.HEAP64[y>>3]);break}default:i("Invalid type for peek():",x)}u&&u.push(a)}while(u&&arguments[0].length);return u||a},t.poke=function(p,y,x="i8"){x.endsWith("*")&&(x=s);const d=c.memory&&c.heapSize===c.memory.buffer.byteLength?c:g();for(const u of Array.isArray(p)?p:[p])switch(x){case"i1":case"i8":d.HEAP8[u>>0]=y;continue;case"i16":d.HEAP16[u>>1]=y;continue;case"i32":d.HEAP32[u>>2]=y;continue;case"float":case"f32":d.HEAP32F[u>>2]=y;continue;case"double":case"f64":d.HEAP64F[u>>3]=y;continue;case"i64":if(d.HEAP64){d.HEAP64[u>>3]=BigInt(y);continue}default:i("Invalid type for poke(): "+x)}return this},t.peekPtr=(...p)=>t.peek(p.length===1?p[0]:p,s),t.pokePtr=(p,y=0)=>t.poke(p,y,s),t.peek8=(...p)=>t.peek(p.length===1?p[0]:p,"i8"),t.poke8=(p,y)=>t.poke(p,y,"i8"),t.peek16=(...p)=>t.peek(p.length===1?p[0]:p,"i16"),t.poke16=(p,y)=>t.poke(p,y,"i16"),t.peek32=(...p)=>t.peek(p.length===1?p[0]:p,"i32"),t.poke32=(p,y)=>t.poke(p,y,"i32"),t.peek64=(...p)=>t.peek(p.length===1?p[0]:p,"i64"),t.poke64=(p,y)=>t.poke(p,y,"i64"),t.peek32f=(...p)=>t.peek(p.length===1?p[0]:p,"f32"),t.poke32f=(p,y)=>t.poke(p,y,"f32"),t.peek64f=(...p)=>t.peek(p.length===1?p[0]:p,"f64"),t.poke64f=(p,y)=>t.poke(p,y,"f64"),t.getMemValue=t.peek,t.getPtrValue=t.peekPtr,t.setMemValue=t.poke,t.setPtrValue=t.pokePtr,t.isPtr32=p=>typeof p=="number"&&p===(p|0)&&p>=0,t.isPtr=t.isPtr32,t.cstrlen=function(p){if(!p||!t.isPtr(p))return null;const y=g().HEAP8U;let x=p;for(;y[x]!==0;++x);return x-p};const F=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,C=function(p,y,x){return c.utf8Decoder.decode(p.buffer instanceof F?p.slice(y,x):p.subarray(y,x))};t.cstrToJs=function(p){const y=t.cstrlen(p);return y?C(g().HEAP8U,p,p+y):y===null?y:""},t.jstrlen=function(p){if(typeof p!="string")return null;const y=p.length;let x=0;for(let d=0;d<y;++d){let u=p.charCodeAt(d);u>=55296&&u<=57343&&(u=65536+((u&1023)<<10)|p.charCodeAt(++d)&1023),u<=127?++x:u<=2047?x+=2:u<=65535?x+=3:x+=4}return x},t.jstrcpy=function(p,y,x=0,d=-1,u=!0){if((!y||!(y instanceof Int8Array)&&!(y instanceof Uint8Array))&&i("jstrcpy() target must be an Int8Array or Uint8Array."),d<0&&(d=y.length-x),!(d>0)||!(x>=0))return 0;let a=0,_=p.length;const w=x,k=x+d-(u?1:0);for(;a<_&&x<k;++a){let I=p.charCodeAt(a);if(I>=55296&&I<=57343&&(I=65536+((I&1023)<<10)|p.charCodeAt(++a)&1023),I<=127){if(x>=k)break;y[x++]=I}else if(I<=2047){if(x+1>=k)break;y[x++]=192|I>>6,y[x++]=128|I&63}else if(I<=65535){if(x+2>=k)break;y[x++]=224|I>>12,y[x++]=128|I>>6&63,y[x++]=128|I&63}else{if(x+3>=k)break;y[x++]=240|I>>18,y[x++]=128|I>>12&63,y[x++]=128|I>>6&63,y[x++]=128|I&63}}return u&&(y[x++]=0),x-w},t.cstrncpy=function(p,y,x){if((!p||!y)&&i("cstrncpy() does not accept NULL strings."),x<0)x=t.cstrlen(strPtr)+1;else if(!(x>0))return 0;const d=t.heap8u();let u=0,a;for(;u<x&&(a=d[y+u]);++u)d[p+u]=a;return u<x&&(d[p+u++]=0),u},t.jstrToUintArray=(p,y=!1)=>c.utf8Encoder.encode(y?p+"\0":p);const z=(p,y)=>{(!(p.alloc instanceof Function)||!(p.dealloc instanceof Function))&&i("Object is missing alloc() and/or dealloc() function(s)","required by",y+"().")},V=function(p,y,x,d){if(z(t,d),typeof p!="string")return null;{const u=c.utf8Encoder.encode(p),a=x(u.length+1),_=g().HEAP8U;return _.set(u,a),_[a+u.length]=0,y?[a,u.length]:a}};t.allocCString=(p,y=!1)=>V(p,y,t.alloc,"allocCString()"),t.scopedAllocPush=function(){z(t,"scopedAllocPush");const p=[];return c.scopedAlloc.push(p),p},t.scopedAllocPop=function(p){z(t,"scopedAllocPop");const y=arguments.length?c.scopedAlloc.indexOf(p):c.scopedAlloc.length-1;y<0&&i("Invalid state object for scopedAllocPop()."),arguments.length===0&&(p=c.scopedAlloc[y]),c.scopedAlloc.splice(y,1);for(let x;x=p.pop();)t.functionEntry(x)?t.uninstallFunction(x):t.dealloc(x)},t.scopedAlloc=function(p){c.scopedAlloc.length||i("No scopedAllocPush() scope is active.");const y=t.alloc(p);return c.scopedAlloc[c.scopedAlloc.length-1].push(y),y},Object.defineProperty(t.scopedAlloc,"level",{configurable:!1,enumerable:!1,get:()=>c.scopedAlloc.length,set:()=>i("The 'active' property is read-only.")}),t.scopedAllocCString=(p,y=!1)=>V(p,y,t.scopedAlloc,"scopedAllocCString()");const b=function(p,y){const x=t[p?"scopedAlloc":"alloc"]((y.length+1)*t.ptrSizeof);let d=0;return y.forEach(u=>{t.pokePtr(x+t.ptrSizeof*d++,t[p?"scopedAllocCString":"allocCString"](""+u))}),t.pokePtr(x+t.ptrSizeof*d,0),x};t.scopedAllocMainArgv=p=>b(!0,p),t.allocMainArgv=p=>b(!1,p),t.cArgvToJs=(p,y)=>{const x=[];for(let d=0;d<p;++d){const u=t.peekPtr(y+t.ptrSizeof*d);x.push(u?t.cstrToJs(u):null)}return x},t.scopedAllocCall=function(p){t.scopedAllocPush();try{return p()}finally{t.scopedAllocPop()}};const h=function(p,y,x){z(t,x);const d=y?"i64":s;let u=t[x](p*(y?8:o));if(t.poke(u,0,d),p===1)return u;const a=[u];for(let _=1;_<p;++_)u+=y?8:o,a[_]=u,t.poke(u,0,d);return a};t.allocPtr=(p=1,y=!0)=>h(p,y,"alloc"),t.scopedAllocPtr=(p=1,y=!0)=>h(p,y,"scopedAlloc"),t.xGet=function(p){return t.exports[p]||i("Cannot find exported symbol:",p)};const f=(p,y)=>i(p+"() requires",y,"argument(s).");t.xCall=function(p,...y){const x=t.xGet(p);return x instanceof Function||i("Exported symbol",p,"is not a function."),x.length!==y.length&&f(p,x.length),arguments.length===2&&Array.isArray(arguments[1])?x.apply(null,arguments[1]):x.apply(null,y)},c.xWrap=Object.create(null),c.xWrap.convert=Object.create(null),c.xWrap.convert.arg=new Map,c.xWrap.convert.result=new Map;const m=c.xWrap.convert.arg,q=c.xWrap.convert.result;t.bigIntEnabled&&m.set("i64",p=>BigInt(p));const v=s==="i32"?p=>p|0:p=>BigInt(p)|BigInt(0);m.set("i32",v).set("i16",p=>(p|0)&65535).set("i8",p=>(p|0)&255).set("f32",p=>Number(p).valueOf()).set("float",m.get("f32")).set("f64",m.get("f32")).set("double",m.get("f64")).set("int",m.get("i32")).set("null",p=>p).set(null,m.get("null")).set("**",v).set("*",v),q.set("*",v).set("pointer",v).set("number",p=>Number(p)).set("void",p=>{}).set("null",p=>p).set(null,q.get("null"));{const p=["i8","i16","i32","int","f32","float","f64","double"];t.bigIntEnabled&&p.push("i64");const y=m.get(s);for(const x of p)m.set(x+"*",y),q.set(x+"*",y),q.set(x,m.get(x)||i("Missing arg converter:",x))}const O=function(p){return typeof p=="string"?t.scopedAllocCString(p):p?v(p):null};m.set("string",O).set("utf8",O).set("pointer",O),q.set("string",p=>t.cstrToJs(p)).set("utf8",q.get("string")).set("string:dealloc",p=>{try{return p?t.cstrToJs(p):null}finally{t.dealloc(p)}}).set("utf8:dealloc",q.get("string:dealloc")).set("json",p=>JSON.parse(t.cstrToJs(p))).set("json:dealloc",p=>{try{return p?JSON.parse(t.cstrToJs(p)):null}finally{t.dealloc(p)}});const P=class{constructor(p){this.name=p.name||"unnamed adapter"}convertArg(p,y,x){i("AbstractArgAdapter must be subclassed.")}};m.FuncPtrAdapter=(Q=class extends P{constructor(y){super(y),m.FuncPtrAdapter.warnOnUse&&console.warn("xArg.FuncPtrAdapter is an internal-only API","and is not intended to be invoked from","client-level code. Invoked with:",y),this.signature=y.signature,y.contextKey instanceof Function&&(this.contextKey=y.contextKey,y.bindScope||(y.bindScope="context")),this.bindScope=y.bindScope||i("FuncPtrAdapter options requires a bindScope (explicit or implied)."),Q.bindScopes.indexOf(y.bindScope)<0&&i("Invalid options.bindScope ("+y.bindMod+") for FuncPtrAdapter. Expecting one of: ("+Q.bindScopes.join(", ")+")"),this.isTransient=this.bindScope==="transient",this.isContext=this.bindScope==="context",this.isPermanent=this.bindScope==="permanent",this.singleton=this.bindScope==="singleton"?[]:void 0,this.callProxy=y.callProxy instanceof Function?y.callProxy:void 0}contextKey(y,x){return this}contextMap(y){const x=this.__cmap||(this.__cmap=new Map);let d=x.get(y);return d===void 0&&x.set(y,d=[]),d}convertArg(y,x,d){let u=this.singleton;if(!u&&this.isContext&&(u=this.contextMap(this.contextKey(x,d))),u&&u[0]===y)return u[1];if(y instanceof Function){this.callProxy&&(y=this.callProxy(y));const a=E(y,this.signature,this.isTransient);if(Q.debugFuncInstall&&Q.debugOut("FuncPtrAdapter installed",this,this.contextKey(x,d),"@"+a,y),u){if(u[1]){Q.debugFuncInstall&&Q.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(x,d),"@"+u[1],y);try{t.uninstallFunction(u[1])}catch{}}u[0]=y,u[1]=a}return a}else if(t.isPtr(y)||y===null||y===void 0){if(u&&u[1]&&u[1]!==y){Q.debugFuncInstall&&Q.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(x,d),"@"+u[1],y);try{t.uninstallFunction(u[1])}catch{}u[0]=u[1]=y|0}return y||0}else throw new TypeError("Invalid FuncPtrAdapter argument type. Expecting a function pointer or a "+(this.name?this.name+" ":"")+"function matching signature "+this.signature+".")}},He(Q,"warnOnUse",!1),He(Q,"debugFuncInstall",!1),He(Q,"debugOut",console.debug.bind(console)),He(Q,"bindScopes",["transient","context","singleton","permanent"]),Q);const T=p=>m.get(p)||i("Argument adapter not found:",p),R=p=>q.get(p)||i("Result adapter not found:",p);c.xWrap.convertArg=(p,...y)=>T(p)(...y),c.xWrap.convertArgNoCheck=(p,...y)=>m.get(p)(...y),c.xWrap.convertResult=(p,y)=>p===null?y:p?R(p)(y):void 0,c.xWrap.convertResultNoCheck=(p,y)=>p===null?y:p?q.get(p)(y):void 0,t.xWrap=function(p,y,...x){arguments.length===3&&Array.isArray(arguments[2])&&(x=arguments[2]),t.isPtr(p)&&(p=t.functionEntry(p)||i("Function pointer not found in WASM function table."));const d=p instanceof Function,u=d?p:t.xGet(p);if(d&&(p=u.name||"unnamed function"),x.length!==u.length&&f(p,u.length),y===null&&u.length===0)return u;y!=null&&R(y);for(const _ of x)_ instanceof P?m.set(_,(...w)=>_.convertArg(...w)):T(_);const a=c.xWrap;return u.length===0?(..._)=>_.length?f(p,u.length):a.convertResult(y,u.call(null)):function(..._){_.length!==u.length&&f(p,u.length);const w=t.scopedAllocPush();try{for(const k in _)_[k]=a.convertArgNoCheck(x[k],_[k],_,k);return a.convertResultNoCheck(y,u.apply(null,_))}finally{t.scopedAllocPop(w)}}};const N=function(p,y,x,d,u,a){if(typeof x=="string"){if(y===1)return a.get(x);if(y===2){if(d)d instanceof Function||i(u,"requires a function argument.");else return delete a.get(x),p;return a.set(x,d),p}}i("Invalid arguments to",u)};return t.xWrap.resultAdapter=function p(y,x){return N(p,arguments.length,y,x,"resultAdapter()",q)},t.xWrap.argAdapter=function p(y,x){return N(p,arguments.length,y,x,"argAdapter()",m)},t.xWrap.FuncPtrAdapter=m.FuncPtrAdapter,t.xCallWrapped=function(p,y,x,...d){return Array.isArray(arguments[3])&&(d=arguments[3]),t.xWrap(p,y,x||[]).apply(null,d||[])},t.xWrap.testConvertArg=c.xWrap.convertArg,t.xWrap.testConvertResult=c.xWrap.convertResult,t},self.WhWasmUtilInstaller.yawl=function(t){const i=()=>fetch(t.uri,{credentials:"same-origin"}),s=this,o=function(g){if(t.wasmUtilTarget){const E=(...C)=>{throw new Error(C.join(" "))},F=t.wasmUtilTarget;if(F.module=g.module,F.instance=g.instance,F.instance.exports.memory||(F.memory=t.imports&&t.imports.env&&t.imports.env.memory||E("Missing 'memory' object!")),!F.alloc&&g.instance.exports.malloc){const C=g.instance.exports;F.alloc=function(z){return C.malloc(z)||E("Allocation of",z,"bytes failed.")},F.dealloc=function(z){C.free(z)}}s(F)}return t.onload&&t.onload(g,t),g};return WebAssembly.instantiateStreaming?function(){return WebAssembly.instantiateStreaming(i(),t.imports||{}).then(o)}:function(){return i().then(E=>E.arrayBuffer()).then(E=>WebAssembly.instantiate(E,t.imports||{})).then(o)}}.bind(self.WhWasmUtilInstaller),self.Jaccwabyt=function t(i){const s=(...A)=>{throw new Error(A.join(" "))};!(i.heap instanceof WebAssembly.Memory)&&!(i.heap instanceof Function)&&s("config.heap must be WebAssembly.Memory instance or a function."),["alloc","dealloc"].forEach(function(A){i[A]instanceof Function||s("Config option '"+A+"' must be a function.")});const o=t,c=i.heap instanceof Function?i.heap:()=>new Uint8Array(i.heap.buffer),g=i.alloc,E=i.dealloc,F=i.log||console.log.bind(console),C=i.memberPrefix||"",z=i.memberSuffix||"",V=i.bigIntEnabled===void 0?!!self.BigInt64Array:!!i.bigIntEnabled,b=self.BigInt,h=self.BigInt64Array,f=i.ptrSizeof||4,m=i.ptrIR||"i32";o.debugFlags||(o.__makeDebugFlags=function(A=null){A&&A.__flags&&(A=A.__flags);const M=function B(W){return arguments.length===0?B.__flags:(W<0?(delete B.__flags.getter,delete B.__flags.setter,delete B.__flags.alloc,delete B.__flags.dealloc):(B.__flags.getter=(1&W)!==0,B.__flags.setter=(2&W)!==0,B.__flags.alloc=(4&W)!==0,B.__flags.dealloc=(8&W)!==0),B._flags)};return Object.defineProperty(M,"__flags",{iterable:!1,writable:!1,value:Object.create(A)}),A||M(0),M},o.debugFlags=o.__makeDebugFlags());const q=function(){const A=new ArrayBuffer(2);return new DataView(A).setInt16(0,256,!0),new Int16Array(A)[0]===256}(),v=A=>A[1]==="(",O=A=>A==="P",P=A=>v(A)?"p":A[0],T=function(A){switch(P(A)){case"c":case"C":return"i8";case"i":return"i32";case"p":case"P":case"s":return m;case"j":return"i64";case"f":return"float";case"d":return"double"}s("Unhandled signature IR:",A)},R=h?()=>!0:()=>s("BigInt64Array is not available."),N=function(A){switch(P(A)){case"p":case"P":case"s":{switch(f){case 4:return"getInt32";case 8:return R()&&"getBigInt64"}break}case"i":return"getInt32";case"c":return"getInt8";case"C":return"getUint8";case"j":return R()&&"getBigInt64";case"f":return"getFloat32";case"d":return"getFloat64"}s("Unhandled DataView getter for signature:",A)},Q=function(A){switch(P(A)){case"p":case"P":case"s":{switch(f){case 4:return"setInt32";case 8:return R()&&"setBigInt64"}break}case"i":return"setInt32";case"c":return"setInt8";case"C":return"setUint8";case"j":return R()&&"setBigInt64";case"f":return"setFloat32";case"d":return"setFloat64"}s("Unhandled DataView setter for signature:",A)},p=function(A){switch(P(A)){case"i":case"f":case"c":case"C":case"d":return Number;case"j":return R()&&b;case"p":case"P":case"s":switch(f){case 4:return Number;case 8:return R()&&b}break}s("Unhandled DataView set wrapper for signature:",A)},y=(A,M)=>A+"::"+M,x=function(A,M){return()=>s(y(A,M),"is read-only.")},d=new WeakMap,u="(pointer-is-external)",a=function(A,M,B){if(B||(B=d.get(M)),B){if(d.delete(M),Array.isArray(M.ondispose)){let W;for(;W=M.ondispose.shift();)try{W instanceof Function?W.call(M):W instanceof _e?W.dispose():typeof W=="number"&&E(W)}catch(oe){console.warn("ondispose() for",A.structName,"@",B,"threw. NOT propagating it.",oe)}}else if(M.ondispose instanceof Function)try{M.ondispose()}catch(W){console.warn("ondispose() for",A.structName,"@",B,"threw. NOT propagating it.",W)}delete M.ondispose,A.debugFlags.__flags.dealloc&&F("debug.dealloc:",M[u]?"EXTERNAL":"",A.structName,"instance:",A.structInfo.sizeof,"bytes @"+B),M[u]||E(B)}},_=A=>({configurable:!1,writable:!1,iterable:!1,value:A}),w=function(A,M,B){let W=!B;B?Object.defineProperty(M,u,_(B)):(B=g(A.structInfo.sizeof),B||s("Allocation of",A.structName,"structure failed."));try{A.debugFlags.__flags.alloc&&F("debug.alloc:",W?"":"EXTERNAL",A.structName,"instance:",A.structInfo.sizeof,"bytes @"+B),W&&c().fill(0,B,B+A.structInfo.sizeof),d.set(M,B)}catch(oe){throw a(A,M,B),oe}},k=function(){const A=this.pointer;return A?new Uint8Array(c().slice(A,A+this.structInfo.sizeof)):null},K=_(A=>C+A+z),H=function(A,M,B=!0){let W=A.members[M];if(!W&&(C||z)){for(const oe of Object.values(A.members))if(oe.key===M){W=oe;break}!W&&B&&s(y(A.name,M),"is not a mapped struct member.")}return W},J=function A(M,B,W=!1){A._||(A._=ue=>ue.replace(/[^vipPsjrdcC]/g,"").replace(/[pPscC]/g,"i"));const oe=H(M.structInfo,B,!0);return W?A._(oe.signature):oe.signature},Y={configurable:!1,enumerable:!1,get:function(){return d.get(this)},set:()=>s("Cannot assign the 'pointer' property of a struct.")},$=_(function(){const A=[];for(const M of Object.keys(this.structInfo.members))A.push(this.memberKey(M));return A}),le=new TextDecoder("utf-8"),S=new TextEncoder,D=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,L=function(A,M,B){return le.decode(A.buffer instanceof D?A.slice(M,B):A.subarray(M,B))},U=function(A,M,B=!1){const W=H(A.structInfo,M,B);return W&&W.signature.length===1&&W.signature[0]==="s"?W:!1},j=function(A){A.signature!=="s"&&s("Invalid member type signature for C-string value:",JSON.stringify(A))},ne=function(M,B){const W=H(M.structInfo,B,!0);j(W);const oe=M[W.key];if(!oe)return null;let ue=oe;const ae=c();for(;ae[ue]!==0;++ue);return oe===ue?"":L(ae,oe,ue)},se=function(A,...M){A.ondispose?Array.isArray(A.ondispose)||(A.ondispose=[A.ondispose]):A.ondispose=[],A.ondispose.push(...M)},G=function(A){const M=S.encode(A),B=g(M.length+1);B||s("Allocation error while duplicating string:",A);const W=c();return W.set(M,B),W[B+M.length]=0,B},xe=function(A,M,B){const W=H(A.structInfo,M,!0);j(W);const oe=G(B);return A[W.key]=oe,se(A,oe),A},_e=function(M,B){arguments[2]!==_&&s("Do not call the StructType constructor","from client-level code."),Object.defineProperties(this,{structName:_(M),structInfo:_(B)})};_e.prototype=Object.create(null,{dispose:_(function(){a(this.constructor,this)}),lookupMember:_(function(A,M=!0){return H(this.structInfo,A,M)}),memberToJsString:_(function(A){return ne(this,A)}),memberIsString:_(function(A,M=!0){return U(this,A,M)}),memberKey:K,memberKeys:$,memberSignature:_(function(A,M=!1){return J(this,A,M)}),memoryDump:_(k),pointer:Y,setMemberCString:_(function(A,M){return xe(this,A,M)})}),Object.assign(_e.prototype,{addOnDispose:function(...A){return se(this,...A),this}}),Object.defineProperties(_e,{allocCString:_(G),isA:_(A=>A instanceof _e),hasExternalPointer:_(A=>A instanceof _e&&!!A[u]),memberKey:K});const ge=A=>Number.isFinite(A)||A instanceof(b||Number),be=function A(M,B,W){if(!A._){A._={getters:{},setters:{},sw:{}};const he=["i","c","C","p","P","s","f","d","v()"];V&&he.push("j"),he.forEach(function(Ae){A._.getters[Ae]=N(Ae),A._.setters[Ae]=Q(Ae),A._.sw[Ae]=p(Ae)});const Bn=/^[ipPsjfdcC]$/,Un=/^[vipPsjfdcC]\([ipPsjfdcC]*\)$/;A.sigCheck=function(Ae,Wn,Lt,lt){Object.prototype.hasOwnProperty.call(Ae,Lt)&&s(Ae.structName,"already has a property named",Lt+"."),Bn.test(lt)||Un.test(lt)||s("Malformed signature for",y(Ae.structName,Wn)+":",lt)}}const oe=M.memberKey(B);A.sigCheck(M.prototype,B,oe,W.signature),W.key=oe,W.name=B;const ue=P(W.signature),ae=y(M.prototype.structName,oe),ce=M.prototype.debugFlags.__flags,je=Object.create(null);je.configurable=!1,je.enumerable=!1,je.get=function(){ce.getter&&F("debug.getter:",A._.getters[ue],"for",T(ue),ae,"@",this.pointer,"+",W.offset,"sz",W.sizeof);let he=new DataView(c().buffer,this.pointer+W.offset,W.sizeof)[A._.getters[ue]](0,q);return ce.getter&&F("debug.getter:",ae,"result =",he),he},W.readOnly?je.set=x(M.prototype.structName,oe):je.set=function(he){if(ce.setter&&F("debug.setter:",A._.setters[ue],"for",T(ue),ae,"@",this.pointer,"+",W.offset,"sz",W.sizeof,he),this.pointer||s("Cannot set struct property on disposed instance."),he===null)he=0;else for(;!ge(he);){if(O(W.signature)&&he instanceof _e){he=he.pointer||0,ce.setter&&F("debug.setter:",ae,"resolved to",he);break}s("Invalid value for pointer-type",ae+".")}new DataView(c().buffer,this.pointer+W.offset,W.sizeof)[A._.setters[ue]](0,A._.sw[ue](he),q)},Object.defineProperty(M.prototype,oe,je)},pe=function A(M,B){arguments.length===1?(B=M,M=B.name):B.name||(B.name=M),M||s("Struct name is required.");let W=!1;Object.keys(B.members).forEach(ae=>{const ce=B.members[ae];ce.sizeof?ce.sizeof===1?ce.signature==="c"||ce.signature==="C"||s("Unexpected sizeof==1 member",y(B.name,ae),"with signature",ce.signature):(ce.sizeof%4!==0&&(console.warn("Invalid struct member description =",ce,"from",B),s(M,"member",ae,"sizeof is not aligned. sizeof="+ce.sizeof)),ce.offset%4!==0&&(console.warn("Invalid struct member description =",ce,"from",B),s(M,"member",ae,"offset is not aligned. offset="+ce.offset))):s(M,"member",ae,"is missing sizeof."),(!W||W.offset<ce.offset)&&(W=ce)}),W?B.sizeof<W.offset+W.sizeof&&s("Invalid struct config:",M,"max member offset ("+W.offset+") ","extends past end of struct (sizeof="+B.sizeof+")."):s("No member property descriptions found.");const oe=_(o.__makeDebugFlags(A.debugFlags)),ue=function ae(ce){this instanceof ae?arguments.length?((ce!==(ce|0)||ce<=0)&&s("Invalid pointer value for",M,"constructor."),w(ae,this,ce)):w(ae,this):s("The",M,"constructor may only be called via 'new'.")};return Object.defineProperties(ue,{debugFlags:oe,isA:_(ae=>ae instanceof ue),memberKey:K,memberKeys:$,methodInfoForKey:_(function(ae){}),structInfo:_(B),structName:_(M)}),ue.prototype=new _e(M,B,_),Object.defineProperties(ue.prototype,{debugFlags:oe,constructor:_(ue)}),Object.keys(B.members).forEach(ae=>be(ue,ae,B.members[ae])),ue};return pe.StructType=_e,pe.config=i,pe.allocCString=G,pe.debugFlags||(pe.debugFlags=o.__makeDebugFlags(o.debugFlags)),pe},self.sqlite3ApiBootstrap.initializers.push(function(t){const i=(...b)=>{throw new Error(b.join(" "))};t.SQLite3Error.toss;const s=t.capi,o=t.wasm,c=t.util;if(self.WhWasmUtilInstaller(o),delete self.WhWasmUtilInstaller,o.bindingSignatures=[["sqlite3_aggregate_context","void*","sqlite3_context*","int"],["sqlite3_bind_double","int","sqlite3_stmt*","int","f64"],["sqlite3_bind_int","int","sqlite3_stmt*","int","int"],["sqlite3_bind_null",void 0,"sqlite3_stmt*","int"],["sqlite3_bind_parameter_count","int","sqlite3_stmt*"],["sqlite3_bind_parameter_index","int","sqlite3_stmt*","string"],["sqlite3_bind_pointer","int","sqlite3_stmt*","int","*","string:static","*"],["sqlite3_busy_handler","int",["sqlite3*",new o.xWrap.FuncPtrAdapter({signature:"i(pi)",contextKey:(b,h)=>b[0]}),"*"]],["sqlite3_busy_timeout","int","sqlite3*","int"],["sqlite3_changes","int","sqlite3*"],["sqlite3_clear_bindings","int","sqlite3_stmt*"],["sqlite3_collation_needed","int","sqlite3*","*","*"],["sqlite3_column_blob","*","sqlite3_stmt*","int"],["sqlite3_column_bytes","int","sqlite3_stmt*","int"],["sqlite3_column_count","int","sqlite3_stmt*"],["sqlite3_column_double","f64","sqlite3_stmt*","int"],["sqlite3_column_int","int","sqlite3_stmt*","int"],["sqlite3_column_name","string","sqlite3_stmt*","int"],["sqlite3_column_text","string","sqlite3_stmt*","int"],["sqlite3_column_type","int","sqlite3_stmt*","int"],["sqlite3_column_value","sqlite3_value*","sqlite3_stmt*","int"],["sqlite3_commit_hook","void*",["sqlite3*",new o.xWrap.FuncPtrAdapter({name:"sqlite3_commit_hook",signature:"i(p)",contextKey:b=>b[0]}),"*"]],["sqlite3_compileoption_get","string","int"],["sqlite3_compileoption_used","int","string"],["sqlite3_complete","int","string:flexible"],["sqlite3_context_db_handle","sqlite3*","sqlite3_context*"],["sqlite3_data_count","int","sqlite3_stmt*"],["sqlite3_db_filename","string","sqlite3*","string"],["sqlite3_db_handle","sqlite3*","sqlite3_stmt*"],["sqlite3_db_name","string","sqlite3*","int"],["sqlite3_db_status","int","sqlite3*","int","*","*","int"],["sqlite3_errcode","int","sqlite3*"],["sqlite3_errmsg","string","sqlite3*"],["sqlite3_error_offset","int","sqlite3*"],["sqlite3_errstr","string","int"],["sqlite3_exec","int",["sqlite3*","string:flexible",new o.xWrap.FuncPtrAdapter({signature:"i(pipp)",bindScope:"transient",callProxy:b=>{let h;return(f,m,q,v)=>{try{const O=o.cArgvToJs(m,q);return h||(h=o.cArgvToJs(m,v)),b(O,h)|0}catch(O){return O.resultCode||s.SQLITE_ERROR}}}}),"*","**"]],["sqlite3_expanded_sql","string","sqlite3_stmt*"],["sqlite3_extended_errcode","int","sqlite3*"],["sqlite3_extended_result_codes","int","sqlite3*","int"],["sqlite3_file_control","int","sqlite3*","string","int","*"],["sqlite3_finalize","int","sqlite3_stmt*"],["sqlite3_free",void 0,"*"],["sqlite3_get_auxdata","*","sqlite3_context*","int"],["sqlite3_initialize",void 0],["sqlite3_keyword_count","int"],["sqlite3_keyword_name","int",["int","**","*"]],["sqlite3_keyword_check","int",["string","int"]],["sqlite3_libversion","string"],["sqlite3_libversion_number","int"],["sqlite3_limit","int",["sqlite3*","int","int"]],["sqlite3_malloc","*","int"],["sqlite3_open","int","string","*"],["sqlite3_open_v2","int","string","*","int","string"],["sqlite3_progress_handler",void 0,["sqlite3*","int",new o.xWrap.FuncPtrAdapter({name:"xProgressHandler",signature:"i(p)",bindScope:"context",contextKey:(b,h)=>b[0]}),"*"]],["sqlite3_realloc","*","*","int"],["sqlite3_reset","int","sqlite3_stmt*"],["sqlite3_result_blob",void 0,"sqlite3_context*","*","int","*"],["sqlite3_result_double",void 0,"sqlite3_context*","f64"],["sqlite3_result_error",void 0,"sqlite3_context*","string","int"],["sqlite3_result_error_code",void 0,"sqlite3_context*","int"],["sqlite3_result_error_nomem",void 0,"sqlite3_context*"],["sqlite3_result_error_toobig",void 0,"sqlite3_context*"],["sqlite3_result_int",void 0,"sqlite3_context*","int"],["sqlite3_result_null",void 0,"sqlite3_context*"],["sqlite3_result_pointer",void 0,"sqlite3_context*","*","string:static","*"],["sqlite3_result_subtype",void 0,"sqlite3_value*","int"],["sqlite3_result_text",void 0,"sqlite3_context*","string","int","*"],["sqlite3_result_zeroblob",void 0,"sqlite3_context*","int"],["sqlite3_rollback_hook","void*",["sqlite3*",new o.xWrap.FuncPtrAdapter({name:"sqlite3_rollback_hook",signature:"v(p)",contextKey:b=>b[0]}),"*"]],["sqlite3_set_authorizer","int",["sqlite3*",new o.xWrap.FuncPtrAdapter({name:"sqlite3_set_authorizer::xAuth",signature:"i(pissss)",contextKey:(b,h)=>b[0],callProxy:b=>(h,f,m,q,v,O)=>{try{return m=m&&o.cstrToJs(m),q=q&&o.cstrToJs(q),v=v&&o.cstrToJs(v),O=O&&o.cstrToJs(O),b(h,f,m,q,v,O)||0}catch(P){return P.resultCode||s.SQLITE_ERROR}}}),"*"]],["sqlite3_set_auxdata",void 0,["sqlite3_context*","int","*",new o.xWrap.FuncPtrAdapter({name:"xDestroyAuxData",signature:"v(*)",contextKey:(b,h)=>b[0]})]],["sqlite3_shutdown",void 0],["sqlite3_sourceid","string"],["sqlite3_sql","string","sqlite3_stmt*"],["sqlite3_status","int","int","*","*","int"],["sqlite3_step","int","sqlite3_stmt*"],["sqlite3_stmt_isexplain","int",["sqlite3_stmt*"]],["sqlite3_stmt_readonly","int",["sqlite3_stmt*"]],["sqlite3_stmt_status","int","sqlite3_stmt*","int","int"],["sqlite3_strglob","int","string","string"],["sqlite3_stricmp","int","string","string"],["sqlite3_strlike","int","string","string","int"],["sqlite3_strnicmp","int","string","string","int"],["sqlite3_table_column_metadata","int","sqlite3*","string","string","string","**","**","*","*","*"],["sqlite3_total_changes","int","sqlite3*"],["sqlite3_trace_v2","int",["sqlite3*","int",new o.xWrap.FuncPtrAdapter({name:"sqlite3_trace_v2::callback",signature:"i(ippp)",contextKey:(b,h)=>b[0]}),"*"]],["sqlite3_txn_state","int",["sqlite3*","string"]],["sqlite3_uri_boolean","int","sqlite3_filename","string","int"],["sqlite3_uri_key","string","sqlite3_filename","int"],["sqlite3_uri_parameter","string","sqlite3_filename","string"],["sqlite3_user_data","void*","sqlite3_context*"],["sqlite3_value_blob","*","sqlite3_value*"],["sqlite3_value_bytes","int","sqlite3_value*"],["sqlite3_value_double","f64","sqlite3_value*"],["sqlite3_value_dup","sqlite3_value*","sqlite3_value*"],["sqlite3_value_free",void 0,"sqlite3_value*"],["sqlite3_value_frombind","int","sqlite3_value*"],["sqlite3_value_int","int","sqlite3_value*"],["sqlite3_value_nochange","int","sqlite3_value*"],["sqlite3_value_numeric_type","int","sqlite3_value*"],["sqlite3_value_pointer","*","sqlite3_value*","string:static"],["sqlite3_value_subtype","int","sqlite3_value*"],["sqlite3_value_text","string","sqlite3_value*"],["sqlite3_value_type","int","sqlite3_value*"],["sqlite3_vfs_find","*","string"],["sqlite3_vfs_register","int","sqlite3_vfs*","int"],["sqlite3_vfs_unregister","int","sqlite3_vfs*"]],o.bindingSignatures.int64=[["sqlite3_bind_int64","int",["sqlite3_stmt*","int","i64"]],["sqlite3_changes64","i64",["sqlite3*"]],["sqlite3_column_int64","i64",["sqlite3_stmt*","int"]],["sqlite3_create_module","int",["sqlite3*","string","sqlite3_module*","*"]],["sqlite3_create_module_v2","int",["sqlite3*","string","sqlite3_module*","*","*"]],["sqlite3_declare_vtab","int",["sqlite3*","string:flexible"]],["sqlite3_deserialize","int","sqlite3*","string","*","i64","i64","int"],["sqlite3_drop_modules","int",["sqlite3*","**"]],["sqlite3_last_insert_rowid","i64",["sqlite3*"]],["sqlite3_malloc64","*","i64"],["sqlite3_msize","i64","*"],["sqlite3_overload_function","int",["sqlite3*","string","int"]],["sqlite3_preupdate_blobwrite","int","sqlite3*"],["sqlite3_preupdate_count","int","sqlite3*"],["sqlite3_preupdate_depth","int","sqlite3*"],["sqlite3_preupdate_hook","*",["sqlite3*",new o.xWrap.FuncPtrAdapter({name:"sqlite3_preupdate_hook",signature:"v(ppippjj)",contextKey:b=>b[0],callProxy:b=>(h,f,m,q,v,O,P)=>{b(h,f,m,o.cstrToJs(q),o.cstrToJs(v),O,P)}}),"*"]],["sqlite3_preupdate_new","int",["sqlite3*","int","**"]],["sqlite3_preupdate_old","int",["sqlite3*","int","**"]],["sqlite3_realloc64","*","*","i64"],["sqlite3_result_int64",void 0,"*","i64"],["sqlite3_result_zeroblob64","int","*","i64"],["sqlite3_serialize","*","sqlite3*","string","*","int"],["sqlite3_set_last_insert_rowid",void 0,["sqlite3*","i64"]],["sqlite3_status64","int","int","*","*","int"],["sqlite3_total_changes64","i64",["sqlite3*"]],["sqlite3_update_hook","*",["sqlite3*",new o.xWrap.FuncPtrAdapter({name:"sqlite3_update_hook",signature:"v(iippj)",contextKey:b=>b[0],callProxy:b=>(h,f,m,q,v)=>{b(h,f,o.cstrToJs(m),o.cstrToJs(q),v)}}),"*"]],["sqlite3_uri_int64","i64",["sqlite3_filename","string","i64"]],["sqlite3_value_int64","i64","sqlite3_value*"],["sqlite3_vtab_collation","string","sqlite3_index_info*","int"],["sqlite3_vtab_distinct","int","sqlite3_index_info*"],["sqlite3_vtab_in","int","sqlite3_index_info*","int","int"],["sqlite3_vtab_in_first","int","sqlite3_value*","**"],["sqlite3_vtab_in_next","int","sqlite3_value*","**"],["sqlite3_vtab_nochange","int","sqlite3_context*"],["sqlite3_vtab_on_conflict","int","sqlite3*"],["sqlite3_vtab_rhs_value","int","sqlite3_index_info*","int","**"]],o.bigIntEnabled&&o.exports.sqlite3changegroup_add){const b={signature:"i(ps)",callProxy:h=>(f,m)=>{try{return h(f,o.cstrToJs(m))|0}catch(q){return q.resultCode||s.SQLITE_ERROR}}};o.bindingSignatures.int64.push(["sqlite3changegroup_add","int",["sqlite3_changegroup*","int","void*"]],["sqlite3changegroup_add_strm","int",["sqlite3_changegroup*",new o.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changegroup_delete",void 0,["sqlite3_changegroup*"]],["sqlite3changegroup_new","int",["**"]],["sqlite3changegroup_output","int",["sqlite3_changegroup*","int*","**"]],["sqlite3changegroup_output_strm","int",["sqlite3_changegroup*",new o.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply","int",["sqlite3*","int","void*",new o.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...b}),new o.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_strm","int",["sqlite3*",new o.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new o.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...b}),new o.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_v2","int",["sqlite3*","int","void*",new o.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...b}),new o.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_apply_v2_strm","int",["sqlite3*",new o.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new o.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...b}),new o.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_concat","int",["int","void*","int","void*","int*","**"]],["sqlite3changeset_concat_strm","int",[new o.xWrap.FuncPtrAdapter({name:"xInputA",signature:"i(ppp)",bindScope:"transient"}),"void*",new o.xWrap.FuncPtrAdapter({name:"xInputB",signature:"i(ppp)",bindScope:"transient"}),"void*",new o.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_conflict","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_finalize","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_fk_conflicts","int",["sqlite3_changeset_iter*","int*"]],["sqlite3changeset_invert","int",["int","void*","int*","**"]],["sqlite3changeset_invert_strm","int",[new o.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new o.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_new","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_next","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_old","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_op","int",["sqlite3_changeset_iter*","**","int*","int*","int*"]],["sqlite3changeset_pk","int",["sqlite3_changeset_iter*","**","int*"]],["sqlite3changeset_start","int",["**","int","*"]],["sqlite3changeset_start_strm","int",["**",new o.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changeset_start_v2","int",["**","int","*","int"]],["sqlite3changeset_start_v2_strm","int",["**",new o.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*","int"]],["sqlite3session_attach","int",["sqlite3_session*","string"]],["sqlite3session_changeset","int",["sqlite3_session*","int*","**"]],["sqlite3session_changeset_size","i64",["sqlite3_session*"]],["sqlite3session_changeset_strm","int",["sqlite3_session*",new o.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_config","int",["int","void*"]],["sqlite3session_create","int",["sqlite3*","string","**"]],["sqlite3session_diff","int",["sqlite3_session*","string","string","**"]],["sqlite3session_enable","int",["sqlite3_session*","int"]],["sqlite3session_indirect","int",["sqlite3_session*","int"]],["sqlite3session_isempty","int",["sqlite3_session*"]],["sqlite3session_memory_used","i64",["sqlite3_session*"]],["sqlite3session_object_config","int",["sqlite3_session*","int","void*"]],["sqlite3session_patchset","int",["sqlite3_session*","*","**"]],["sqlite3session_patchset_strm","int",["sqlite3_session*",new o.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_table_filter",void 0,["sqlite3_session*",new o.xWrap.FuncPtrAdapter({name:"xFilter",...b,contextKey:(h,f)=>h[0]}),"*"]])}o.bindingSignatures.wasm=[["sqlite3_wasm_db_reset","int","sqlite3*"],["sqlite3_wasm_db_vfs","sqlite3_vfs*","sqlite3*","string"],["sqlite3_wasm_vfs_create_file","int","sqlite3_vfs*","string","*","int"],["sqlite3_wasm_vfs_unlink","int","sqlite3_vfs*","string"]],t.StructBinder=self.Jaccwabyt({heap:o.heap8u,alloc:o.alloc,dealloc:o.dealloc,bigIntEnabled:o.bigIntEnabled,memberPrefix:"$"}),delete self.Jaccwabyt;{const b=o.xWrap.argAdapter("string");o.xWrap.argAdapter("string:flexible",v=>b(c.flexibleString(v))),o.xWrap.argAdapter("string:static",function(v){return o.isPtr(v)?v:(v=""+v,this[v]||(this[v]=o.allocCString(v)))}.bind(Object.create(null)));const h=o.xWrap.argAdapter("*"),f=function(){};o.xWrap.argAdapter("sqlite3_filename",h)("sqlite3_context*",h)("sqlite3_value*",h)("void*",h)("sqlite3_changegroup*",h)("sqlite3_changeset_iter*",h)("sqlite3_session*",h)("sqlite3_stmt*",v=>{var O;return h(v instanceof(((O=t==null?void 0:t.oo1)==null?void 0:O.Stmt)||f)?v.pointer:v)})("sqlite3*",v=>{var O;return h(v instanceof(((O=t==null?void 0:t.oo1)==null?void 0:O.DB)||f)?v.pointer:v)})("sqlite3_index_info*",v=>h(v instanceof(s.sqlite3_index_info||f)?v.pointer:v))("sqlite3_module*",v=>h(v instanceof(s.sqlite3_module||f)?v.pointer:v))("sqlite3_vfs*",v=>typeof v=="string"?s.sqlite3_vfs_find(v)||t.SQLite3Error.toss(s.SQLITE_NOTFOUND,"Unknown sqlite3_vfs name:",v):h(v instanceof(s.sqlite3_vfs||f)?v.pointer:v));const m=o.xWrap.resultAdapter("*");o.xWrap.resultAdapter("sqlite3*",m)("sqlite3_context*",m)("sqlite3_stmt*",m)("sqlite3_value*",m)("sqlite3_vfs*",m)("void*",m);for(const v of o.bindingSignatures)s[v[0]]=o.xWrap.apply(null,v);for(const v of o.bindingSignatures.wasm)o[v[0]]=o.xWrap.apply(null,v);const q=function(v){return()=>i(v+"() is unavailable due to lack","of BigInt support in this build.")};for(const v of o.bindingSignatures.int64)s[v[0]]=o.bigIntEnabled?o.xWrap.apply(null,v):q(v[0]);if(delete o.bindingSignatures,o.exports.sqlite3_wasm_db_error){const v=o.xWrap("sqlite3_wasm_db_error","int","sqlite3*","int","string");c.sqlite3_wasm_db_error=function(O,P,T){return P instanceof t.WasmAllocError?(P=s.SQLITE_NOMEM,T=0):P instanceof Error&&(T=T||""+P,P=P.resultCode||s.SQLITE_ERROR),O?v(O,P,T):P}}else c.sqlite3_wasm_db_error=function(v,O,P){return console.warn("sqlite3_wasm_db_error() is not exported.",arguments),O}}{const b=o.xCall("sqlite3_wasm_enum_json");b||i("Maintenance required: increase sqlite3_wasm_enum_json()'s","static buffer size!"),o.ctype=JSON.parse(o.cstrToJs(b));const h=["access","authorizer","blobFinalizers","changeset","config","dataTypes","dbConfig","dbStatus","encodings","fcntl","flock","ioCap","limits","openFlags","prepareFlags","resultCodes","sqlite3Status","stmtStatus","syncFlags","trace","txnState","udfFlags","version"];o.bigIntEnabled&&h.push("serialize","session","vtab");for(const q of h)for(const v of Object.entries(o.ctype[q]))s[v[0]]=v[1];o.functionEntry(s.SQLITE_WASM_DEALLOC)||i("Internal error: cannot resolve exported function","entry SQLITE_WASM_DEALLOC (=="+s.SQLITE_WASM_DEALLOC+").");const f=Object.create(null);for(const q of["resultCodes"])for(const v of Object.entries(o.ctype[q]))f[v[1]]=v[0];s.sqlite3_js_rc_str=q=>f[q];const m=Object.assign(Object.create(null),{WasmTestStruct:!0,sqlite3_kvvfs_methods:!c.isUIThread(),sqlite3_index_info:!o.bigIntEnabled,sqlite3_index_constraint:!o.bigIntEnabled,sqlite3_index_orderby:!o.bigIntEnabled,sqlite3_index_constraint_usage:!o.bigIntEnabled});for(const q of o.ctype.structs)m[q.name]||(s[q.name]=t.StructBinder(q));if(s.sqlite3_index_info){for(const q of["sqlite3_index_constraint","sqlite3_index_orderby","sqlite3_index_constraint_usage"])s.sqlite3_index_info[q]=s[q],delete s[q];s.sqlite3_vtab_config=o.xWrap("sqlite3_wasm_vtab_config","int",["sqlite3*","int","int"])}}const g=(b,h,f)=>t.util.sqlite3_wasm_db_error(b,s.SQLITE_MISUSE,h+"() requires "+f+" argument"+(f===1?"":"s")+"."),E=b=>c.sqlite3_wasm_db_error(b,s.SQLITE_FORMAT,"SQLITE_UTF8 is the only supported encoding."),F=b=>o.xWrap.argAdapter("sqlite3*")(b),C=b=>o.isPtr(b)?o.cstrToJs(b):b,z=function(b,h){b=F(b);let f=this.dbMap.get(b);if(h)!f&&h>0&&this.dbMap.set(b,f=Object.create(null));else return this.dbMap.delete(b),f;return f}.bind(Object.assign(Object.create(null),{dbMap:new Map}));z.addCollation=function(b,h){const f=z(b,1);f.collation||(f.collation=new Set),f.collation.add(C(h).toLowerCase())},z._addUDF=function(b,h,f,m){h=C(h).toLowerCase();let q=m.get(h);q||m.set(h,q=new Set),q.add(f<0?-1:f)},z.addFunction=function(b,h,f){const m=z(b,1);m.udf||(m.udf=new Map),this._addUDF(b,h,f,m.udf)},z.addWindowFunc=function(b,h,f){const m=z(b,1);m.wudf||(m.wudf=new Map),this._addUDF(b,h,f,m.wudf)},z.cleanup=function(b){b=F(b);const h=[b];for(const q of["sqlite3_busy_handler","sqlite3_commit_hook","sqlite3_preupdate_hook","sqlite3_progress_handler","sqlite3_rollback_hook","sqlite3_set_authorizer","sqlite3_trace_v2","sqlite3_update_hook"]){const v=o.exports[q];h.length=v.length;try{s[q](...h)}catch(O){console.warn("close-time call of",q+"(",h,") threw:",O)}}const f=z(b,0);if(!f)return;if(f.collation){for(const q of f.collation)try{s.sqlite3_create_collation_v2(b,q,s.SQLITE_UTF8,0,0,0)}catch{}delete f.collation}let m;for(m=0;m<2;++m){const q=m?f.wudf:f.udf;if(!q)continue;const v=m?s.sqlite3_create_window_function:s.sqlite3_create_function_v2;for(const O of q){const P=O[0],T=O[1],R=[b,P,0,s.SQLITE_UTF8,0,0,0,0,0];m&&R.push(0);for(const N of T)try{R[2]=N,v.apply(null,R)}catch{}T.clear()}q.clear()}delete f.udf,delete f.wudf};{const b=o.xWrap("sqlite3_close_v2","int","sqlite3*");s.sqlite3_close_v2=function(h){if(arguments.length!==1)return g(h,"sqlite3_close_v2",1);if(h)try{z.cleanup(h)}catch{}return b(h)}}if(s.sqlite3session_table_filter){const b=o.xWrap("sqlite3session_delete",void 0,["sqlite3_session*"]);s.sqlite3session_delete=function(h){if(arguments.length!==1)return g(pDb,"sqlite3session_delete",1);h&&s.sqlite3session_table_filter(h,0,0),b(h)}}{const b=(f,m)=>"argv["+m+"]:"+f[0]+":"+o.cstrToJs(f[1]).toLowerCase(),h=o.xWrap("sqlite3_create_collation_v2","int",["sqlite3*","string","int","*",new o.xWrap.FuncPtrAdapter({name:"xCompare",signature:"i(pipip)",contextKey:b}),new o.xWrap.FuncPtrAdapter({name:"xDestroy",signature:"v(p)",contextKey:b})]);s.sqlite3_create_collation_v2=function(f,m,q,v,O,P){if(arguments.length!==6)return g(f,"sqlite3_create_collation_v2",6);if(!(q&15))q|=s.SQLITE_UTF8;else if(s.SQLITE_UTF8!==(q&15))return E(f);try{const T=h(f,m,q,v,O,P);return T===0&&O instanceof Function&&z.addCollation(f,m),T}catch(T){return c.sqlite3_wasm_db_error(f,T)}},s.sqlite3_create_collation=(f,m,q,v,O)=>arguments.length===5?s.sqlite3_create_collation_v2(f,m,q,v,O,0):g(f,"sqlite3_create_collation",5)}{const b=function(q,v){return q[0]+":"+(q[2]<0?-1:q[2])+":"+v+":"+o.cstrToJs(q[1]).toLowerCase()},h=Object.assign(Object.create(null),{xInverseAndStep:{signature:"v(pip)",contextKey:b,callProxy:q=>(v,O,P)=>{try{q(v,...s.sqlite3_values_to_js(O,P))}catch(T){s.sqlite3_result_error_js(v,T)}}},xFinalAndValue:{signature:"v(p)",contextKey:b,callProxy:q=>v=>{try{s.sqlite3_result_js(v,q(v))}catch(O){s.sqlite3_result_error_js(v,O)}}},xFunc:{signature:"v(pip)",contextKey:b,callProxy:q=>(v,O,P)=>{try{s.sqlite3_result_js(v,q(v,...s.sqlite3_values_to_js(O,P)))}catch(T){s.sqlite3_result_error_js(v,T)}}},xDestroy:{signature:"v(p)",contextKey:b,callProxy:q=>v=>{try{q(v)}catch(O){console.error("UDF xDestroy method threw:",O)}}}}),f=o.xWrap("sqlite3_create_function_v2","int",["sqlite3*","string","int","int","*",new o.xWrap.FuncPtrAdapter({name:"xFunc",...h.xFunc}),new o.xWrap.FuncPtrAdapter({name:"xStep",...h.xInverseAndStep}),new o.xWrap.FuncPtrAdapter({name:"xFinal",...h.xFinalAndValue}),new o.xWrap.FuncPtrAdapter({name:"xDestroy",...h.xDestroy})]),m=o.xWrap("sqlite3_create_window_function","int",["sqlite3*","string","int","int","*",new o.xWrap.FuncPtrAdapter({name:"xStep",...h.xInverseAndStep}),new o.xWrap.FuncPtrAdapter({name:"xFinal",...h.xFinalAndValue}),new o.xWrap.FuncPtrAdapter({name:"xValue",...h.xFinalAndValue}),new o.xWrap.FuncPtrAdapter({name:"xInverse",...h.xInverseAndStep}),new o.xWrap.FuncPtrAdapter({name:"xDestroy",...h.xDestroy})]);s.sqlite3_create_function_v2=function q(v,O,P,T,R,N,Q,p,y){if(q.length!==arguments.length)return g(v,"sqlite3_create_function_v2",q.length);if(!(T&15))T|=s.SQLITE_UTF8;else if(s.SQLITE_UTF8!==(T&15))return E(v);try{const x=f(v,O,P,T,R,N,Q,p,y);return x===0&&(N instanceof Function||Q instanceof Function||p instanceof Function||y instanceof Function)&&z.addFunction(v,O,P),x}catch(x){return console.error("sqlite3_create_function_v2() setup threw:",x),c.sqlite3_wasm_db_error(v,x,"Creation of UDF threw: "+x)}},s.sqlite3_create_function=function q(v,O,P,T,R,N,Q,p){return q.length===arguments.length?s.sqlite3_create_function_v2(v,O,P,T,R,N,Q,p,0):g(v,"sqlite3_create_function",q.length)},s.sqlite3_create_window_function=function q(v,O,P,T,R,N,Q,p,y,x){if(q.length!==arguments.length)return g(v,"sqlite3_create_window_function",q.length);if(!(T&15))T|=s.SQLITE_UTF8;else if(s.SQLITE_UTF8!==(T&15))return E(v);try{const d=m(v,O,P,T,R,N,Q,p,y,x);return d===0&&(N instanceof Function||Q instanceof Function||p instanceof Function||y instanceof Function||x instanceof Function)&&z.addWindowFunc(v,O,P),d}catch(d){return console.error("sqlite3_create_window_function() setup threw:",d),c.sqlite3_wasm_db_error(v,d,"Creation of UDF threw: "+d)}},s.sqlite3_create_function_v2.udfSetResult=s.sqlite3_create_function.udfSetResult=s.sqlite3_create_window_function.udfSetResult=s.sqlite3_result_js,s.sqlite3_create_function_v2.udfConvertArgs=s.sqlite3_create_function.udfConvertArgs=s.sqlite3_create_window_function.udfConvertArgs=s.sqlite3_values_to_js,s.sqlite3_create_function_v2.udfSetError=s.sqlite3_create_function.udfSetError=s.sqlite3_create_window_function.udfSetError=s.sqlite3_result_error_js}{const b=(f,m)=>(typeof f=="string"?m=-1:c.isSQLableTypedArray(f)?(m=f.byteLength,f=c.typedArrayToString(f instanceof ArrayBuffer?new Uint8Array(f):f)):Array.isArray(f)&&(f=f.join(""),m=-1),[f,m]),h={basic:o.xWrap("sqlite3_prepare_v3","int",["sqlite3*","string","int","int","**","**"]),full:o.xWrap("sqlite3_prepare_v3","int",["sqlite3*","*","int","int","**","**"])};s.sqlite3_prepare_v3=function f(m,q,v,O,P,T){if(f.length!==arguments.length)return g(m,"sqlite3_prepare_v3",f.length);const[R,N]=b(q,v);switch(typeof R){case"string":return h.basic(m,R,N,O,P,null);case"number":return h.full(m,R,N,O,P,T);default:return c.sqlite3_wasm_db_error(m,s.SQLITE_MISUSE,"Invalid SQL argument type for sqlite3_prepare_v2/v3().")}},s.sqlite3_prepare_v2=function f(m,q,v,O,P){return f.length===arguments.length?s.sqlite3_prepare_v3(m,q,v,0,O,P):g(m,"sqlite3_prepare_v2",f.length)}}{const b=o.xWrap("sqlite3_bind_text","int",["sqlite3_stmt*","int","string","int","*"]),h=o.xWrap("sqlite3_bind_blob","int",["sqlite3_stmt*","int","*","int","*"]);s.sqlite3_bind_text=function f(m,q,v,O,P){if(f.length!==arguments.length)return g(s.sqlite3_db_handle(m),"sqlite3_bind_text",f.length);if(o.isPtr(v)||v===null)return b(m,q,v,O,P);v instanceof ArrayBuffer?v=new Uint8Array(v):Array.isArray(pMem)&&(v=pMem.join(""));let T,R;try{if(c.isSQLableTypedArray(v))T=o.allocFromTypedArray(v),R=v.byteLength;else if(typeof v=="string")[T,R]=o.allocCString(v);else return c.sqlite3_wasm_db_error(s.sqlite3_db_handle(m),s.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_text().");return b(m,q,T,R,s.SQLITE_WASM_DEALLOC)}catch(N){return o.dealloc(T),c.sqlite3_wasm_db_error(s.sqlite3_db_handle(m),N)}},s.sqlite3_bind_blob=function f(m,q,v,O,P){if(f.length!==arguments.length)return g(s.sqlite3_db_handle(m),"sqlite3_bind_blob",f.length);if(o.isPtr(v)||v===null)return h(m,q,v,O,P);v instanceof ArrayBuffer?v=new Uint8Array(v):Array.isArray(v)&&(v=v.join(""));let T,R;try{if(c.isBindableTypedArray(v))T=o.allocFromTypedArray(v),R=O>=0?O:v.byteLength;else if(typeof v=="string")[T,R]=o.allocCString(v);else return c.sqlite3_wasm_db_error(s.sqlite3_db_handle(m),s.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_blob().");return h(m,q,T,R,s.SQLITE_WASM_DEALLOC)}catch(N){return o.dealloc(T),c.sqlite3_wasm_db_error(s.sqlite3_db_handle(m),N)}}}s.sqlite3_config=function(b,...h){if(arguments.length<2)return s.SQLITE_MISUSE;switch(b){case s.SQLITE_CONFIG_COVERING_INDEX_SCAN:case s.SQLITE_CONFIG_MEMSTATUS:case s.SQLITE_CONFIG_SMALL_MALLOC:case s.SQLITE_CONFIG_SORTERREF_SIZE:case s.SQLITE_CONFIG_STMTJRNL_SPILL:case s.SQLITE_CONFIG_URI:return o.exports.sqlite3_wasm_config_i(b,h[0]);case s.SQLITE_CONFIG_LOOKASIDE:return o.exports.sqlite3_wasm_config_ii(b,h[0],h[1]);case s.SQLITE_CONFIG_MEMDB_MAXSIZE:return o.exports.sqlite3_wasm_config_j(b,h[0]);case s.SQLITE_CONFIG_GETMALLOC:case s.SQLITE_CONFIG_GETMUTEX:case s.SQLITE_CONFIG_GETPCACHE2:case s.SQLITE_CONFIG_GETPCACHE:case s.SQLITE_CONFIG_HEAP:case s.SQLITE_CONFIG_LOG:case s.SQLITE_CONFIG_MALLOC:case s.SQLITE_CONFIG_MMAP_SIZE:case s.SQLITE_CONFIG_MULTITHREAD:case s.SQLITE_CONFIG_MUTEX:case s.SQLITE_CONFIG_PAGECACHE:case s.SQLITE_CONFIG_PCACHE2:case s.SQLITE_CONFIG_PCACHE:case s.SQLITE_CONFIG_PCACHE_HDRSZ:case s.SQLITE_CONFIG_PMASZ:case s.SQLITE_CONFIG_SERIALIZED:case s.SQLITE_CONFIG_SINGLETHREAD:case s.SQLITE_CONFIG_SQLLOG:case s.SQLITE_CONFIG_WIN32_HEAPSIZE:default:return s.SQLITE_NOTFOUND}};{const b=new Set;s.sqlite3_auto_extension=function(h){if(h instanceof Function)h=o.installFunction("i(ppp)",h);else if(arguments.length!==1||!o.isPtr(h))return s.SQLITE_MISUSE;const f=o.exports.sqlite3_auto_extension(h);return h!==arguments[0]&&(f===0?b.add(h):o.uninstallFunction(h)),f},s.sqlite3_cancel_auto_extension=function(h){return!h||arguments.length!==1||!o.isPtr(h)?0:o.exports.sqlite3_cancel_auto_extension(h)},s.sqlite3_reset_auto_extension=function(){o.exports.sqlite3_reset_auto_extension();for(const h of b)o.uninstallFunction(h);b.clear()}}const V=s.sqlite3_vfs_find("kvvfs");if(V)if(c.isUIThread()){const b=new s.sqlite3_kvvfs_methods(o.exports.sqlite3_wasm_kvvfs_methods());delete s.sqlite3_kvvfs_methods;const h=o.exports.sqlite3_wasm_kvvfsMakeKeyOnPstack,f=o.pstack,m=v=>o.peek(v)===115?sessionStorage:localStorage,q={xRead:(v,O,P,T)=>{const R=f.pointer,N=o.scopedAllocPush();try{const Q=h(v,O);if(!Q)return-3;const p=o.cstrToJs(Q),y=m(v).getItem(p);if(!y)return-1;const x=y.length;if(T<=0)return x;if(T===1)return o.poke(P,0),x;const d=o.scopedAllocCString(y);return T>x+1&&(T=x+1),o.heap8u().copyWithin(P,d,d+T-1),o.poke(P+T-1,0),T-1}catch(Q){return console.error("kvstorageRead()",Q),-2}finally{f.restore(R),o.scopedAllocPop(N)}},xWrite:(v,O,P)=>{const T=f.pointer;try{const R=h(v,O);if(!R)return 1;const N=o.cstrToJs(R);return m(v).setItem(N,o.cstrToJs(P)),0}catch(R){return console.error("kvstorageWrite()",R),s.SQLITE_IOERR}finally{f.restore(T)}},xDelete:(v,O)=>{const P=f.pointer;try{const T=h(v,O);return T?(m(v).removeItem(o.cstrToJs(T)),0):1}catch(T){return console.error("kvstorageDelete()",T),s.SQLITE_IOERR}finally{f.restore(P)}}};for(const v of Object.keys(q))b[b.memberKey(v)]=o.installFunction(b.memberSignature(v),q[v])}else s.sqlite3_vfs_unregister(V);o.xWrap.FuncPtrAdapter.warnOnUse=!0}),self.sqlite3ApiBootstrap.initializers.push(function(t){t.version={libVersion:"3.41.2",libVersionNumber:3041002,sourceId:"2023-03-22 11:56:21 0d1fc92f94cb6b76bffe3ec34d69cffde2924203304e8ffc4155597af0c191da",downloadVersion:3410200}}),self.sqlite3ApiBootstrap.initializers.push(function(t){const i=(...d)=>{throw new t.SQLite3Error(...d)},s=t.capi,o=t.wasm,c=t.util,g=new WeakMap,E=new WeakMap,F=(d,u,a)=>{const _=Object.getOwnPropertyDescriptor(d,u);return _?_.value:a},C=function(d,u){return u&&(d instanceof h&&(d=d.pointer),i("sqlite3 result code",u+":",d?s.sqlite3_errmsg(d):s.sqlite3_errstr(u))),arguments[0]},z=o.installFunction("i(ippp)",function(d,u,a,_){s.SQLITE_TRACE_STMT===d&&console.log("SQL TRACE #"+ ++this.counter+" via sqlite3@"+u+":",o.cstrToJs(_))}.bind({counter:0})),V=Object.create(null),b=function d(...u){if(!d._name2vfs){d._name2vfs=Object.create(null);const $=typeof importScripts=="function"?le=>i("The VFS for",le,"is only available in the main window thread."):!1;d._name2vfs[":localStorage:"]={vfs:"kvvfs",filename:$||(()=>"local")},d._name2vfs[":sessionStorage:"]={vfs:"kvvfs",filename:$||(()=>"session")}}const a=d.normalizeArgs(...u);let _=a.filename,w=a.vfs,k=a.flags;(typeof _!="string"&&typeof _!="number"||typeof k!="string"||w&&typeof w!="string"&&typeof w!="number")&&(t.config.error("Invalid DB ctor args",a,arguments),i("Invalid arguments for DB constructor."));let I=typeof _=="number"?o.cstrToJs(_):_;const K=d._name2vfs[I];K&&(w=K.vfs,_=I=K.filename(I));let H,J=0;k.indexOf("c")>=0&&(J|=s.SQLITE_OPEN_CREATE|s.SQLITE_OPEN_READWRITE),k.indexOf("w")>=0&&(J|=s.SQLITE_OPEN_READWRITE),J===0&&(J|=s.SQLITE_OPEN_READONLY),J|=s.SQLITE_OPEN_EXRESCODE;const Y=o.pstack.pointer;try{const $=o.pstack.allocPtr();let le=s.sqlite3_open_v2(_,$,J,w||0);H=o.peekPtr($),C(H,le),s.sqlite3_extended_result_codes(H,1),k.indexOf("t")>=0&&s.sqlite3_trace_v2(H,s.SQLITE_TRACE_STMT,z,H)}catch($){throw H&&s.sqlite3_close_v2(H),$}finally{o.pstack.restore(Y)}this.filename=I,g.set(this,H),E.set(this,Object.create(null));try{const $=s.sqlite3_js_db_vfs(H);$||i("Internal error: cannot get VFS for new db handle.");const le=V[$];le instanceof Function?le(this,t):le&&C(H,s.sqlite3_exec(H,le,0,0,0))}catch($){throw this.close(),$}};b.setVfsPostOpenSql=function(d,u){V[d]=u},b.normalizeArgs=function(d=":memory:",u="c",a=null){const _={};return arguments.length===1&&arguments[0]&&typeof arguments[0]=="object"?(Object.assign(_,arguments[0]),_.flags===void 0&&(_.flags="c"),_.vfs===void 0&&(_.vfs=null),_.filename===void 0&&(_.filename=":memory:")):(_.filename=d,_.flags=u,_.vfs=a),_};const h=function(...d){b.apply(this,d)};h.dbCtorHelper=b;const f={null:1,number:2,string:3,boolean:4,blob:5};f.undefined==f.null,o.bigIntEnabled&&(f.bigint=f.number);const m=function(){f!==arguments[2]&&i(s.SQLITE_MISUSE,"Do not call the Stmt constructor directly. Use DB.prepare()."),this.db=arguments[0],g.set(this,arguments[1]),this.columnCount=s.sqlite3_column_count(this.pointer),this.parameterCount=s.sqlite3_bind_parameter_count(this.pointer)},q=function(d){return d.pointer||i("DB has been closed."),d},v=function(d,u){return(u!==(u|0)||u<0||u>=d.columnCount)&&i("Column index",u,"is out of range."),d},O=function(d,u){const a=Object.create(null);switch(a.opt=Object.create(null),u.length){case 1:typeof u[0]=="string"||c.isSQLableTypedArray(u[0])||Array.isArray(u[0])?a.sql=u[0]:u[0]&&typeof u[0]=="object"&&(a.opt=u[0],a.sql=a.opt.sql);break;case 2:a.sql=u[0],a.opt=u[1];break;default:i("Invalid argument count for exec().")}a.sql=c.flexibleString(a.sql),typeof a.sql!="string"&&i("Missing SQL argument or unsupported SQL value type.");const _=a.opt;switch(_.returnValue){case"resultRows":_.resultRows||(_.resultRows=[]),a.returnVal=()=>_.resultRows;break;case"saveSql":_.saveSql||(_.saveSql=[]),a.returnVal=()=>_.saveSql;break;case void 0:case"this":a.returnVal=()=>d;break;default:i("Invalid returnValue value:",_.returnValue)}if(!_.callback&&!_.returnValue&&_.rowMode!==void 0&&(_.resultRows||(_.resultRows=[]),a.returnVal=()=>_.resultRows),_.callback||_.resultRows)switch(_.rowMode===void 0?"array":_.rowMode){case"object":a.cbArg=w=>w.get(Object.create(null));break;case"array":a.cbArg=w=>w.get([]);break;case"stmt":Array.isArray(_.resultRows)&&i("exec(): invalid rowMode for a resultRows array: must","be one of 'array', 'object',","a result column number, or column name reference."),a.cbArg=w=>w;break;default:if(c.isInt32(_.rowMode)){a.cbArg=w=>w.get(_.rowMode);break}else if(typeof _.rowMode=="string"&&_.rowMode.length>1&&_.rowMode[0]==="$"){const w=_.rowMode.substr(1);a.cbArg=k=>{const I=k.get(Object.create(null))[w];return I===void 0?i(s.SQLITE_NOTFOUND,"exec(): unknown result column:",w):I};break}i("Invalid rowMode:",_.rowMode)}return a},P=(d,u,a,..._)=>{const w=d.prepare(u);try{return w.bind(a).step()?w.get(..._):void 0}finally{w.finalize()}},T=(d,u,a,_)=>d.exec({sql:u,bind:a,rowMode:_,returnValue:"resultRows"});h.checkRc=(d,u)=>C(d,u),h.prototype={isOpen:function(){return!!this.pointer},affirmOpen:function(){return q(this)},close:function(){if(this.pointer){if(this.onclose&&this.onclose.before instanceof Function)try{this.onclose.before(this)}catch{}const d=this.pointer;if(Object.keys(E.get(this)).forEach((u,a)=>{a&&a.pointer&&a.finalize()}),g.delete(this),E.delete(this),s.sqlite3_close_v2(d),this.onclose&&this.onclose.after instanceof Function)try{this.onclose.after(this)}catch{}delete this.filename}},changes:function(d=!1,u=!1){const a=q(this).pointer;return d?u?s.sqlite3_total_changes64(a):s.sqlite3_total_changes(a):u?s.sqlite3_changes64(a):s.sqlite3_changes(a)},dbFilename:function(d="main"){return s.sqlite3_db_filename(q(this).pointer,d)},dbName:function(d=0){return s.sqlite3_db_name(q(this).pointer,d)},dbVfsName:function(d=0){let u;const a=s.sqlite3_js_db_vfs(q(this).pointer,d);if(a){const _=new s.sqlite3_vfs(a);try{u=o.cstrToJs(_.$zName)}finally{_.dispose()}}return u},prepare:function(d){q(this);const u=o.pstack.pointer;let a,_;try{a=o.pstack.alloc(8),h.checkRc(this,s.sqlite3_prepare_v2(this.pointer,d,-1,a,null)),_=o.peekPtr(a)}finally{o.pstack.restore(u)}_||i("Cannot prepare empty SQL.");const w=new m(this,_,f);return E.get(this)[_]=w,w},exec:function(){q(this);const d=O(this,arguments);if(!d.sql)return i("exec() requires an SQL string.");const u=d.opt,a=u.callback,_=Array.isArray(u.resultRows)?u.resultRows:void 0;let w,k=u.bind,I=!!(d.cbArg||u.columnNames||_);const K=o.scopedAllocPush(),H=Array.isArray(u.saveSql)?u.saveSql:void 0;try{const J=c.isSQLableTypedArray(d.sql);let Y=J?d.sql.byteLength:o.jstrlen(d.sql);const $=o.scopedAlloc(2*o.ptrSizeof+(Y+1)),le=$+o.ptrSizeof;let S=le+o.ptrSizeof;const D=S+Y;for(J?o.heap8().set(d.sql,S):o.jstrcpy(d.sql,o.heap8(),S,Y,!1),o.poke(S+Y,0);S&&o.peek(S,"i8");){o.pokePtr([$,le],0),h.checkRc(this,s.sqlite3_prepare_v3(this.pointer,S,Y,0,$,le));const L=o.peekPtr($);if(S=o.peekPtr(le),Y=D-S,!!L){if(H&&H.push(s.sqlite3_sql(L).trim()),w=new m(this,L,f),k&&w.parameterCount&&(w.bind(k),k=null),I&&w.columnCount){if(I=!1,Array.isArray(u.columnNames)&&w.getColumnNames(u.columnNames),d.cbArg||_){for(;w.step();w._isLocked=!1){w._isLocked=!0;const U=d.cbArg(w);if(_&&_.push(U),a&&a.call(u,U,w)===!1)break}w._isLocked=!1}}else w.step();w.finalize(),w=null}}}finally{w&&(delete w._isLocked,w.finalize()),o.scopedAllocPop(K)}return d.returnVal()},createFunction:function(u,a,_){const w=j=>j instanceof Function;switch(arguments.length){case 1:_=u,u=_.name,a=_.xFunc||0;break;case 2:w(a)||(_=a,a=_.xFunc||0);break}_||(_={}),typeof u!="string"&&i("Invalid arguments: missing function name.");let k=_.xStep||0,I=_.xFinal||0;const K=_.xValue||0,H=_.xInverse||0;let J;w(a)?(J=!1,(w(k)||w(I))&&i("Ambiguous arguments: scalar or aggregate?"),k=I=null):w(k)?(w(I)||i("Missing xFinal() callback for aggregate or window UDF."),a=null):w(I)?i("Missing xStep() callback for aggregate or window UDF."):i("Missing function-type properties."),J===!1?(w(K)||w(H))&&i("xValue and xInverse are not permitted for non-window UDFs."):w(K)?(w(H)||i("xInverse must be provided if xValue is."),J=!0):w(H)&&i("xValue must be provided if xInverse is.");const Y=_.pApp;Y!=null&&(typeof Y!="number"||!c.isInt32(Y))&&i("Invalid value for pApp property. Must be a legal WASM pointer value.");const $=_.xDestroy||0;$&&!w($)&&i("xDestroy property must be a function.");let le=0;F(_,"deterministic")&&(le|=s.SQLITE_DETERMINISTIC),F(_,"directOnly")&&(le|=s.SQLITE_DIRECTONLY),F(_,"innocuous")&&(le|=s.SQLITE_INNOCUOUS),u=u.toLowerCase();const S=a||k,D=F(_,"arity"),L=typeof D=="number"?D:S.length?S.length-1:0;let U;return J?U=s.sqlite3_create_window_function(this.pointer,u,L,s.SQLITE_UTF8|le,Y||0,k,I,K,H,$):U=s.sqlite3_create_function_v2(this.pointer,u,L,s.SQLITE_UTF8|le,Y||0,a,k,I,$),h.checkRc(this,U),this},selectValue:function(d,u,a){return P(this,d,u,0,a)},selectValues:function(d,u,a){const _=this.prepare(d),w=[];try{for(_.bind(u);_.step();)w.push(_.get(0,a))}finally{_.finalize()}return w},selectArray:function(d,u){return P(this,d,u,[])},selectObject:function(d,u){return P(this,d,u,{})},selectArrays:function(d,u){return T(this,d,u,"array")},selectObjects:function(d,u){return T(this,d,u,"object")},openStatementCount:function(){return this.pointer?Object.keys(E.get(this)).length:0},transaction:function(d){let u="BEGIN";arguments.length>1&&(/[^a-zA-Z]/.test(arguments[0])&&i(s.SQLITE_MISUSE,"Invalid argument for BEGIN qualifier."),u+=" "+arguments[0],d=arguments[1]),q(this).exec(u);try{const a=d(this);return this.exec("COMMIT"),a}catch(a){throw this.exec("ROLLBACK"),a}},savepoint:function(d){q(this).exec("SAVEPOINT oo1");try{const u=d(this);return this.exec("RELEASE oo1"),u}catch(u){throw this.exec("ROLLBACK to SAVEPOINT oo1; RELEASE SAVEPOINT oo1"),u}},checkRc:function(d){return h.checkRc(this,d)}};const R=function(d){return d.pointer||i("Stmt has been closed."),d},N=function(d){let u=f[d==null?"null":typeof d];switch(u){case f.boolean:case f.null:case f.number:case f.string:return u;case f.bigint:if(o.bigIntEnabled)return u;default:return c.isBindableTypedArray(d)?f.blob:void 0}},Q=function(d){return N(d)||i("Unsupported bind() argument type:",typeof d)},p=function(d,u){const a=typeof u=="number"?u:s.sqlite3_bind_parameter_index(d.pointer,u);return a===0||!c.isInt32(a)?i("Invalid bind() parameter name: "+u):(a<1||a>d.parameterCount)&&i("Bind index",u,"is out of range."),a},y=function(d,u){return d._isLocked&&i("Operation is illegal when statement is locked:",u),d},x=function d(u,a,_,w){y(R(u),"bind()"),d._||(d._tooBigInt=I=>i("BigInt value is too big to store without precision loss:",I),d._={string:function(I,K,H,J){const[Y,$]=o.allocCString(H,!0);return(J?s.sqlite3_bind_blob:s.sqlite3_bind_text)(I.pointer,K,Y,$,s.SQLITE_WASM_DEALLOC)}}),Q(w),a=p(u,a);let k=0;switch(w==null?f.null:_){case f.null:k=s.sqlite3_bind_null(u.pointer,a);break;case f.string:k=d._.string(u,a,w,!1);break;case f.number:{let I;c.isInt32(w)?I=s.sqlite3_bind_int:typeof w=="bigint"?c.bigIntFits64(w)?o.bigIntEnabled?I=s.sqlite3_bind_int64:c.bigIntFitsDouble(w)?(w=Number(w),I=s.sqlite3_bind_double):d._tooBigInt(w):d._tooBigInt(w):(w=Number(w),o.bigIntEnabled&&Number.isInteger(w)?I=s.sqlite3_bind_int64:I=s.sqlite3_bind_double),k=I(u.pointer,a,w);break}case f.boolean:k=s.sqlite3_bind_int(u.pointer,a,w?1:0);break;case f.blob:{if(typeof w=="string"){k=d._.string(u,a,w,!0);break}else w instanceof ArrayBuffer?w=new Uint8Array(w):c.isBindableTypedArray(w)||i("Binding a value as a blob requires","that it be a string, Uint8Array, Int8Array, or ArrayBuffer.");const I=o.alloc(w.byteLength||1);o.heap8().set(w.byteLength?w:[0],I),k=s.sqlite3_bind_blob(u.pointer,a,I,w.byteLength,s.SQLITE_WASM_DEALLOC);break}default:t.config.warn("Unsupported bind() argument type:",w),i("Unsupported bind() argument type: "+typeof w)}return k&&h.checkRc(u.db.pointer,k),u._mayGet=!1,u};m.prototype={finalize:function(){this.pointer&&(y(this,"finalize()"),delete E.get(this.db)[this.pointer],s.sqlite3_finalize(this.pointer),g.delete(this),delete this._mayGet,delete this.columnCount,delete this.parameterCount,delete this.db,delete this._isLocked)},clearBindings:function(){return y(R(this),"clearBindings()"),s.sqlite3_clear_bindings(this.pointer),this._mayGet=!1,this},reset:function(d){return y(this,"reset()"),d&&this.clearBindings(),s.sqlite3_reset(R(this).pointer),this._mayGet=!1,this},bind:function(){R(this);let d,u;switch(arguments.length){case 1:d=1,u=arguments[0];break;case 2:d=arguments[0],u=arguments[1];break;default:i("Invalid bind() arguments.")}return u===void 0?this:(this.parameterCount||i("This statement has no bindable parameters."),this._mayGet=!1,u===null?x(this,d,f.null,u):Array.isArray(u)?(arguments.length!==1&&i("When binding an array, an index argument is not permitted."),u.forEach((a,_)=>x(this,_+1,Q(a),a)),this):(u instanceof ArrayBuffer&&(u=new Uint8Array(u)),typeof u=="object"&&!c.isBindableTypedArray(u)?(arguments.length!==1&&i("When binding an object, an index argument is not permitted."),Object.keys(u).forEach(a=>x(this,a,Q(u[a]),u[a])),this):x(this,d,Q(u),u)))},bindAsBlob:function(d,u){R(this),arguments.length===1&&(u=d,d=1);const a=Q(u);return f.string!==a&&f.blob!==a&&f.null!==a&&i("Invalid value type for bindAsBlob()"),x(this,d,f.blob,u)},step:function(){y(this,"step()");const d=s.sqlite3_step(R(this).pointer);switch(d){case s.SQLITE_DONE:return this._mayGet=!1;case s.SQLITE_ROW:return this._mayGet=!0;default:this._mayGet=!1,t.config.warn("sqlite3_step() rc=",d,s.sqlite3_js_rc_str(d),"SQL =",s.sqlite3_sql(this.pointer)),h.checkRc(this.db.pointer,d)}},stepReset:function(){return this.step(),this.reset()},stepFinalize:function(){const d=this.step();return this.finalize(),d},get:function(d,u){if(R(this)._mayGet||i("Stmt.step() has not (recently) returned true."),Array.isArray(d)){let a=0;for(;a<this.columnCount;)d[a]=this.get(a++);return d}else if(d&&typeof d=="object"){let a=0;for(;a<this.columnCount;)d[s.sqlite3_column_name(this.pointer,a)]=this.get(a++);return d}switch(v(this,d),u===void 0?s.sqlite3_column_type(this.pointer,d):u){case s.SQLITE_NULL:return null;case s.SQLITE_INTEGER:if(o.bigIntEnabled){const a=s.sqlite3_column_int64(this.pointer,d);return a>=Number.MIN_SAFE_INTEGER&&a<=Number.MAX_SAFE_INTEGER?Number(a).valueOf():a}else{const a=s.sqlite3_column_double(this.pointer,d);return(a>Number.MAX_SAFE_INTEGER||a<Number.MIN_SAFE_INTEGER)&&i("Integer is out of range for JS integer range: "+a),c.isInt32(a)?a|0:a}case s.SQLITE_FLOAT:return s.sqlite3_column_double(this.pointer,d);case s.SQLITE_TEXT:return s.sqlite3_column_text(this.pointer,d);case s.SQLITE_BLOB:{const a=s.sqlite3_column_bytes(this.pointer,d),_=s.sqlite3_column_blob(this.pointer,d),w=new Uint8Array(a);return a&&w.set(o.heap8u().slice(_,_+a),0),a&&this.db._blobXfer instanceof Array&&this.db._blobXfer.push(w.buffer),w}default:i("Don't know how to translate","type of result column #"+d+".")}i("Not reached.")},getInt:function(d){return this.get(d,s.SQLITE_INTEGER)},getFloat:function(d){return this.get(d,s.SQLITE_FLOAT)},getString:function(d){return this.get(d,s.SQLITE_TEXT)},getBlob:function(d){return this.get(d,s.SQLITE_BLOB)},getJSON:function(d){const u=this.get(d,s.SQLITE_STRING);return u===null?u:JSON.parse(u)},getColumnName:function(d){return s.sqlite3_column_name(v(R(this),d).pointer,d)},getColumnNames:function(d=[]){v(R(this),0);for(let u=0;u<this.columnCount;++u)d.push(s.sqlite3_column_name(this.pointer,u));return d},getParamIndex:function(d){return R(this).parameterCount?s.sqlite3_bind_parameter_index(this.pointer,d):void 0}};{const d={enumerable:!0,get:function(){return g.get(this)},set:()=>i("The pointer property is read-only.")};Object.defineProperty(m.prototype,"pointer",d),Object.defineProperty(h.prototype,"pointer",d)}if(t.oo1={DB:h,Stmt:m},c.isUIThread()){t.oo1.JsStorageDb=function(u="session"){u!=="session"&&u!=="local"&&i("JsStorageDb db name must be one of 'session' or 'local'."),b.call(this,{filename:u,flags:"c",vfs:"kvvfs"})};const d=t.oo1.JsStorageDb;d.prototype=Object.create(h.prototype),d.clearStorage=s.sqlite3_js_kvvfs_clear,d.prototype.clearStorage=function(){return d.clearStorage(q(this).filename)},d.storageSize=s.sqlite3_js_kvvfs_size,d.prototype.storageSize=function(){return d.storageSize(q(this).filename)}}}),self.sqlite3ApiBootstrap.initializers.push(function(t){t.initWorker1API=function(){const i=(...f)=>{throw new Error(f.join(" "))};typeof importScripts!="function"&&i("initWorker1API() must be run from a Worker thread.");const s=this.self,o=this.sqlite3||i("Missing this.sqlite3 object."),c=o.oo1.DB,g=function(f){let m=E.idMap.get(f);return m||(m="db#"+ ++E.idSeq+"@"+f.pointer,E.idMap.set(f,m),m)},E={dbList:[],idSeq:0,idMap:new WeakMap,xfer:[],open:function(f){const m=new c(f);return this.dbs[g(m)]=m,this.dbList.indexOf(m)<0&&this.dbList.push(m),m},close:function(f,m){if(f){delete this.dbs[g(f)];const q=f.filename,v=o.wasm.sqlite3_wasm_db_vfs(f.pointer,0);f.close();const O=this.dbList.indexOf(f);O>=0&&this.dbList.splice(O,1),m&&q&&v&&o.wasm.sqlite3_wasm_vfs_unlink(v,q)}},post:function(f,m){m&&m.length?(s.postMessage(f,Array.from(m)),m.length=0):s.postMessage(f)},dbs:Object.create(null),getDb:function(f,m=!0){return this.dbs[f]||(m?i("Unknown (or closed) DB ID:",f):void 0)}},F=function(f=E.dbList[0]){return f&&f.pointer?f:i("DB is not opened.")},C=function(f,m=!0){const q=E.getDb(f.dbId,!1)||E.dbList[0];return m?F(q):q},z=function(){return E.dbList[0]&&g(E.dbList[0])},V=function(f){const m=/^file:.+(vfs=(\w+))/.exec(f);return o.capi.sqlite3_vfs_find(m?m[2]:0)},b=f=>f===""||f[0]===":",h={open:function(f){const m=Object.create(null),q=f.args||Object.create(null);q.simulateError&&i("Throwing because of simulateError flag.");const v=Object.create(null);let O,P;if(m.vfs=q.vfs,b(q.filename)?m.filename=q.filename||"":(m.filename=q.filename,O=q.byteArray,O&&(P=V(q.filename))),P){let R;try{R=o.wasm.allocFromTypedArray(O);const N=o.wasm.sqlite3_wasm_vfs_create_file(P,m.filename,R,O.byteLength);N&&o.SQLite3Error.toss(N)}catch(N){throw new o.SQLite3Error(N.name+" creating "+q.filename+": "+N.message,{cause:N})}finally{R&&o.wasm.dealloc(R)}}const T=E.open(m);return v.filename=T.filename,v.persistent=!!o.capi.sqlite3_js_db_uses_vfs(T.pointer,"opfs"),v.dbId=g(T),v.vfs=T.dbVfsName(),v},close:function(f){const m=C(f,!1),q={filename:m&&m.filename};if(m){const v=f.args&&typeof f.args=="object"?!!f.args.unlink:!1;E.close(m,v)}return q},exec:function(f){const m=typeof f.args=="string"?{sql:f.args}:f.args||Object.create(null);m.rowMode==="stmt"?i("Invalid rowMode for 'exec': stmt mode","does not work in the Worker API."):m.sql||i("'exec' requires input SQL.");const q=C(f);(m.callback||Array.isArray(m.resultRows))&&(q._blobXfer=E.xfer);const v=m.callback;let O=0;const P=!!m.columnNames;typeof v=="string"&&(P||(m.columnNames=[]),m.callback=function(T,R){E.post({type:v,columnNames:m.columnNames,rowNumber:++O,row:T},E.xfer)});try{q.exec(m),m.callback instanceof Function&&(m.callback=v,E.post({type:v,columnNames:m.columnNames,rowNumber:null,row:void 0}))}finally{delete q._blobXfer,m.callback&&(m.callback=v)}return m},"config-get":function(){const f=Object.create(null),m=o.config;return["bigIntEnabled"].forEach(function(q){Object.getOwnPropertyDescriptor(m,q)&&(f[q]=m[q])}),f.version=o.version,f.vfsList=o.capi.sqlite3_js_vfs_list(),f.opfsEnabled=!!o.opfs,f},export:function(f){const m=C(f),q={byteArray:o.capi.sqlite3_js_db_export(m.pointer),filename:m.filename,mimetype:"application/x-sqlite3"};return E.xfer.push(q.byteArray.buffer),q},toss:function(f){i("Testing worker exception")},"opfs-tree":async function(f){return o.opfs||i("OPFS support is unavailable."),await o.opfs.treeList()}};s.onmessage=async function(f){f=f.data;let m,q=f.dbId,v=f.type;const O=performance.now();try{h.hasOwnProperty(v)&&h[v]instanceof Function?m=await h[v](f):i("Unknown db worker message type:",f.type)}catch(P){v="error",m={operation:f.type,message:P.message,errorClass:P.name,input:f},P.stack&&(m.stack=typeof P.stack=="string"?P.stack.split(/\n\s*/):P.stack)}q||(q=m.dbId||z()),E.post({type:v,dbId:q,messageId:f.messageId,workerReceivedTime:O,workerRespondTime:performance.now(),departureTime:f.departureTime,result:m},E.xfer)},s.postMessage({type:"sqlite3-api",result:"worker1-ready"})}.bind({self,sqlite3:t})}),self.sqlite3ApiBootstrap.initializers.push(function(t){const i=t.wasm,s=t.capi,o=t.util.toss3,c=Object.create(null),g=Object.create(null);t.vfs=c,t.vtab=g;const E=s.sqlite3_index_info;E.prototype.nthConstraint=function(b,h=!1){if(b<0||b>=this.$nConstraint)return!1;const f=this.$aConstraint+E.sqlite3_index_constraint.structInfo.sizeof*b;return h?f:new E.sqlite3_index_constraint(f)},E.prototype.nthConstraintUsage=function(b,h=!1){if(b<0||b>=this.$nConstraint)return!1;const f=this.$aConstraintUsage+E.sqlite3_index_constraint_usage.structInfo.sizeof*b;return h?f:new E.sqlite3_index_constraint_usage(f)},E.prototype.nthOrderBy=function(b,h=!1){if(b<0||b>=this.$nOrderBy)return!1;const f=this.$aOrderBy+E.sqlite3_index_orderby.structInfo.sizeof*b;return h?f:new E.sqlite3_index_orderby(f)};const F=function b(h,f,m,q=b.installMethodArgcCheck){if(h instanceof t.StructBinder.StructType?!(m instanceof Function)&&!i.isPtr(m)&&o("Usage errror: expecting a Function or WASM pointer to one."):o("Usage error: target object is-not-a StructType."),arguments.length===1)return(T,R)=>b(h,T,R,q);b.argcProxy||(b.argcProxy=function(T,R,N,Q){return function(...p){return N.length!==arguments.length&&o("Argument mismatch for",T.structInfo.name+"::"+R+": Native signature is:",Q),N.apply(this,p)}},b.removeFuncList=function(){this.ondispose.__removeFuncList&&(this.ondispose.__removeFuncList.forEach((T,R)=>{if(typeof T=="number")try{i.uninstallFunction(T)}catch{}}),delete this.ondispose.__removeFuncList)});const v=h.memberSignature(f);v.length<2&&o("Member",f,"does not have a function pointer signature:",v);const O=h.memberKey(f),P=q&&!i.isPtr(m)?b.argcProxy(h,O,m,v):m;if(i.isPtr(P))P&&!i.functionEntry(P)&&o("Pointer",P,"is not a WASM function table entry."),h[O]=P;else{const T=i.installFunction(P,h.memberSignature(f,!0));h[O]=T,(!h.ondispose||!h.ondispose.__removeFuncList)&&(h.addOnDispose("ondispose.__removeFuncList handler",b.removeFuncList),h.ondispose.__removeFuncList=[]),h.ondispose.__removeFuncList.push(O,T)}return(T,R)=>b(h,T,R,q)};F.installMethodArgcCheck=!1;const C=function(b,h,f=F.installMethodArgcCheck){const m=new Map;for(const q of Object.keys(h)){const v=h[q],O=m.get(v);if(O){const P=b.memberKey(q);b[P]=b[b.memberKey(O)]}else F(b,q,v,f),m.set(v,q)}return b};t.StructBinder.StructType.prototype.installMethod=function(h,f,m=F.installMethodArgcCheck){return arguments.length<3&&h&&typeof h=="object"?C(this,...arguments):F(this,...arguments)},t.StructBinder.StructType.prototype.installMethods=function(b,h=F.installMethodArgcCheck){return C(this,b,h)},s.sqlite3_vfs.prototype.registerVfs=function(b=!1){this instanceof t.capi.sqlite3_vfs||o("Expecting a sqlite3_vfs-type argument.");const h=s.sqlite3_vfs_register(this,b?1:0);return h&&o("sqlite3_vfs_register(",this,") failed with rc",h),this.pointer!==s.sqlite3_vfs_find(this.$zName)&&o("BUG: sqlite3_vfs_find(vfs.$zName) failed for just-installed VFS",this),this},c.installVfs=function(b){let h=0;const f=["io","vfs"];for(const m of f){const q=b[m];q&&(++h,C(q.struct,q.methods,!!q.applyArgcCheck),m==="vfs"&&(!q.struct.$zName&&typeof q.name=="string"&&q.struct.addOnDispose(q.struct.$zName=i.allocCString(q.name)),q.struct.registerVfs(!!q.asDefault)))}return h||o("Misuse: installVfs() options object requires at least","one of:",f),this};const z=function(b,h){return function(f,m=!1){if(arguments.length===0&&(f=new h),f instanceof h)return this.set(f.pointer,f),f;i.isPtr(f)||t.SQLite3Error.toss("Invalid argument to",b+"()");let q=this.get(f);return m&&this.delete(f),q}.bind(new Map)},V=function(b,h){const f=z(b,h);return Object.assign(Object.create(null),{StructType:h,create:m=>{const q=f();return i.pokePtr(m,q.pointer),q},get:m=>f(m),unget:m=>f(m,!0),dispose:m=>{const q=f(m,!0);q&&q.dispose()}})};g.xVtab=V("xVtab",s.sqlite3_vtab),g.xCursor=V("xCursor",s.sqlite3_vtab_cursor),g.xIndexInfo=b=>new s.sqlite3_index_info(b),g.xError=function b(h,f,m){if(b.errorReporter instanceof Function)try{b.errorReporter("sqlite3_module::"+h+"(): "+f.message)}catch{}let q;return f instanceof t.WasmAllocError?q=s.SQLITE_NOMEM:arguments.length>2?q=m:f instanceof t.SQLite3Error&&(q=f.resultCode),q||s.SQLITE_ERROR},g.xError.errorReporter=console.error.bind(console),g.xRowid=(b,h)=>i.poke(b,h,"i64"),g.setupModule=function(b){let h=!1;const f=this instanceof s.sqlite3_module?this:b.struct||(h=new s.sqlite3_module);try{const m=b.methods||o("Missing 'methods' object.");for(const q of Object.entries({xConnect:"xCreate",xDisconnect:"xDestroy"})){const v=q[0],O=q[1];m[v]===!0?m[v]=m[O]:m[O]===!0&&(m[O]=m[v])}if(b.catchExceptions){const q=function(P,T){return["xConnect","xCreate"].indexOf(P)>=0?function(R,N,Q,p,y,x){try{return T(...arguments)||0}catch(d){return d instanceof t.WasmAllocError||(i.dealloc(i.peekPtr(x)),i.pokePtr(x,i.allocCString(d.message))),g.xError(P,d)}}:function(...R){try{return T(...R)||0}catch(N){return g.xError(P,N)}}},v=["xCreate","xConnect","xBestIndex","xDisconnect","xDestroy","xOpen","xClose","xFilter","xNext","xEof","xColumn","xRowid","xUpdate","xBegin","xSync","xCommit","xRollback","xFindFunction","xRename","xSavepoint","xRelease","xRollbackTo","xShadowName"],O=Object.create(null);for(const P of v){const T=m[P];if(T instanceof Function)P==="xConnect"&&m.xCreate===T?O[P]=m.xCreate:P==="xCreate"&&m.xConnect===T?O[P]=m.xConnect:O[P]=q(P,T);else continue}C(f,O,!1)}else C(f,m,!!b.applyArgcCheck);if(f.$iVersion===0){let q;typeof b.iVersion=="number"?q=b.iVersion:f.$xShadowName?q=3:f.$xSavePoint||f.$xRelease||f.$xRollbackTo?q=2:q=1,f.$iVersion=q}}catch(m){throw h&&h.dispose(),m}return f},s.sqlite3_module.prototype.setupModule=function(b){return g.setupModule.call(this,b)}}),self.sqlite3ApiBootstrap.initializers.push(function(t){const i=function s(o){if(!self.SharedArrayBuffer||!self.Atomics)return Promise.reject(new Error("Cannot install OPFS: Missing SharedArrayBuffer and/or Atomics. The server must emit the COOP/COEP response headers to enable those. See https://sqlite.org/wasm/doc/trunk/persistence.md#coop-coep"));if(self.window===self&&self.document)return Promise.reject(new Error("The OPFS sqlite3_vfs cannot run in the main thread because it requires Atomics.wait()."));if(!self.FileSystemHandle||!self.FileSystemDirectoryHandle||!self.FileSystemFileHandle||!self.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator.storage.getDirectory)return Promise.reject(new Error("Missing required OPFS APIs."));(!o||typeof o!="object")&&(o=Object.create(null));const c=new URL(self.location.href).searchParams;return o.verbose===void 0&&(o.verbose=c.has("opfs-verbose")?+c.get("opfs-verbose")||2:1),o.sanityChecks===void 0&&(o.sanityChecks=c.has("opfs-sanity-check")),o.proxyUri===void 0&&(o.proxyUri=s.defaultProxyUri),typeof o.proxyUri=="function"&&(o.proxyUri=o.proxyUri()),new Promise(function(E,F){const C={0:t.config.error.bind(console),1:t.config.warn.bind(console),2:t.config.log.bind(console)},z=(S,...D)=>{o.verbose>S&&C[S]("OPFS syncer:",...D)},V=(...S)=>z(2,...S),b=(...S)=>z(1,...S),h=(...S)=>z(0,...S),f=t.util.toss,m=t.capi,q=t.wasm,v=m.sqlite3_vfs,O=m.sqlite3_file,P=m.sqlite3_io_methods,T=Object.create(null),R=()=>self.FileSystemHandle&&self.FileSystemDirectoryHandle&&self.FileSystemFileHandle&&self.FileSystemFileHandle.prototype.createSyncAccessHandle&&navigator.storage.getDirectory;T.metrics={dump:function(){let S,D=0,L=0,U=0;for(S in u.opIds){const j=a[S];D+=j.count,L+=j.time,U+=j.wait,j.avgTime=j.count&&j.time?j.time/j.count:0,j.avgWait=j.count&&j.wait?j.wait/j.count:0}t.config.log(self.location.href,"metrics for",self.location.href,":",a,`
Total of`,D,"op(s) for",L,"ms (incl. "+U+" ms of waiting on the async side)"),t.config.log("Serialization metrics:",a.s11n),y.postMessage({type:"opfs-async-metrics"})},reset:function(){let S;const D=U=>U.count=U.time=U.wait=0;for(S in u.opIds)D(a[S]=Object.create(null));let L=a.s11n=Object.create(null);L=L.serialize=Object.create(null),L.count=L.time=0,L=a.s11n.deserialize=Object.create(null),L.count=L.time=0}};const N=new v,Q=new P,p=function(S){return N.dispose(),F(S)},y=new Worker(new URL(""+new URL("sqlite3-opfs-async-proxy-7336debb.js",self.location.href).href,self.location));y._originalOnError=y.onerror,y.onerror=function(S){h("Error initializing OPFS asyncer:",S),p(new Error("Loading OPFS async Worker failed for unknown reasons."))};const x=m.sqlite3_vfs_find(null),d=x?new v(x):null;N.$iVersion=2,N.$szOsFile=m.sqlite3_file.structInfo.sizeof,N.$mxPathname=1024,N.$zName=q.allocCString("opfs"),N.$xDlOpen=N.$xDlError=N.$xDlSym=N.$xDlClose=null,N.ondispose=["$zName",N.$zName,"cleanup default VFS wrapper",()=>d?d.dispose():null,"cleanup opfsIoMethods",()=>Q.dispose()];const u=Object.create(null);u.verbose=o.verbose,u.littleEndian=(()=>{const S=new ArrayBuffer(2);return new DataView(S).setInt16(0,256,!0),new Int16Array(S)[0]===256})(),u.asyncIdleWaitTime=150,u.asyncS11nExceptions=1,u.fileBufferSize=1024*64,u.sabS11nOffset=u.fileBufferSize,u.sabS11nSize=N.$mxPathname*2,u.sabIO=new SharedArrayBuffer(u.fileBufferSize+u.sabS11nSize),u.opIds=Object.create(null);const a=Object.create(null);{let S=0;u.opIds.whichOp=S++,u.opIds.rc=S++,u.opIds.xAccess=S++,u.opIds.xClose=S++,u.opIds.xDelete=S++,u.opIds.xDeleteNoWait=S++,u.opIds.xFileControl=S++,u.opIds.xFileSize=S++,u.opIds.xLock=S++,u.opIds.xOpen=S++,u.opIds.xRead=S++,u.opIds.xSleep=S++,u.opIds.xSync=S++,u.opIds.xTruncate=S++,u.opIds.xUnlock=S++,u.opIds.xWrite=S++,u.opIds.mkdir=S++,u.opIds["opfs-async-metrics"]=S++,u.opIds["opfs-async-shutdown"]=S++,u.opIds.retry=S++,u.sabOP=new SharedArrayBuffer(S*4),T.metrics.reset()}u.sq3Codes=Object.create(null),["SQLITE_ACCESS_EXISTS","SQLITE_ACCESS_READWRITE","SQLITE_BUSY","SQLITE_ERROR","SQLITE_IOERR","SQLITE_IOERR_ACCESS","SQLITE_IOERR_CLOSE","SQLITE_IOERR_DELETE","SQLITE_IOERR_FSYNC","SQLITE_IOERR_LOCK","SQLITE_IOERR_READ","SQLITE_IOERR_SHORT_READ","SQLITE_IOERR_TRUNCATE","SQLITE_IOERR_UNLOCK","SQLITE_IOERR_WRITE","SQLITE_LOCK_EXCLUSIVE","SQLITE_LOCK_NONE","SQLITE_LOCK_PENDING","SQLITE_LOCK_RESERVED","SQLITE_LOCK_SHARED","SQLITE_LOCKED","SQLITE_MISUSE","SQLITE_NOTFOUND","SQLITE_OPEN_CREATE","SQLITE_OPEN_DELETEONCLOSE","SQLITE_OPEN_MAIN_DB","SQLITE_OPEN_READONLY"].forEach(S=>{(u.sq3Codes[S]=m[S])===void 0&&f("Maintenance required: not found:",S)}),u.opfsFlags=Object.assign(Object.create(null),{OPFS_UNLOCK_ASAP:1,defaultUnlockAsap:!1});const _=(S,...D)=>{const L=u.opIds[S]||f("Invalid op ID:",S);u.s11n.serialize(...D),Atomics.store(u.sabOPView,u.opIds.rc,-1),Atomics.store(u.sabOPView,u.opIds.whichOp,L),Atomics.notify(u.sabOPView,u.opIds.whichOp);const U=performance.now();Atomics.wait(u.sabOPView,u.opIds.rc,-1);const j=Atomics.load(u.sabOPView,u.opIds.rc);if(a[S].wait+=performance.now()-U,j&&u.asyncS11nExceptions){const ne=u.s11n.deserialize();ne&&h(S+"() async error:",...ne)}return j};T.debug={asyncShutdown:()=>{b("Shutting down OPFS async listener. The OPFS VFS will no longer work."),_("opfs-async-shutdown")},asyncRestart:()=>{b("Attempting to restart OPFS VFS async listener. Might work, might not."),y.postMessage({type:"opfs-async-restart"})}};const w=()=>{if(u.s11n)return u.s11n;const S=new TextDecoder,D=new TextEncoder("utf-8"),L=new Uint8Array(u.sabIO,u.sabS11nOffset,u.sabS11nSize),U=new DataView(u.sabIO,u.sabS11nOffset,u.sabS11nSize);u.s11n=Object.create(null);const j=Object.create(null);j.number={id:1,size:8,getter:"getFloat64",setter:"setFloat64"},j.bigint={id:2,size:8,getter:"getBigInt64",setter:"setBigInt64"},j.boolean={id:3,size:4,getter:"getInt32",setter:"setInt32"},j.string={id:4};const ne=G=>j[typeof G]||f("Maintenance required: this value type cannot be serialized.",G),se=G=>{switch(G){case j.number.id:return j.number;case j.bigint.id:return j.bigint;case j.boolean.id:return j.boolean;case j.string.id:return j.string;default:f("Invalid type ID:",G)}};return u.s11n.deserialize=function(G=!1){++a.s11n.deserialize.count;const xe=performance.now(),_e=L[0],ge=_e?[]:null;if(_e){const be=[];let pe=1,A,M,B;for(A=0;A<_e;++A,++pe)be.push(se(L[pe]));for(A=0;A<_e;++A){const W=be[A];W.getter?(B=U[W.getter](pe,u.littleEndian),pe+=W.size):(M=U.getInt32(pe,u.littleEndian),pe+=4,B=S.decode(L.slice(pe,pe+M)),pe+=M),ge.push(B)}}return G&&(L[0]=0),a.s11n.deserialize.time+=performance.now()-xe,ge},u.s11n.serialize=function(...G){const xe=performance.now();if(++a.s11n.serialize.count,G.length){const _e=[];let ge=0,be=1;for(L[0]=G.length&255;ge<G.length;++ge,++be)_e.push(ne(G[ge])),L[be]=_e[ge].id;for(ge=0;ge<G.length;++ge){const pe=_e[ge];if(pe.setter)U[pe.setter](be,G[ge],u.littleEndian),be+=pe.size;else{const A=D.encode(G[ge]);U.setInt32(be,A.byteLength,u.littleEndian),be+=4,L.set(A,be),be+=A.byteLength}}}else L[0]=0;a.s11n.serialize.time+=performance.now()-xe},u.s11n},k=function S(D=16){S._chars||(S._chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ012346789",S._n=S._chars.length);const L=[];let U=0;for(;U<D;++U){const j=Math.random()*(S._n*64)%S._n|0;L[U]=S._chars[j]}return L.join("")},I=Object.create(null),K=Object.create(null);K.op=void 0,K.start=void 0;const H=S=>{K.start=performance.now(),K.op=S,++a[S].count},J=()=>a[K.op].time+=performance.now()-K.start,Y={xCheckReservedLock:function(S,D){const L=I[S];return q.poke(D,L.lockType?1:0,"i32"),0},xClose:function(S){H("xClose");let D=0;const L=I[S];return L&&(delete I[S],D=_("xClose",S),L.sq3File&&L.sq3File.dispose()),J(),D},xDeviceCharacteristics:function(S){return m.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(S,D,L){H("xFileControl");const U=m.SQLITE_FCNTL_SYNC===D?_("xSync",S,0):m.SQLITE_NOTFOUND;return J(),U},xFileSize:function(S,D){H("xFileSize");let L=_("xFileSize",S);if(L==0)try{const U=u.s11n.deserialize()[0];q.poke(D,U,"i64")}catch(U){h("Unexpected error reading xFileSize() result:",U),L=u.sq3Codes.SQLITE_IOERR}return J(),L},xLock:function(S,D){H("xLock");const L=I[S];let U=0;return L.lockType?L.lockType=D:(U=_("xLock",S,D),U===0&&(L.lockType=D)),J(),U},xRead:function(S,D,L,U){H("xRead");const j=I[S];let ne;try{ne=_("xRead",S,L,Number(U)),(ne===0||m.SQLITE_IOERR_SHORT_READ===ne)&&q.heap8u().set(j.sabView.subarray(0,L),D)}catch(se){h("xRead(",arguments,") failed:",se,j),ne=m.SQLITE_IOERR_READ}return J(),ne},xSync:function(S,D){return++a.xSync.count,0},xTruncate:function(S,D){H("xTruncate");const L=_("xTruncate",S,Number(D));return J(),L},xUnlock:function(S,D){H("xUnlock");const L=I[S];let U=0;return m.SQLITE_LOCK_NONE===D&&L.lockType&&(U=_("xUnlock",S,D)),U===0&&(L.lockType=D),J(),U},xWrite:function(S,D,L,U){H("xWrite");const j=I[S];let ne;try{j.sabView.set(q.heap8u().subarray(D,D+L)),ne=_("xWrite",S,L,Number(U))}catch(se){h("xWrite(",arguments,") failed:",se,j),ne=m.SQLITE_IOERR_WRITE}return J(),ne}},$={xAccess:function(S,D,L,U){H("xAccess");const j=_("xAccess",q.cstrToJs(D));return q.poke(U,j?0:1,"i32"),J(),0},xCurrentTime:function(S,D){return q.poke(D,24405875e-1+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(S,D){return q.poke(D,24405875e-1*864e5+new Date().getTime(),"i64"),0},xDelete:function(S,D,L){return H("xDelete"),_("xDelete",q.cstrToJs(D),L,!1),J(),0},xFullPathname:function(S,D,L,U){return q.cstrncpy(U,D,L)<L?0:m.SQLITE_CANTOPEN},xGetLastError:function(S,D,L){return b("OPFS xGetLastError() has nothing sensible to return."),0},xOpen:function(D,L,U,j,ne){H("xOpen");let se=0;L===0?L=k():typeof L=="number"&&(m.sqlite3_uri_boolean(L,"opfs-unlock-asap",0)&&(se|=u.opfsFlags.OPFS_UNLOCK_ASAP),L=q.cstrToJs(L));const G=Object.create(null);G.fid=U,G.filename=L,G.sab=new SharedArrayBuffer(u.fileBufferSize),G.flags=j;const xe=_("xOpen",U,L,j,se);return xe||(G.readOnly&&q.poke(ne,m.SQLITE_OPEN_READONLY,"i32"),I[U]=G,G.sabView=u.sabFileBufView,G.sq3File=new O(U),G.sq3File.$pMethods=Q.pointer,G.lockType=m.SQLITE_LOCK_NONE),J(),xe}};if(d&&(N.$xRandomness=d.$xRandomness,N.$xSleep=d.$xSleep),N.$xRandomness||($.xRandomness=function(S,D,L){const U=q.heap8u();let j=0;for(;j<D;++j)U[L+j]=Math.random()*255e3&255;return j}),N.$xSleep||($.xSleep=function(S,D){return Atomics.wait(u.sabOPView,u.opIds.xSleep,0,D),0}),T.getResolvedPath=function(S,D){const L=new URL(S,"file://irrelevant").pathname;return D?L.split("/").filter(U=>!!U):L},T.getDirForFilename=async function(D,L=!1){const U=T.getResolvedPath(D,!0),j=U.pop();let ne=T.rootDirectory;for(const se of U)se&&(ne=await ne.getDirectoryHandle(se,{create:!!L}));return[ne,j]},T.mkdir=async function(S){try{return await T.getDirForFilename(S+"/filepart",!0),!0}catch{return!1}},T.entryExists=async function(S){try{const[D,L]=await T.getDirForFilename(S);return await D.getFileHandle(L),!0}catch{return!1}},T.randomFilename=k,T.registerVfs=(S=!1)=>q.exports.sqlite3_vfs_register(N.pointer,S?1:0),T.treeList=async function(){const S=async function L(U,j){j.name=U.name,j.dirs=[],j.files=[];for await(const ne of U.values())if(ne.kind==="directory"){const se=Object.create(null);j.dirs.push(se),await L(ne,se)}else j.files.push(ne.name)},D=Object.create(null);return await S(T.rootDirectory,D),D},T.rmfr=async function(){const S=T.rootDirectory,D={recurse:!0};for await(const L of S.values())S.removeEntry(L.name,D)},T.unlink=async function(S,D=!1,L=!1){try{const[U,j]=await T.getDirForFilename(S,!1);return await U.removeEntry(j,{recursive:D}),!0}catch(U){if(L)throw new Error("unlink(",arguments[0],") failed: "+U.message,{cause:U});return!1}},T.traverse=async function(S){const D={recursive:!0,directory:T.rootDirectory};typeof S=="function"&&(S={callback:S}),S=Object.assign(D,S||{}),async function U(j,ne){for await(const se of j.values()){if(S.callback(se,j,ne)===!1)return!1;if(S.recursive&&se.kind==="directory"&&await U(se,ne+1)===!1)break}}(S.directory,0)},t.oo1){const S=function(...D){const L=t.oo1.DB.dbCtorHelper.normalizeArgs(...D);L.vfs=N.$zName,t.oo1.DB.dbCtorHelper.call(this,L)};S.prototype=Object.create(t.oo1.DB.prototype),t.oo1.OpfsDb=S,t.oo1.DB.dbCtorHelper.setVfsPostOpenSql(N.pointer,function(D,L){L.capi.sqlite3_busy_timeout(D,1e4),L.capi.sqlite3_exec(D,["pragma journal_mode=persist;","pragma cache_size=-16384;"],0,0,0)})}const le=function(){const S=q.scopedAllocPush(),D=new O;try{const L=D.pointer,U=m.SQLITE_OPEN_CREATE|m.SQLITE_OPEN_READWRITE|m.SQLITE_OPEN_MAIN_DB,j=q.scopedAlloc(8),ne="/sanity/check/file"+k(8),se=q.scopedAllocCString(ne);let G;if(u.s11n.serialize("This is ä string."),G=u.s11n.deserialize(),V("deserialize() says:",G),G[0]!=="This is ä string."&&f("String d13n error."),$.xAccess(N.pointer,se,0,j),G=q.peek(j,"i32"),V("xAccess(",ne,") exists ?=",G),G=$.xOpen(N.pointer,se,L,U,j),V("open rc =",G,"state.sabOPView[xOpen] =",u.sabOPView[u.opIds.xOpen]),G!==0){h("open failed with code",G);return}$.xAccess(N.pointer,se,0,j),G=q.peek(j,"i32"),G||f("xAccess() failed to detect file."),G=Y.xSync(D.pointer,0),G&&f("sync failed w/ rc",G),G=Y.xTruncate(D.pointer,1024),G&&f("truncate failed w/ rc",G),q.poke(j,0,"i64"),G=Y.xFileSize(D.pointer,j),G&&f("xFileSize failed w/ rc",G),V("xFileSize says:",q.peek(j,"i64")),G=Y.xWrite(D.pointer,se,10,1),G&&f("xWrite() failed!");const xe=q.scopedAlloc(16);G=Y.xRead(D.pointer,xe,6,2),q.poke(xe+6,0);let _e=q.cstrToJs(xe);V("xRead() got:",_e),_e!=="sanity"&&f("Unexpected xRead() value."),$.xSleep&&(V("xSleep()ing before close()ing..."),$.xSleep(N.pointer,2e3),V("waking up from xSleep()")),G=Y.xClose(L),V("xClose rc =",G,"sabOPView =",u.sabOPView),V("Deleting file:",ne),$.xDelete(N.pointer,se,4660),$.xAccess(N.pointer,se,0,j),G=q.peek(j,"i32"),G&&f("Expecting 0 from xAccess(",ne,") after xDelete()."),b("End of OPFS sanity checks.")}finally{D.dispose(),q.scopedAllocPop(S)}};y.onmessage=function({data:S}){switch(S.type){case"opfs-unavailable":p(new Error(S.payload.join(" ")));break;case"opfs-async-loaded":y.postMessage({type:"opfs-async-init",args:u});break;case"opfs-async-inited":{try{t.vfs.installVfs({io:{struct:Q,methods:Y},vfs:{struct:N,methods:$}}),u.sabOPView=new Int32Array(u.sabOP),u.sabFileBufView=new Uint8Array(u.sabIO,0,u.fileBufferSize),u.sabS11nView=new Uint8Array(u.sabIO,u.sabS11nOffset,u.sabS11nSize),w(),o.sanityChecks&&(b("Running sanity checks because of opfs-sanity-check URL arg..."),le()),R()?navigator.storage.getDirectory().then(D=>{y.onerror=y._originalOnError,delete y._originalOnError,t.opfs=T,T.rootDirectory=D,V("End of OPFS sqlite3_vfs setup.",N),E(t)}).catch(p):E(t)}catch(D){h(D),p(D)}break}default:p(e),h("Unexpected message from the async worker:",S);break}}})};i.defaultProxyUri="sqlite3-opfs-async-proxy.js",self.sqlite3ApiBootstrap.initializersAsync.push(async s=>{try{let o=i.defaultProxyUri;return s.scriptInfo.sqlite3Dir&&(i.defaultProxyUri=s.scriptInfo.sqlite3Dir+o),i().catch(c=>{s.config.warn("Ignoring inability to install OPFS sqlite3_vfs:",c.message)})}catch(o){throw s.config.error("installOpfsVfs() exception:",o),o}})}),typeof r<"u"){const t=Object.assign(Object.create(null),{exports:r.asm,memory:r.wasmMemory},self.sqlite3ApiConfig||{});self.sqlite3ApiConfig=t;let i;try{i=self.sqlite3ApiBootstrap()}catch(s){throw console.error("sqlite3ApiBootstrap() error:",s),s}finally{delete self.sqlite3ApiBootstrap,delete self.sqlite3ApiConfig}r.sqlite3=i}else console.warn("This is not running in an Emscripten module context, so","self.sqlite3ApiBootstrap() is _not_ being called due to lack","of config info for the WASM environment.","It must be called manually.")}),ye.ready}})();const Ie=function(){var ye;const de=Pe;if(!de)throw new Error("Expecting self.sqlite3InitModule to be defined by the Emscripten build.");const ie=self.sqlite3InitModuleState=Object.assign(Object.create(null),{moduleScript:(ye=self==null?void 0:self.document)==null?void 0:ye.currentScript,isWorker:typeof WorkerGlobalScope<"u",location:self.location,urlParams:new URL(self.location.href).searchParams});if(ie.debugModule=ie.urlParams.has("sqlite3.debugModule")?(...n)=>console.warn("sqlite3.debugModule:",...n):()=>{},ie.urlParams.has("sqlite3.dir"))ie.sqlite3Dir=ie.urlParams.get("sqlite3.dir")+"/";else if(ie.moduleScript){const n=ie.moduleScript.src.split("/");n.pop(),ie.sqlite3Dir=n.join("/")+"/"}if(self.sqlite3InitModule=function n(...Le){return de(...Le).then(we=>{if(self.window!==self&&(we.ENVIRONMENT_IS_PTHREAD||we._pthread_self||typeof threadAlert=="function"||self.location.pathname.endsWith(".worker.js")))return we;const De=we.sqlite3;De.scriptInfo=ie,n.__isUnderTest&&(De.__isUnderTest=!0);const Ge=De.asyncPostInit;return delete De.asyncPostInit,Ge()}).catch(we=>{throw console.error("Exception loading sqlite3 module:",we),we})},self.sqlite3InitModule.ready=de.ready,self.sqlite3InitModuleState.moduleScript){const n=self.sqlite3InitModuleState;let Le=n.moduleScript.src.split("/");Le.pop(),n.scriptDir=Le.join("/")+"/"}return ie.debugModule("sqlite3InitModuleState =",ie),self.sqlite3InitModule}(),Fe=function(de,...ie){postMessage({type:"log",payload:{cssClass:de,args:ie}})},Se=(...de)=>Fe("",...de),at=(...de)=>Fe("error",...de),Dt=function(de){Se("Running SQLite3 version",de.version.libVersion);let ie;"opfs"in de?(ie=new de.oo1.OpfsDb("/mydb.sqlite3"),Se("OPFS is available, created persisted database at",ie.filename)):(ie=new de.oo1.DB("/mydb.sqlite3","ct"),Se("OPFS is not available, created transient database",ie.filename));try{Se("Creating a table..."),ie.exec("CREATE TABLE IF NOT EXISTS t(a,b)"),Se("Insert some data using exec()...");for(let ye=20;ye<=25;++ye)ie.exec({sql:"INSERT INTO t(a,b) VALUES (?,?)",bind:[ye,ye*2]});Se("Query data with exec()..."),ie.exec({sql:"SELECT a, b FROM t ORDER BY a LIMIT 100",callback:ye=>{Se(ye)}})}finally{ie.close()}};Se("Loading and initializing SQLite3 module..."),Ie({print:Se,printErr:at}).then(de=>{Se("Done initializing. Running demo...");try{Dt(de)}catch(ie){at(ie.name,ie.message)}})})();
